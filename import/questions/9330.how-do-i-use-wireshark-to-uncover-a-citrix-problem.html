<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>How do I use Wireshark to uncover a Citrix problem? - Wireshark Q&amp;A</title>
        <meta name="description" content="We have this small application that goes out to a web server and it pulls down a report (about 57K on average) which works fine on a standalone workstation. The whole process is a couple of seconds long. Put that application on a Citrix server and you&#39;re waiting just over 2 minutes. And you don&#39;t ev..." />
        <meta name="keywords" content="reassembled,retransmissions,citrix" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='EXdSFeS5m9TjhoFvastFY6Xq1qNJFbht' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem">How do I use Wireshark to uncover a Citrix problem?</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-9330-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/9330/up/" rel="nofollow"> </a>
<div id="post-9330-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-9330-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/9330/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/9330/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>We have this small application that goes out to a web server and it pulls down a report (about 57K on average) which works fine on a standalone workstation.  The whole process is a couple of seconds long.</p>
<p>Put that application on a Citrix server and you're waiting just over 2 minutes.  And you don't even need to do it through citrix.  I can RDP to the citrix server and reliably reproduce the issue over and over from the console. </p>
<p>In the app you click Print to bring down the PDF and opens it in Adobe, Foxit, doesn't matter the result is the same. Running Wireshark on the citrix server (which is a Win2003 virtual server running on Hyper V) I can see where and why it hangs, I'm just at a standstill....Can someone help?</p>
<p>Here's the relevant info(I think) filtered for just HTTP:</p>
<pre><code>785 114.761196  192.168.1.5 96.44.1.1   HTTP/XML    1103    POST /SmartServerNet/WebService.asmx HTTP/1.1 
786 115.939767  192.168.1.5 96.44.1.1   TCP 1103    [TCP Retransmission] [TCP segment of a reassembled PDU]
787 118.232875  192.168.1.5 96.44.1.1   TCP 1103    [TCP Retransmission] [TCP segment of a reassembled PDU]
788 122.725705  192.168.1.5 96.44.1.1   TCP 1103    [TCP Retransmission] [TCP segment of a reassembled PDU]
789 131.461834  192.168.1.5 96.44.1.1   TCP 1103    [TCP Retransmission] [TCP segment of a reassembled PDU]
790 149.074068  192.168.1.5 96.44.1.1   TCP 1103    [TCP Retransmission] [TCP segment of a reassembled PDU]
791 169.137619  96.44.1.1   192.168.1.5 TCP 60  http &gt; 4962 [RST, ACK] Seq=24048 Ack=4084 Win=0 Len=0
792 184.428380  192.168.1.5 96.44.1.1   TCP 62  4993 &gt; http [SYN] Seq=0 Win=64512 Len=0 MSS=1460 SACK_PERM=1
</code></pre>
<p>Then boom, pdf opens and all is right.  I'm new at this so please bear with me....</p>
<p>THANK YOU!</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/reassembled/" class="post-tag tag-link-reassembled"
                                        title="see questions tagged 'reassembled'" rel="tag">reassembled</a>
                                
                                    <a href="/tags/retransmissions/" class="post-tag tag-link-retransmissions"
                                        title="see questions tagged 'retransmissions'" rel="tag">retransmissions</a>
                                
                                    <a href="/tags/citrix/" class="post-tag tag-link-citrix"
                                        title="see questions tagged 'citrix'" rel="tag">citrix</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>03 Mar '12, 08:59</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/29c58be3d3185018b724cf9f0aebf8bf?s=32&amp;d=identicon&amp;r=g" alt="Willmeister's gravatar image" />
    <p><a href="/users/2306/willmeister">Willmeister</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="4 badges"><span class="badge1">&#9679;</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Willmeister has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/9330/">
                edited
                <strong>03 Mar '12, 09:06</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" alt="SYN-bit's gravatar image" />
            <p><a href="/users/5/syn-bit">SYN-bit ♦♦</a><br/>
            <span class="score" title="17094 reputation points"><span class="">17.1k</span></span><span title="9 badges"><span class="badge1">&#9679;</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">&#9679;</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">&#9679;</span><span class="badgecount">245</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-9330">
    
        <a name="9646"></a>
        <div class="comment" id="comment-9646">
            <div id="post-9646-score" class="comment-score"></div>
            <div class="comment-text"><p>The Proxy was the problem.  And I was never going to find that until the vendor put Wireshark on their side in a test environment, had me connect directly to that server and we captured it all from both sides.  We were posting an XML page and apparently not receiving ACKs back, but they were in fact ACKing.  Over and over again.  Enabled verbose logging in the proxy and saw exactly why those were dropping.  Turned out adding an exception for their web servers was no sufficient, I had to disable filtering completely and everything worked.  Thank you so much for all the help!!!!!</p></div>
            <div class="comment-info" id="comment-9646-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 10:04)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-9330" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-9330-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="9332"></a>
                    <div id="answer-container-9332" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-9332-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/9332/up/" rel="nofollow"> </a>
<div id="post-9332-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-9332-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/9332/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I doubt it has anything to do with the server being a Citrix server. Unfortunately, your trace isn't telling much in terms of timings and TCP sequence/ack behaviour, so it is kinda hard to tell what happens and where the time goes. </p>
<p>I guess it is caused by something that is different for the server machine than on a workstation - a firewall, a Intrusion Prevention System, other IP subnet ACLs somewhere, DNS name resolution failures, that kind of thing. If you could create and provide a trace file it might be easier to tell, but I'm not sure if you can do that without disclosing company internals (or sensitive information in general). If you can, you might want to upload it to <a href="http://cloudshark.org/">CloudShark</a> and post the URL so I/we can take a look.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/9332/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>03 Mar '12, 11:47</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/c578ba2967741f25aebd6afef702f432?s=32&amp;d=identicon&amp;r=g" alt="Jasper's gravatar image" />
    <p><a href="/users/145/jasper">Jasper ♦♦</a><br/>
    <span class="score" title="23806 reputation points"><span class="">23.8k</span></span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="51 badges"><span class="silver">&#9679;</span><span class="badgecount">51</span></span><span title="284 badges"><span class="bronze">&#9679;</span><span class="badgecount">284</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Jasper has 263 accepted answers">18&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-9332">
    
        <a name="9565"></a>
        <div class="comment" id="comment-9565">
            <div id="post-9565-score" class="comment-score"></div>
            <div class="comment-text"><p>I don't know what else to do as this still isn't working, so here it is <a href="http://cloudshark.org/captures/29ddf69aafee">http://cloudshark.org/captures/29ddf69aafee</a> </p>

<p>I know the answer is in there, I just can't find it.  Anything is much appreciated....</p></div>
            <div class="comment-info" id="comment-9565-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 16:32)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
        <a name="9566"></a>
        <div class="comment" id="comment-9566">
            <div id="post-9566-score" class="comment-score"></div>
            <div class="comment-text"><p>As far as I can tell it looks like your server with the IP 96.44.176.10 has a problem. If you filter your trace on "tcp.stream==0" you can see that packet 13 coming from the client is not ACKed by the server anymore, and is retransmitted a couple of times in packet 15 thru 26 after waiting longer and longer. In 27 the client gives up and sends a reset packet. Right after that in 29 the server finally answers and ACKs packet 13, but its too late. My guess is that there was a big holdup on the path to the server, which is why its answer (in 29) arrives very very late. Or it was just very busy.</p></div>
            <div class="comment-info" id="comment-9566-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 17:00)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9567"></a>
        <div class="comment" id="comment-9567">
            <div id="post-9567-score" class="comment-score"></div>
            <div class="comment-text"><p>To check that you'll need to capture both at the client and at the server at the same time. That way you can compare the traces and tell where the holdup is.
Interestingly enough the communication in stream 2 works just fine as far as I can tell, and the server responds quickly.</p></div>
            <div class="comment-info" id="comment-9567-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 17:02)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9570"></a>
        <div class="comment" id="comment-9570">
            <div id="post-9570-score" class="comment-score"></div>
            <div class="comment-text"><p>Wow I wasn't too far off in my interpretation of what's going on.  That 96.44 ip is the vendor of the software that's hanging up.  The source in packet 13 is our server, with a small client piece.  I gave them the trace earlier and told them to follow the TCP stream from 13.  Everytime you run a report from this software the trace is the same, we push an XML file to them then the retransmits start.   Their argument is I'm the only customer with an issue so it has to be on my side.  There's logic there since I can put the client on nearly anything and it will work.</p></div>
            <div class="comment-info" id="comment-9570-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 18:44)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
        <a name="9571"></a>
        <div class="comment" id="comment-9571">
            <div id="post-9571-score" class="comment-score"></div>
            <div class="comment-text"><p>But our citrix servers are virtual 2003 standard running in 2008R2 Hyper-V.  If you run this client from host or virtual the same thing happens every single time.</p></div>
            <div class="comment-info" id="comment-9571-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 18:44)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
        <a name="9572"></a>
        <div class="comment not_top_scorer" id="comment-9572">
            <div id="post-9572-score" class="comment-score"></div>
            <div class="comment-text"><p>Oh and thank you.  I will try and see if I can get them to do a trace from their side.  Right now I'm not even thinking about the virtual citrix servers, I'm just running this client software and wireshark on the hyper-v host trying to narrow it down...latest NIC drivers helped some, but it's obviously still hanging up...</p></div>
            <div class="comment-info" id="comment-9572-info">
                
                
                
                

                

                <span class="comment-age">(15 Mar '12, 18:46)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
        <a name="9579"></a>
        <div class="comment not_top_scorer" id="comment-9579">
            <div id="post-9579-score" class="comment-score"></div>
            <div class="comment-text"><p>Ok, what you need to do is to track down where the packets are delayed. It's still possible it has something to do with your servers, so if you suspect it is still a problem in your network you might want to capture at your ISP uplink to see if you see the same packets as on the server, or if there's already delay inside your network.</p></div>
            <div class="comment-info" id="comment-9579-info">
                
                
                
                

                

                <span class="comment-age">(16 Mar '12, 00:59)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9582"></a>
        <div class="comment not_top_scorer" id="comment-9582">
            <div id="post-9582-score" class="comment-score"></div>
            <div class="comment-text"><p>I don't really suspect it's anything on the network, other than something with the virtual nics on the Hyper-V.  I have other servers, both citrix and non citrix, both windows 2003 and 2008, sitting on the same switch, same vlan, and there are no problems. The app works flawlessly.  Vmswitch.sys is the virtual NIC driver and it's very suspect to me.  Thanks for all your input.</p></div>
            <div class="comment-info" id="comment-9582-info">
                
                
                
                

                

                <span class="comment-age">(16 Mar '12, 05:55)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
        <a name="9586"></a>
        <div class="comment not_top_scorer" id="comment-9586">
            <div id="post-9586-score" class="comment-score"></div>
            <div class="comment-text"><p>Got a traffic shaper/prioritizing system in the path somewhere? This kind of thing reminds me of some strange behaviors I have seen in the past when that kind of device was in use. And especially with Citrix servers those shaping appliances are often deployed to guarantee bandwidth and fast latencies to terminal session users. Which will put your XML traffic in a very low class and delay it, sometimes for ages.</p></div>
            <div class="comment-info" id="comment-9586-info">
                
                
                
                

                

                <span class="comment-age">(16 Mar '12, 07:51)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9587"></a>
        <div class="comment not_top_scorer" id="comment-9587">
            <div id="post-9587-score" class="comment-score"></div>
            <div class="comment-text"><p>The proxy.  But I couldn't find anything in the logs.  I got the vendor to agree to a packet capture on their end, hoping it yields some info as to why we go unacknowledged.  But after that I'll revisit the proxy.</p></div>
            <div class="comment-info" id="comment-9587-info">
                
                
                
                

                

                <span class="comment-age">(16 Mar '12, 08:10)</span>
                <a class="comment-user userinfo" href="/users/2306/willmeister">Willmeister</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-9332" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-9332-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/9330/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='EXdSFeS5m9TjhoFvastFY6Xq1qNJFbht' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/9330/how-do-i-use-wireshark-to-uncover-a-citrix-problem?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/retransmissions/"
            class="tag-link-retransmissions"
            title="see questions tagged'retransmissions'using tags"
            rel="tag">retransmissions</a> <span class="tag-number">&#215;104</span><br/>
        
        <a href="/tags/citrix/"
            class="tag-link-citrix"
            title="see questions tagged'citrix'using tags"
            rel="tag">citrix</a> <span class="tag-number">&#215;13</span><br/>
        
        <a href="/tags/reassembled/"
            class="tag-link-reassembled"
            title="see questions tagged'reassembled'using tags"
            rel="tag">reassembled</a> <span class="tag-number">&#215;11</span><br/>
        
    </p>
    <p>
        question asked: <strong title="March 3, 2012, 8:59 a.m.">03 Mar '12, 08:59</strong>
    </p>
    <p> 
     	question was seen: <strong>16,094 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 20, 2012, 11:28 a.m.">20 Mar '12, 11:28</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/354/suspected-retransmissions">Suspected Retransmissions</a>
        </p>
        
        <p>
            <a href="/questions/17730/retransmissions">Retransmissions</a>
        </p>
        
        <p>
            <a href="/questions/25563/all-re-transmissions-coming-from-a-single-source-going-in-one-direction">All re-transmissions coming from a single source going in one direction.</a>
        </p>
        
        <p>
            <a href="/questions/36153/why-ack-not-sent-back">Why ACK not sent back</a>
        </p>
        
        <p>
            <a href="/questions/43475/4-errors-in-expert-infos">4 Errors in Expert Infos</a>
        </p>
        
        <p>
            <a href="/questions/50170/tcp-dups-on-virtually-every-ssl-package-but-not-on-regular-tcp-where-to-look">TCP DUPs on virtually every SSL package, but not on regular TCP. Where to look?</a>
        </p>
        
        <p>
            <a href="/questions/59906/tcp-retransmission-issue-2">TCP Retransmission Issue (2)</a>
        </p>
        
        <p>
            <a href="/questions/46138/citrix-failing-across-mpls">Citrix Failing across MPLS</a>
        </p>
        
        <p>
            <a href="/questions/562/lots-of-retransmissions-and-out-of-order-frames">Lots of retransmissions and out of order frames</a>
        </p>
        
        <p>
            <a href="/questions/17865/tcp-retransmits-on-windows-server-for-slow-connections">TCP Retransmits on Windows Server for slow connections</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
