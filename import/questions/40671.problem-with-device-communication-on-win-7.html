<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Problem with device communication on win 7 - Wireshark Q&amp;A</title>
        <meta name="description" content="I&#39;ve been using an application for sending/receiving data to multiple devices which are configured in persistent route through network. It&#39;s been working fine on Windows XP . I had switch to Win7 and found the application not able to send the data to devices any more from the PC ,but still it can re..." />
        <meta name="keywords" content="win,7" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/40671/problem-with-device-communication-on-win-7" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/40671/problem-with-device-communication-on-win-7?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='8YRcvs8W9B9lx9OKXRGER3h7YP7pF8YW' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/40671/problem-with-device-communication-on-win-7">Problem with device communication on win 7</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-40671-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40671/up/" rel="nofollow"> </a>
<div id="post-40671-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-40671-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40671/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/40671/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I've been using an application for sending/receiving data to multiple devices which are configured in persistent route through network.  It's been working fine on Windows XP . I had switch to Win7  and found the application not able to send the data to devices any more from the PC ,but still it can receive the data.</p>
<p>I have tried changing configuration for NIC to allow jumbo packets,
Disabled  the firewall and anti virus but still I am not able to send the data.</p>
<p>When I install wire-shark on win 7 PC to capture data for analysis,surprisingly my application able to send the data to devices with out any issues but if  I stops wire-shark and again run the application it is not able to send the data.</p>
<p>can any body tell  me what modifications wire-shark is doing to PC to allow the data to transfer?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/win/" class="post-tag tag-link-win"
                                        title="see questions tagged 'win'" rel="tag">win</a>
                                
                                    <a href="/tags/7/" class="post-tag tag-link-7"
                                        title="see questions tagged '7'" rel="tag">7</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>18 Mar '15, 12:42</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/1b3b58b0547169d9b2d6e36cc6ce6c91?s=32&amp;d=identicon&amp;r=g" alt="lav's gravatar image" />
    <p><a href="/users/15361/lav">lav</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="lav has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-40671">
    
</div>
<div id="comment-tools-40671" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-40671-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    3 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/40671/problem-with-device-communication-on-win-7?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40671/problem-with-device-communication-on-win-7?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40671/problem-with-device-communication-on-win-7?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/40671/problem-with-device-communication-on-win-7?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="40679"></a>
                    <div id="answer-container-40679" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40679-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40679/up/" rel="nofollow"> </a>
<div id="post-40679-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-40679-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40679/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>If you select the option Wireshark installs WinPcap, a driver to support capturing packets.</p>
<p>Update the NIC driver and reset TCP/IP using:</p>
<p><code>&gt; netsh winsock reset catalog</code></p>
<p><code>&gt; netsh int ip reset reset.txt</code></p>
<p>Restart the pc.</p>
<p>It will solve your problem but also remove any entries written by your security software. If you have the time, do a fresh install of Win 7 without any 3rd party software and install them one by one until you find the software that is causing the issue.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40679/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>19 Mar '15, 01:42</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/721b9692d2a30fc3b386b7fae9a44220?s=32&amp;d=identicon&amp;r=g" alt="Roland's gravatar image" />
    <p><a href="/users/6889/roland">Roland</a><br/>
    <span class="score" title="764 reputation points">764</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="15 badges"><span class="bronze">&#9679;</span><span class="badgecount">15</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Roland has 9 accepted answers">13&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/40679/">
                edited
                <strong>19 Mar '15, 01:43</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40679">
    
        <a name="40692"></a>
        <div class="comment" id="comment-40692">
            <div id="post-40692-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Roland,
Thanks for your reply I will try this and let you know the status.
But still I am not clear why it is working when Wireshark is running?Do you have any information on that.</p></div>
            <div class="comment-info" id="comment-40692-info">
                
                
                
                

                

                <span class="comment-age">(19 Mar '15, 11:09)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="40765"></a>
        <div class="comment" id="comment-40765">
            <div id="post-40765-score" class="comment-score"></div>
            <div class="comment-text"><p>Did you try my suggestions? When winpcap is installed it bypasses the os protocol stack. Search for winpcap internals if you want to find out more.</p></div>
            <div class="comment-info" id="comment-40765-info">
                
                
                
                

                

                <span class="comment-age">(22 Mar '15, 05:41)</span>
                <a class="comment-user userinfo" href="/users/6889/roland">Roland</a>
                
            </div>
        </div>
    
        <a name="41102"></a>
        <div class="comment" id="comment-41102">
            <div id="post-41102-score" class="comment-score"></div>
            <div class="comment-text"><p>Roland,I tried your sugesstions but still no luck.</p></div>
            <div class="comment-info" id="comment-41102-info">
                
                
                
                

                

                <span class="comment-age">(01 Apr '15, 10:03)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="41460"></a>
        <div class="comment" id="comment-41460">
            <div id="post-41460-score" class="comment-score"></div>
            <div class="comment-text"><p>Then the way forward is to do a fresh install of Windows without any 3rd party software.</p></div>
            <div class="comment-info" id="comment-41460-info">
                
                
                
                

                

                <span class="comment-age">(15 Apr '15, 07:11)</span>
                <a class="comment-user userinfo" href="/users/6889/roland">Roland</a>
                
            </div>
        </div>
    
        <a name="41461"></a>
        <div class="comment" id="comment-41461">
            <div id="post-41461-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/6889/roland">@Roland</a>,</p>

<p>You stated that "When winpcap is installed it bypasses the os protocol stack", but WinPCap is a filter driver that "taps" data traversing the OS stack, it should not interfere with that data, or the processing of it by other elements of the stack.  If it did, then lots of applications would fail to work when it's installed, which isn't the case.</p>

<p>In this case the application did <strong>NOT</strong> work on Win 7 until the OP installed Wireshark and started a capture.  This implies some config issue for the host\application\client that was overcome when making a capture, I still think promiscuous mode is the most likely suspect.</p></div>
            <div class="comment-info" id="comment-41461-info">
                
                
                
                

                

                <span class="comment-age">(15 Apr '15, 07:24)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="41463"></a>
        <div class="comment not_top_scorer" id="comment-41463">
            <div id="post-41463-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/1225/grahamb">@grahamb</a>,</p>

<p>My statement is based on <a href="https://www.winpcap.org/docs/docs_412/html/group__NPF.html">this</a> link. Maybe I misinterpreted the diagram.
lav can confirm if he used promiscous mode, but from what I understood he didn't and the problem is the sending of packets from the host, not towards it. I believe it is a host issue and the prettiest solution is to do a clean install of Windows.</p></div>
            <div class="comment-info" id="comment-41463-info">
                
                
                
                

                

                <span class="comment-age">(15 Apr '15, 10:34)</span>
                <a class="comment-user userinfo" href="/users/6889/roland">Roland</a>
                
            </div>
        </div>
    
        <a name="41466"></a>
        <div class="comment not_top_scorer" id="comment-41466">
            <div id="post-41466-score" class="comment-score"></div>
            <div class="comment-text"><p>The diagram in the link shows how a WinPCap application communicates with the NPF driver to receive (and send) data through the NIC.  All other applications using the NIC are (hopefully) unaffected by the NPF driver.</p>

<p>Promiscuous mode is on by default (in Wireshark), and there have been other questions where running a capture caused an app to work that in the end were determined to be down to promiscuous mode enabling the receipt of packets that would normally have been dropped.</p>

<p>Until <a href="/users/15361/lav">@lav</a> reports back on whether turning promiscuous mode off affects anything, we won't know.  Posting the capture made while the application is running would also be handy.</p></div>
            <div class="comment-info" id="comment-41466-info">
                
                
                
                

                

                <span class="comment-age">(15 Apr '15, 14:48)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="41467"></a>
        <div class="comment not_top_scorer" id="comment-41467">
            <div id="post-41467-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for explaining the diagram.</p></div>
            <div class="comment-info" id="comment-41467-info">
                
                
                
                

                

                <span class="comment-age">(15 Apr '15, 14:59)</span>
                <a class="comment-user userinfo" href="/users/6889/roland">Roland</a>
                
            </div>
        </div>
    
        <a name="42815"></a>
        <div class="comment not_top_scorer" id="comment-42815">
            <div id="post-42815-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/6889/roland">@Roland</a> I tried fresh installation of win 7 with out any third party software's and disabled all the security features but still i have same problem</p></div>
            <div class="comment-info" id="comment-42815-info">
                
                
                
                

                

                <span class="comment-age">(01 Jun '15, 12:42)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="42816"></a>
        <div class="comment not_top_scorer" id="comment-42816">
            <div id="post-42816-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/1225/grahamb">@grahamb</a> as you said if I turn off promiscuous mode my application is not working .I tried to enable promiscuous mode for my 85279LM NIC as said in the following URL <a href="http://www.intel.com/support/network/sb/cs-005897.htm">http://www.intel.com/support/network/sb/cs-005897.htm</a> but still my application is not working</p></div>
            <div class="comment-info" id="comment-42816-info">
                
                
                
                

                

                <span class="comment-age">(01 Jun '15, 12:49)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40679" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-40679-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="40694"></a>
                    <div id="answer-container-40694" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40694-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40694/up/" rel="nofollow"> </a>
<div id="post-40694-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-40694-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40694/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>You say things change "when Wireshark is running".  Do you mean making a capture or just viewing a capture?  If when making a capture then possibly it might be because the capture interface is set to promiscuous mode.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40694/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>19 Mar '15, 13:51</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" alt="grahamb's gravatar image" />
    <p><a href="/users/1225/grahamb">grahamb ♦</a><br/>
    <span class="score" title="19834 reputation points"><span class="">19.8k</span></span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">&#9679;</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">&#9679;</span><span class="badgecount">206</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="grahamb has 274 accepted answers">22&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40694">
    
        <a name="40762"></a>
        <div class="comment" id="comment-40762">
            <div id="post-40762-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Graham,I mean when I am making a capture with wireshark my application also able to send data to devices.</p>

<p>I didn't get your point why  capturing in promiscuous mode will  allow my application to transfer data fine on Win 7.</p></div>
            <div class="comment-info" id="comment-40762-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '15, 18:18)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="40786"></a>
        <div class="comment" id="comment-40786">
            <div id="post-40786-score" class="comment-score">1</div>
            <div class="comment-text"><p>Apart from enabling WinPCap to transfer data frames to a user application (such as Wireshark) the other thing that changes is that the interface you are capturing on is (usually) set to promiscuous mode.  That's enabled by the checkbox "Use promiscuous mode on all interfaces" on the Capture Options dialog and by the "Capture packets in promiscuous mode" checkbox on each individual Edit Interfaces settings dialog.</p>

<p><a href="http://en.wikipedia.org/wiki/Promiscuous_mode">Promiscuous mode</a> means that all packets passing by the interface are captured, not just those "addressed" to the interface (either uni- or multi-cast).</p>

<p>Try turning off promiscuous mode when capturing and see if your application then works correctly.</p></div>
            <div class="comment-info" id="comment-40786-info">
                
                
                
                

                

                <span class="comment-age">(23 Mar '15, 11:38)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="41548"></a>
        <div class="comment" id="comment-41548">
            <div id="post-41548-score" class="comment-score"></div>
            <div class="comment-text"><p>I will try promiscuous mode  turn off to check whether my application still communicate good or not.</p></div>
            <div class="comment-info" id="comment-41548-info">
                
                
                
                

                

                <span class="comment-age">(17 Apr '15, 12:11)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="43279"></a>
        <div class="comment" id="comment-43279">
            <div id="post-43279-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Graham,</p>

<p>Promiscuous mode is what makes my application works fine.Is there any work around to make it work with out using wire shark in promiscuous mode</p></div>
            <div class="comment-info" id="comment-43279-info">
                
                
                
                

                

                <span class="comment-age">(17 Jun '15, 12:45)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="43287"></a>
        <div class="comment" id="comment-43287">
            <div id="post-43287-score" class="comment-score"></div>
            <div class="comment-text"><p>Posting a link to a capture file will give us the actual info, so I'm just guessing here.  Some more details on what protocol you are using would be helpful.</p>

<p>It seems odd that you can't "send" without promiscuous mode being on, normally promiscuous mode affects reception, what do you mean by "send"?  Maybe your application expects a response from the "send" to confirm it was sent and the response isn't being received because it's addressed to some other host and only by enabling promiscuous mode does it allow your PC to receive it.</p></div>
            <div class="comment-info" id="comment-43287-info">
                
                
                
                

                

                <span class="comment-age">(17 Jun '15, 15:05)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="43336"></a>
        <div class="comment not_top_scorer" id="comment-43336">
            <div id="post-43336-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/1225/grahamb"></a><a href="/users/1225/grahamb">@grahamb</a> can you give me your mail id to send the capture files.I am not comfortable to post it public</p></div>
            <div class="comment-info" id="comment-43336-info">
                
                
                
                

                

                <span class="comment-age">(18 Jun '15, 10:09)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="43338"></a>
        <div class="comment not_top_scorer" id="comment-43338">
            <div id="post-43338-score" class="comment-score"></div>
            <div class="comment-text"><p>You can see my email address in Wireshark -&gt; Help -&gt; About -&gt; Authors, usually 1 click of the scroll bar down.</p></div>
            <div class="comment-info" id="comment-43338-info">
                
                
                
                

                

                <span class="comment-age">(18 Jun '15, 12:07)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="43588"></a>
        <div class="comment not_top_scorer" id="comment-43588">
            <div id="post-43588-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/1225/grahamb">@grahamb</a> I had sent capture files to your mail.Please have a look at them</p></div>
            <div class="comment-info" id="comment-43588-info">
                
                
                
                

                

                <span class="comment-age">(26 Jun '15, 05:05)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="43855"></a>
        <div class="comment not_top_scorer" id="comment-43855">
            <div id="post-43855-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Graham,do you have a chance to look in to log files I sent</p></div>
            <div class="comment-info" id="comment-43855-info">
                
                
                
                

                

                <span class="comment-age">(03 Jul '15, 18:31)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="43858"></a>
        <div class="comment not_top_scorer" id="comment-43858">
            <div id="post-43858-score" class="comment-score"></div>
            <div class="comment-text"><p>Been a bit busy with SharkFest, but hopefully this weekend.</p></div>
            <div class="comment-info" id="comment-43858-info">
                
                
                
                

                

                <span class="comment-age">(03 Jul '15, 20:22)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="43889"></a>
        <div class="comment not_top_scorer" id="comment-43889">
            <div id="post-43889-score" class="comment-score"></div>
            <div class="comment-text"><p>okay Thanks Graham</p></div>
            <div class="comment-info" id="comment-43889-info">
                
                
                
                

                

                <span class="comment-age">(06 Jul '15, 06:40)</span>
                <a class="comment-user userinfo" href="/users/15361/lav">lav</a>
                
            </div>
        </div>
    
        <a name="44567"></a>
        <div class="comment not_top_scorer" id="comment-44567">
            <div id="post-44567-score" class="comment-score"></div>
            <div class="comment-text"><p>Investigation of the captures provided privately by <a href="/users/15361/lav">@lav</a> showed that the ftp data transfers were causing ICMP "Fragmentation Needed" responses due to the IP "Don't Fragment" flag being set, but the ICMP responses were addressed to MAC address 00:00:00:00:00:02.</p>

<p>This wasn't the MAC address of the originator of the too-big packets,so with promisc mode off, the ICMP message was discarded and the sender continued with the "Don't Fragment" flag set and failed to get any response.</p>

<p>With promisc mode on, the ICMP message was received and the ftp data retransmitted with the "Don't Fragment" flag cleared.</p></div>
            <div class="comment-info" id="comment-44567-info">
                
                
                
                

                

                <span class="comment-age">(28 Jul '15, 09:19)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40694" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 12
        </span>
        <a href="#" class="show-all-comments-link">show 7 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-40694-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="43291"></a>
                    <div id="answer-container-43291" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-43291-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/43291/up/" rel="nofollow"> </a>
<div id="post-43291-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-43291-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/43291/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Typically,  when an application "works" when Wireshark is running, the issue is related to the use of IP multicast by the application.</p>
<p>IP multicast has mechanisms to enable certain IP multicast packets to be accepted by the NIC and processed by the OS. If these mechanisms aren't working for some reason, then setting the NIC to promiscuous (as Wireshark does) allows all packets to be accepted by the NIC to be available for processing by the OS.</p>
<p>A web search for "windows xp 7 multicast" shows some hits which may be relevant.</p>
<p>A web search as to how IP multicast works may also be helpful.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/43291/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>17 Jun '15, 17:31</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/bfb20acfe44690473b10c7963b5d4a18?s=32&amp;d=identicon&amp;r=g" alt="Bill%20Meier's gravatar image" />
    <p><a href="/users/22/bill-meier">Bill Meier ♦♦</a><br/>
    <span class="score" title="3180 reputation points"><span class="">3.2k</span></span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="8 badges"><span class="silver">&#9679;</span><span class="badgecount">8</span></span><span title="50 badges"><span class="bronze">&#9679;</span><span class="badgecount">50</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Bill Meier has 31 accepted answers">17&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-43291">
    
</div>
<div id="comment-tools-43291" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-43291-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/40671/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='8YRcvs8W9B9lx9OKXRGER3h7YP7pF8YW' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40671/problem-with-device-communication-on-win-7?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40671/problem-with-device-communication-on-win-7?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/7/"
            class="tag-link-7"
            title="see questions tagged'7'using tags"
            rel="tag">7</a> <span class="tag-number">&#215;6</span><br/>
        
        <a href="/tags/win/"
            class="tag-link-win"
            title="see questions tagged'win'using tags"
            rel="tag">win</a> <span class="tag-number">&#215;4</span><br/>
        
    </p>
    <p>
        question asked: <strong title="March 18, 2015, 12:42 p.m.">18 Mar '15, 12:42</strong>
    </p>
    <p> 
     	question was seen: <strong>2,171 times</strong>
    </p>
    <p> 
        last updated: <strong title="July 28, 2015, 9:19 a.m.">28 Jul '15, 09:19</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/13845/checkpoint-r75-prevents-wireshark-from-capturing-all-packets">Checkpoint R75 prevents Wireshark from capturing ALL packets</a>
        </p>
        
        <p>
            <a href="/questions/16739/wireshark-does-not-capture-network-data-on-windows-7-and-windows-2008">Wireshark does not capture network data on Windows 7 and Windows 2008</a>
        </p>
        
        <p>
            <a href="/questions/20269/udp-port-1025-works-in-xp-but-not-win-7">UDP port 1025 works in XP, but not Win 7</a>
        </p>
        
        <p>
            <a href="/questions/25115/cannot-capture-l2tp-packets-using-wireshark-on-windows-7-pc">Cannot capture l2tp packets using wireshark on windows 7 PC</a>
        </p>
        
        <p>
            <a href="/questions/34300/anyone-get-wireshark-to-work-with-usb-modems-with-windows-7">Anyone get Wireshark to work with USB modems with Windows 7?</a>
        </p>
        
        <p>
            <a href="/questions/55357/windows-10-compatibility-for-obsolete-16-version">windows 10 compatibility for obsolete 1.6 version</a>
        </p>
        
        <p>
            <a href="/questions/55441/what-version-of-winpcap-for-wireshark-220-for-win10">what version of winpcap for wireshark 2.2.0 for win10 ?</a>
        </p>
        
        <p>
            <a href="/questions/55624/what-version-of-wireshark-works-on-windows-xp-sp2">What version of Wireshark works on Windows XP SP2?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
