<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Mapnik PostGIS integration - how exactly? - OSM Help</title>
        <meta name="description" content="The OSM help wiki page on Mapnik states: It can read ESRI shapefiles, PostGIS, TIFF rasters, .osm files, any GDAL or OGR supported formats, CSV files, and more.  How exactly does Mapnik integrates with PostGIS? To me saying &quot;Mapnik can read PostGIS&quot; is kind of like saying &quot;Wordpress can read MySQL&quot;...." />
        <meta name="keywords" content="postgis,mapnik" />
        
        <link rel="canonical" href="https://help.openstreetmap.org/questions/40675/mapnik-postgis-integration-how-exactly" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/40675/mapnik-postgis-integration-how-exactly?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='bdr8zr5SHXbP5tz6KSsDZ8xKCiZXbsfj' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/40675/mapnik-postgis-integration-how-exactly">Mapnik PostGIS integration - how exactly?</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-40675-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40675/up/" rel="nofollow"> </a>
<div id="post-40675-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-40675-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40675/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/40675/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>The <a href="//wiki.openstreetmap.org/wiki/Mapnik">OSM help wiki page on Mapnik</a> states:</p>
<pre><code>It can read ESRI shapefiles, PostGIS, TIFF rasters, .osm files, any GDAL or OGR supported formats, CSV files, and more.
</code></pre>
<p>How exactly does Mapnik integrates with PostGIS? To me saying "Mapnik can read PostGIS" is kind of like saying "Wordpress can read MySQL". Obviously Wordpress is heavily reliant on a given schema existing within that database. So what are the rules? What is Mapnik expecting to find / what must the PostGIS provide?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/postgis/" class="post-tag tag-link-postgis"
                                        title="see questions tagged 'postgis'" rel="tag">postgis</a>
                                
                                    <a href="/tags/mapnik/" class="post-tag tag-link-mapnik"
                                        title="see questions tagged 'mapnik'" rel="tag">mapnik</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>28 Jan '15, 22:13</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e1430f9a10b98409c90b5a0f78c15ca1?s=32&amp;d=identicon&amp;r=g" alt="mapgenius323's gravatar image" />
    <p><a href="/users/10128/mapgenius323">mapgenius323</a><br/>
    <span class="score" title="46 reputation points">46</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="7 badges"><span class="bronze">&#9679;</span><span class="badgecount">7</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mapgenius323 has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/40675/">
                edited
                <strong>28 Jan '15, 22:25</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" alt="aseerel4c26's gravatar image" />
            <p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
            <span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">&#9679;</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">&#9679;</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">&#9679;</span><span class="badgecount">554</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-40675">
    
        <a name="40686"></a>
        <div class="comment" id="comment-40686">
            <div id="post-40686-score" class="comment-score"></div>
            <div class="comment-text"><p>What problem are you trying to solve?  Perhaps it might be better to provide a more specific example so that people can provide more specific answers.</p>

<p>Is the question that you're trying to ask actually "do I have to use PostGIS, or can I use a different database instead?"</p></div>
            <div class="comment-info" id="comment-40686-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 08:26)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="40708"></a>
        <div class="comment" id="comment-40708">
            <div id="post-40708-score" class="comment-score">1</div>
            <div class="comment-text"><p>No, I'm not trying to ask that question. I definitely want to at least get a handle on using the PostGIS backend with Mapnik. The problem I'm trying to solve is understanding PostGIS and Mapnik integration in general.</p></div>
            <div class="comment-info" id="comment-40708-info">
                
                
                
                

                

                <span class="comment-age">(30 Jan '15, 07:59)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40675" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-40675-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    3 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/40675/mapnik-postgis-integration-how-exactly?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40675/mapnik-postgis-integration-how-exactly?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40675/mapnik-postgis-integration-how-exactly?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/40675/mapnik-postgis-integration-how-exactly?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="40693"></a>
                    <div id="answer-container-40693" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40693-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40693/up/" rel="nofollow"> </a>
<div id="post-40693-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-40693-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40693/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>It means what it says. Mapnik can connect to a PostGIS database, and then read the data from that. Within your mapnik style file, you specify the schema you want (connect to this table, the geometry column is called <code>geom</code>/whatever). So it doesn't matter what schema you have in the database, you can tell mapnik to work with it.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40693/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>29 Jan '15, 13:05</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/16e12e337f6edc3750681492656097ed?s=32&amp;d=identicon&amp;r=g" alt="rorym's gravatar image" />
    <p><a href="/users/30/rorym">rorym</a><br/>
    <span class="score" title="5358 reputation points"><span class="">5.4k</span></span><span title="14 badges"><span class="badge1">&#9679;</span><span class="badgecount">14</span></span><span title="49 badges"><span class="silver">&#9679;</span><span class="badgecount">49</span></span><span title="100 badges"><span class="bronze">&#9679;</span><span class="badgecount">100</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="rorym has 18 accepted answers">11&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40693">
    
        <a name="40702"></a>
        <div class="comment" id="comment-40702">
            <div id="post-40702-score" class="comment-score"></div>
            <div class="comment-text"><p>OK fair. I just need some good examples of Mapnik style file talking to PostGIS. There does not seem to be any in the OSM wiki. Right now I'm in the process of pulling some packages from ppa:kakrueger/openstreetmap repo so I can check out the style files that are apparently in there. Should be what I need.</p></div>
            <div class="comment-info" id="comment-40702-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 19:54)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
        <a name="40703"></a>
        <div class="comment" id="comment-40703">
            <div id="post-40703-score" class="comment-score">2</div>
            <div class="comment-text"><p>The following styles have or produce mapnik Stylesheets which communicate with postgis / postgres databases (I have most of them up and running at my local server). Maybe this is what you want to find actually:</p>

<p>OSM: <a href="https://github.com/gravitystorm/openstreetmap-carto">https://github.com/gravitystorm/openstreetmap-carto</a>
German OSM: <a href="https://github.com/woodpeck/openstreetmap-carto-german">https://github.com/woodpeck/openstreetmap-carto-german</a>
OSMBright: <a href="https://github.com/mapbox/osm-bright/">https://github.com/mapbox/osm-bright/</a>
OSMNight: <a href="https://github.com/cybercomsweden/osm-night">https://github.com/cybercomsweden/osm-night</a>
SwissStyle: <a href="https://github.com/xyztobixyz/OSM-Swiss-Style">https://github.com/xyztobixyz/OSM-Swiss-Style</a>
Cassini: <a href="https://github.com/frodrigo/osm-cassini-carto">https://github.com/frodrigo/osm-cassini-carto</a>
Blossom: <a href="https://github.com/stekhn/blossom">https://github.com/stekhn/blossom</a></p></div>
            <div class="comment-info" id="comment-40703-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 20:38)</span>
                <a class="comment-user userinfo" href="/users/10255/nordie69">nordie69</a>
                
            </div>
        </div>
    
        <a name="40709"></a>
        <div class="comment" id="comment-40709">
            <div id="post-40709-score" class="comment-score">1</div>
            <div class="comment-text"><p><a href="http://help.openstreetmap.org/users/10255/nordie69"></a><a href="http://help.openstreetmap.org/users/10255/nordie69">@nordie69</a> Great links thx. The first one is good for me. I didn't realise OSM now uses CartoCSS for styling (whatever that is). Also lead to <a href="https://trac.openstreetmap.org/browser/subversion/applications/rendering/mapnik/osm.xml">https://trac.openstreetmap.org/browser/subversion/applications/rendering/mapnik/osm.xml</a> which appears to be the old XML style sheet (+4000 lines, holy crap!). This XML also declares a bunch of Layers towards the end.</p></div>
            <div class="comment-info" id="comment-40709-info">
                
                
                
                

                

                <span class="comment-age">(30 Jan '15, 08:23)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
        <a name="40711"></a>
        <div class="comment" id="comment-40711">
            <div id="post-40711-score" class="comment-score">1</div>
            <div class="comment-text"><p>the current style is written in CartoCSS (which is a 'nicer' way to write mapnik style files). It's then converted into mapnik XML with the <code>carto</code> command line tool. (see the <a href="https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md">docs on installing it</a> )</p></div>
            <div class="comment-info" id="comment-40711-info">
                
                
                
                

                

                <span class="comment-age">(30 Jan '15, 09:04)</span>
                <a class="comment-user userinfo" href="/users/30/rorym">rorym</a>
                
            </div>
        </div>
    
        <a name="40715"></a>
        <div class="comment" id="comment-40715">
            <div id="post-40715-score" class="comment-score">2</div>
            <div class="comment-text"><p><a href="http://help.openstreetmap.org/users/10128/mapgenius323">@mapgenius323</a>: "I didn't realise OSM now uses CartoCSS" – you really should just read the Mapnik wiki page. It is mentioned there (prominently in the intro section). You may find other interesting bits on that page.</p></div>
            <div class="comment-info" id="comment-40715-info">
                
                
                
                

                

                <span class="comment-age">(30 Jan '15, 13:53)</span>
                <a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
                
            </div>
        </div>
    
        <a name="40724"></a>
        <div class="comment not_top_scorer" id="comment-40724">
            <div id="post-40724-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="http://help.openstreetmap.org/users/5179/aseerel4c26"></a><a href="http://help.openstreetmap.org/users/5179/aseerel4c26">@aseerel4c26</a> I did read that page. I missed that though. I disagree that that is prominent. I find the entire OSM wiki a muddle, but that is my personal opinion, and I am still grateful for its existence of course.</p></div>
            <div class="comment-info" id="comment-40724-info">
                
                
                
                

                

                <span class="comment-age">(30 Jan '15, 21:53)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40693" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 6
        </span>
        <a href="#" class="show-all-comments-link">show 1 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-40693-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="40729"></a>
                    <div id="answer-container-40729" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40729-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40729/up/" rel="nofollow"> </a>
<div id="post-40729-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-40729-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40729/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Examining OSM's Mapnik style sheet is the best way to get a feeling for how Mapnik integrates with a Postgres/PostGIS database. This is available at <a href="https://trac.openstreetmap.org/browser/subversion/applications/rendering/mapnik/osm.xml">https://trac.openstreetmap.org/browser/subversion/applications/rendering/mapnik/osm.xml</a>. Note that OSM now specifies its style in <a href="http://wiki.openstreetmap.org/wiki/CartoCSS">CartoCSS</a>, but these CartoCSS style sheets are still compiled into Mapnik XML style sheets. Also see <a href="https://github.com/gravitystorm/openstreetmap-carto">https://github.com/gravitystorm/openstreetmap-carto</a> for more info on CartoCSS.</p>
<p>Basically, Mapnik has an abstraction layer, with drivers for each type of data source ("layer"). These drivers read geometric data in some specific external format in to some internal format used by Mapnik. This internal format geometric data eventually finds its way to symbolizers and onto a canvas via way of "styles", which get attached to each layer. The PostGIS driver requires you to specify a SQL query that returns a table of data. That table must contain a column called "way" of PostGIS type "geometry". The table may contain arbitrary other columns. These other columns can be used to support rendering (how they can be used I don't know yet). But in most cases all that is needed for a symbolizer to render something is the way column. Layers also need a database connection configuration. The following link shows a complete and working, but very basic Mapnik style sheet with a PostGIS layer - <a href="http://pastebin.com/1spMSvA8">http://pastebin.com/1spMSvA8</a>
</p><hr>
P.S. Thanks for help from commenters above. Please feel free to add to or expand on this answer.<p></p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40729/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>31 Jan '15, 11:10</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e1430f9a10b98409c90b5a0f78c15ca1?s=32&amp;d=identicon&amp;r=g" alt="mapgenius323's gravatar image" />
    <p><a href="/users/10128/mapgenius323">mapgenius323</a><br/>
    <span class="score" title="46 reputation points">46</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="7 badges"><span class="bronze">&#9679;</span><span class="badgecount">7</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mapgenius323 has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40729">
    
</div>
<div id="comment-tools-40729" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-40729-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="40677"></a>
                    <div id="answer-container-40677" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40677-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40677/up/" rel="nofollow"> </a>
<div id="post-40677-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-40677-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40677/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            

<p>What about the section <a href="https://wiki.openstreetmap.org/wiki/Mapnik#PostGIS">Data Sources → PostGIS</a>? Essentially, Mapnik does not care about your database schema as long as you can provide suitable SQL queries that will extract the data for each layer you want to define. The query you provide will be augmented with a bounding box condition by Mapnik, and other than a geometry it only needs to return those column you expect to use in the styling rules that you have written.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40677/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>28 Jan '15, 22:31</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" alt="aseerel4c26's gravatar image" />
    <p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
    <span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">&#9679;</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">&#9679;</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">&#9679;</span><span class="badgecount">554</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="aseerel4c26 has 169 accepted answers">18&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/40677/">
                edited
                <strong>28 Jan '15, 22:58</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" alt="Frederik%20Ramm's gravatar image" />
            <p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
            <span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">&#9679;</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">&#9679;</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">&#9679;</span><span class="badgecount">1273</span></span></p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40677">
    
        <a name="40682"></a>
        <div class="comment" id="comment-40682">
            <div id="post-40682-score" class="comment-score"></div>
            <div class="comment-text"><p>So the only advantage of having the data in PostGIS is speed and some convenience GIS function? I could essentially have any SQL server and write arbitrary queries in a Mapnik style file?</p></div>
            <div class="comment-info" id="comment-40682-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 06:39)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
        <a name="40683"></a>
        <div class="comment" id="comment-40683">
            <div id="post-40683-score" class="comment-score"></div>
            <div class="comment-text"><p>"... and other than a geometry ..." Could you please elaborate on this. I think this is what I'm getting at.</p></div>
            <div class="comment-info" id="comment-40683-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 06:41)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
        <a name="40684"></a>
        <div class="comment" id="comment-40684">
            <div id="post-40684-score" class="comment-score"></div>
            <div class="comment-text"><p>"What about the section Data Sources → PostGIS?". I did not find that very helpful.</p></div>
            <div class="comment-info" id="comment-40684-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 06:43)</span>
                <a class="comment-user userinfo" href="/users/10128/mapgenius323">mapgenius323</a>
                
            </div>
        </div>
    
        <a name="40692"></a>
        <div class="comment" id="comment-40692">
            <div id="post-40692-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="http://help.openstreetmap.org/users/10128/mapgenius323">@mapgenius323</a>: it is not "very" helpful, yes. But more than the cited part of the intro.</p></div>
            <div class="comment-info" id="comment-40692-info">
                
                
                
                

                

                <span class="comment-age">(29 Jan '15, 12:50)</span>
                <a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40677" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-40677-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/40675/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='bdr8zr5SHXbP5tz6KSsDZ8xKCiZXbsfj' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40675/mapnik-postgis-integration-how-exactly?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40675/mapnik-postgis-integration-how-exactly?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/mapnik/"
            class="tag-link-mapnik"
            title="see questions tagged'mapnik'using tags"
            rel="tag">mapnik</a> <span class="tag-number">&#215;341</span><br/>
        
        <a href="/tags/postgis/"
            class="tag-link-postgis"
            title="see questions tagged'postgis'using tags"
            rel="tag">postgis</a> <span class="tag-number">&#215;134</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Jan. 28, 2015, 10:13 p.m.">28 Jan '15, 22:13</strong>
    </p>
    <p> 
     	question was seen: <strong>10,443 times</strong>
    </p>
    <p> 
        last updated: <strong title="Jan. 31, 2015, 11:10 a.m.">31 Jan '15, 11:10</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/12388/best-way-to-get-all-cities-of-a-specific-area">Best way to get all cities of a specific area?</a>
        </p>
        
        <p>
            <a href="/questions/23949/is-it-possible-to-draw-tiles-directly-from-an-api-database-without-postgis">[closed] Is it possible to draw tiles directly from an API database (without PostGIS)?</a>
        </p>
        
        <p>
            <a href="/questions/10677/setting-postgis-as-a-datasource">Setting PostGIS as a datasource</a>
        </p>
        
        <p>
            <a href="/questions/11562/column-int_tc_type-does-not-exist">column &quot;int_tc_type&quot; does not exist</a>
        </p>
        
        <p>
            <a href="/questions/18752/mapnik-german-osm-style-problem-with-views-in-postgres-database">mapnik-german osm style, problem with views in postgres database</a>
        </p>
        
        <p>
            <a href="/questions/21010/exchanging-tilemill-mapnik-datasource-static-data-postgis">Exchanging TileMill (Mapnik) datasource: static data / PostGIS</a>
        </p>
        
        <p>
            <a href="/questions/9875/duplicate-key-value-violates-unique-constraint-planet_osm_nodes_pkey">duplicate key value violates unique constraint &quot;planet_osm_nodes_pkey&quot;</a>
        </p>
        
        <p>
            <a href="/questions/10671/osm-postgis-mapnik-problem">OSM – PostGIS – Mapnik problem!</a>
        </p>
        
        <p>
            <a href="/questions/11357/rendering-imagesmaps-from-postgresqlpostgis-database">Rendering images/maps from Postgresql/PostGIS Database</a>
        </p>
        
        <p>
            <a href="/questions/24833/rendering-a-map-with-mapnik-and-postgis">Rendering a map with Mapnik and PostGIS</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
