<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>XP dropping Ethernet packets seen by Wireshark - Wireshark Q&amp;A</title>
        <meta name="description" content="I have some hardware connected by Ethernet to an XP system via a USB adaptor. The hardware is sending a UDP broadcast packet to the XP every 3 seconds. Wireshark running on the XP system sees these packets: Frame 1 (342 bytes on wire, 342 bytes captured) Ethernet II, Src: 40:5f:c2:b9:21:d1 (40:5f:c2..." />
        <meta name="keywords" content="ethernet,xp,udp,dropped" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='2KV4s2BjSU2LkgswPcydPRdiq4fy7P1l' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark">XP dropping Ethernet packets seen by Wireshark</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-17193-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/17193/up/" rel="nofollow"> </a>
<div id="post-17193-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-17193-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/17193/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/17193/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I have some hardware connected by Ethernet to an XP system via a USB adaptor. The hardware is sending a UDP broadcast packet to the XP every 3 seconds.
Wireshark running on the XP system sees these packets:</p>
<p>Frame 1 (342 bytes on wire, 342 bytes captured)</p>
<p>Ethernet II, Src: 40:5f:c2:b9:21:d1 (40:5f:c2:b9:21:d1), Dst: Broadcast (ff:ff:ff:ff:ff:ff)</p>
<p>Internet Protocol, Src: 0.0.0.0 (0.0.0.0), Dst: 0.0.0.0 (0.0.0.0)</p>
<p>User Datagram Protocol, Src Port: bootpc (68), Dst Port: bootps (67)</p>
<p>No activity at all is seen in the Ethernet connection status: no packets are received.</p>
<p>The Windows firewall is disabled.</p>
<p>An AVG firewall is set to pass these packets and is not showing any being blocked (if I disable the permission to pass the packets, I then see them being blocked).</p>
<p>Any suggestions as to what is dropping these packets and how to let them through to my program?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/ethernet/" class="post-tag tag-link-ethernet"
                                        title="see questions tagged 'ethernet'" rel="tag">ethernet</a>
                                
                                    <a href="/tags/xp/" class="post-tag tag-link-xp"
                                        title="see questions tagged 'xp'" rel="tag">xp</a>
                                
                                    <a href="/tags/udp/" class="post-tag tag-link-udp"
                                        title="see questions tagged 'udp'" rel="tag">udp</a>
                                
                                    <a href="/tags/dropped/" class="post-tag tag-link-dropped"
                                        title="see questions tagged 'dropped'" rel="tag">dropped</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>23 Dec '12, 06:22</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/ef7626f540002d6403180aa20be73c9f?s=32&amp;d=identicon&amp;r=g" alt="Peter%20Robertson's gravatar image" />
    <p><a href="/users/4112/peter-robertson">Peter Robertson</a><br/>
    <span class="score" title="15 reputation points">15</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Peter Robertson has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-17193">
    
</div>
<div id="comment-tools-17193" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-17193-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="17240"></a>
                    <div id="answer-container-17240" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-17240-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/17240/up/" rel="nofollow"> </a>
<div id="post-17240-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-17240-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/17240/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Other people seem to have the same problem and it looks like <strong>TI did it intentionally</strong>.</p>
<blockquote>
<p><code><a href="http://e2e.ti.com/support/dsp/davinci_digital_media_processors/f/99/t/57903.aspx">http://e2e.ti.com/support/dsp/davinci_digital_media_processors/f/99/t/57903.aspx</a></code><br>
</p>
</blockquote>
<p><strong>Cite TI Employee:</strong> "Regarding the BOOTP packet. The DM648 BOOTP format is TI specific and will not work with standard BOOTP server. You will have to use a custom server which accepts all 0 as IP address."</p>
<p><strong>Cite TI Employee:</strong> "There is no detailed documentation on how to write the server. You can use PCAP library (<a href="http://en.wikipedia.org/wiki/Pcap)">http://en.wikipedia.org/wiki/Pcap)</a> to achieve these functionalities (capture and send the packet). I have used RAW sockets to send/receive the packets."</p>
<p>So, they also recommend (win)pcap  :-)</p>
<blockquote>
<p><code><a href="http://www.ti.com/lit/ug/spruec6g/spruec6g.pdf">http://www.ti.com/lit/ug/spruec6g/spruec6g.pdf</a></code> <br>
</p>
</blockquote>
<p><strong>Cite:</strong> The Ethernet-ready announcement frame is made in the form of a BOOTP request so it can use a standard format. No response is processed for this message <strong>and it is constructed in such a way that most if not all BOOTP and DHCP servers discard it.</strong></p>
<p>Aha !</p>
<blockquote>
<p><code><a href="http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/f/439/t/67820.aspx">http://e2e.ti.com/support/dsp/c6000_multi-core_dsps/f/439/t/67820.aspx</a></code><br>
</p>
</blockquote>
<p>So, WinPcap sounds like a possible solution. However, I'm not sure if you will be able to establish a complete communication that way (delivering a firmware image to the DSP). I'm sure you will figure out. </p>
<p>The other option would be to use Windows 7 as BOOTP server, as you said raw sockets do work there, even with the destination ip address of 0.0.0.0. <strong>HOWEVER</strong> I would not rely too much on that 'feature' as that is probably not intentional and Microsoft may change that behavior without notification.</p>
<p><strong>One last idea:</strong> You could try to enable <a href="http://support.microsoft.com/kb/315236">IP Forwarding on Windows XP</a>. Maybe the packet then gets far enough into the IP stack to intercept it with raw sockets.</p>
<p>Good luck!</p>
<p>Regards<br>
Kurt</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/17240/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>25 Dec '12, 14:52</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" alt="Kurt%20Knochner's gravatar image" />
    <p><a href="/users/2593/kurt-knochner">Kurt Knochner ♦</a><br/>
    <span class="score" title="24767 reputation points"><span class="">24.8k</span></span><span title="10 badges"><span class="badge1">&#9679;</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">&#9679;</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">&#9679;</span><span class="badgecount">237</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Kurt Knochner has 344 accepted answers">15&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/17240/">
                edited
                <strong>26 Dec '12, 06:46</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-17240">
    
        <a name="17242"></a>
        <div class="comment" id="comment-17242">
            <div id="post-17242-score" class="comment-score"></div>
            <div class="comment-text"><p>Following your suggestion, I have managed to get this working using WinPcap to detect the BOOTP packets and then switching to sockets for the actual two-way communication once the MAC address of the DSP has been determined.</p>

<p>It looks like another 'feature' that TI hasn't bothered to think through properly.</p>

<p>Thanks for your work on this.</p></div>
            <div class="comment-info" id="comment-17242-info">
                
                
                
                

                

                <span class="comment-age">(25 Dec '12, 23:19)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17243"></a>
        <div class="comment" id="comment-17243">
            <div id="post-17243-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Following your suggestion, I have managed to get this working using WinPcap </p>
</blockquote>

<p>Good to hear !</p>

<blockquote>
<p>It looks like another 'feature' that TI hasn't bothered to think through properly.</p>
</blockquote>

<p>:-)</p>

<p><strong>Hint:</strong> If a supplied answer resolves your question can you please "accept" it by clicking the checkmark icon next to it. This highlights good answers for the benefit of subsequent users with the same or similar questions.</p></div>
            <div class="comment-info" id="comment-17243-info">
                
                
                
                

                

                <span class="comment-age">(26 Dec '12, 00:04)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-17240" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-17240-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="17196"></a>
                    <div id="answer-container-17196" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-17196-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/17196/up/" rel="nofollow"> </a>
<div id="post-17196-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-17196-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/17196/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I recommend to uninstall AVG. Not having any message in the log, does not mean that AVG works flawlessly ;-)</p>
<p>BTW: What you do see, if you connect your 'hardware' to the on board ethernet port of your WinXP instead of using a USB adapter?</p>
<p>Regards<br>
Kurt</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/17196/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>23 Dec '12, 07:22</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" alt="Kurt%20Knochner's gravatar image" />
    <p><a href="/users/2593/kurt-knochner">Kurt Knochner ♦</a><br/>
    <span class="score" title="24767 reputation points"><span class="">24.8k</span></span><span title="10 badges"><span class="badge1">&#9679;</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">&#9679;</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">&#9679;</span><span class="badgecount">237</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Kurt Knochner has 344 accepted answers">15&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/17196/">
                edited
                <strong>23 Dec '12, 07:22</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-17196">
    
        <a name="17197"></a>
        <div class="comment" id="comment-17197">
            <div id="post-17197-score" class="comment-score"></div>
            <div class="comment-text"><p>AVG is not the problem; I get identical behaviour on another system without AVG installed.
Connecting the hardware direcly to XP also changes nothing.
In both cases, Wireshark continues to see the packets but the status shows nothing received.</p>

<p>It is fairly clear that something in XP itself is discarding the packets.</p>

<p>The program I need to run manages to connect to port 67, so it's not as if something else is listening there.</p></div>
            <div class="comment-info" id="comment-17197-info">
                
                
                
                

                

                <span class="comment-age">(23 Dec '12, 07:39)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17201"></a>
        <div class="comment" id="comment-17201">
            <div id="post-17201-score" class="comment-score"></div>
            <div class="comment-text"><p>O.K. the packet you have shown, looks <strong>almost</strong> like DHCP, <strong>however</strong> the destination IP is not 255.255.255.255 (broadcast address). </p>

<p>Do you have any software on WinXP that can handle that special packet? </p>

<p>As the packet is sent to 0.0.0.0 and not 255.255.255.255, your WinXP IP stack may simply ignore (drop/discard) it, as it's neither a packet sent to the broadcast address nor to one of it's configured IP addresses.</p>

<p>What is the output of the following command, after you have seen some packets in Wireshark? Run the command before and after.</p>

<blockquote>
<p><code>netstat -s -p ip</code><br>
</p>
</blockquote>

<p>Do you see any changes for these parameters.</p>

<pre>  Packets Received                   
  Received Address Errors
  Datagrams Forwarded                
  Unknown Protocols Received         
  Received Packets Discarded         
  Received Packets Delivered         
</pre></div>
            <div class="comment-info" id="comment-17201-info">
                
                
                
                

                

                <span class="comment-age">(23 Dec '12, 13:04)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="17209"></a>
        <div class="comment" id="comment-17209">
            <div id="post-17209-score" class="comment-score"></div>
            <div class="comment-text"><p>My understanding is that the MAC addr FF:FF:FF:FF:FF:FF indicates a 
broadcast. The packet is actually a BOOTP packet.</p>

<p>Received address errors appears to be counting the BOOTP packets that are being dropped.</p></div>
            <div class="comment-info" id="comment-17209-info">
                
                
                
                

                

                <span class="comment-age">(23 Dec '12, 15:08)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17210"></a>
        <div class="comment" id="comment-17210">
            <div id="post-17210-score" class="comment-score"></div>
            <div class="comment-text"><p>one other thing - I can read these packets without difficulty under W7.</p></div>
            <div class="comment-info" id="comment-17210-info">
                
                
                
                

                

                <span class="comment-age">(23 Dec '12, 15:15)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17223"></a>
        <div class="comment" id="comment-17223">
            <div id="post-17223-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>My understanding is that the MAC addr FF:FF:FF:FF:FF:FF indicates a broadcast. </p>
</blockquote>

<p>That's just the ethernet broadcast and that's the reason why you see the packet in Wireshark. If you want the IP stack to handle the packet, you need to use either an IP broadcast address or one of the configured IP addresses of the Win XP machine.</p>

<blockquote>
<p>The packet is actually a BOOTP packet.</p>
</blockquote>

<p>well, it <strong>looks</strong> like BOOTP. However, RFC 951 defines how the packet should look like.</p>

<pre>3. Packet Format

   In the IP header of a bootrequest, the client fills in its own IP
   source address if known, otherwise zero.  <b>When the server address is
   unknown, the IP destination address will be the 'broadcast address'
   255.255.255.255</b>.  This address means 'broadcast on the local cable,
   (I don't know my net number)' [4].
</pre>

<p>So, the packet you have shown is not a real BOOTP packet.</p>

<blockquote>
<p>Received address errors appears to be counting the BOOTP packets that are being dropped.</p>
</blockquote>

<p>well, there you have it. As I suspected, the IP stack of Win XP just drops those packets.</p>

<blockquote>
<p>one other thing - I can read these packets without difficulty under W7.</p>
</blockquote>

<p>another IP stack might handle those packets differently.</p>

<p>Conclusion: I don't think there is anything you can do, unless you have the option to change the behavior of Win XP (unlikely) or your 'hardware device'.</p></div>
            <div class="comment-info" id="comment-17223-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 01:24)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="17224"></a>
        <div class="comment not_top_scorer" id="comment-17224">
            <div id="post-17224-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for your comments. The device is a DSP from Texas Instruments and they have explicitly chosen those values and have been steadfastly silent about how they expect anyone to read them. AFAIK it's not possible to change what is sent.</p></div>
            <div class="comment-info" id="comment-17224-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 01:24)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17225"></a>
        <div class="comment not_top_scorer" id="comment-17225">
            <div id="post-17225-score" class="comment-score"></div>
            <div class="comment-text"><p>well, then you are out of luck on Win XP. </p>

<p>One possible solution could be the use raw sockets in your application. </p>

<blockquote>
<p><code><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms740548%28v=vs.85%29.aspx">http://msdn.microsoft.com/en-us/library/windows/desktop/ms740548%28v=vs.85%29.aspx</a></code><br>
</p>
</blockquote>

<p><strong>However</strong> there are some limitations with raw sockets, and I leave it to you to check if it's possible to receive those kind of packets with a raw socket.</p>

<p>An alternative would be the use WinPcap within your application to intercept those packets (just like Wireshark does). See the programming guide of WinPcap</p>

<blockquote>
<p><code><a href="http://www.winpcap.org">http://www.winpcap.org</a></code></p>
</blockquote></div>
            <div class="comment-info" id="comment-17225-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 01:31)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="17226"></a>
        <div class="comment not_top_scorer" id="comment-17226">
            <div id="post-17226-score" class="comment-score"></div>
            <div class="comment-text"><p>Once again screwed by TI! My application DOES use raw sockets. That's how I know it works under W7.</p>

<p>I'll look at WinPcap.</p></div>
            <div class="comment-info" id="comment-17226-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 01:43)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17228"></a>
        <div class="comment not_top_scorer" id="comment-17228">
            <div id="post-17228-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Once again screwed by TI!</p>
</blockquote>

<p>:-(. The packet is for sure not RFC compliant. You could ask TI for sample code to handle <strong>those</strong> packets on Win XP.</p>

<blockquote>
<p>My application DOES use raw sockets. That's how I know it works under W7.</p>
</blockquote>

<p>Then you're out of luck on Win XP. I suggest to ask the same question on <a href="http://stackoverflow.com">stackoverflow.com</a>. Maybe there is a way to make it work on XP.</p>

<p><strong>Hint:</strong> If a supplied answer resolves your question can you please "accept" it by clicking the checkmark icon next to it. This highlights good answers for the benefit of subsequent users with the same or similar questions.</p></div>
            <div class="comment-info" id="comment-17228-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 02:34)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="17230"></a>
        <div class="comment not_top_scorer" id="comment-17230">
            <div id="post-17230-score" class="comment-score"></div>
            <div class="comment-text"><p>"You could ask TI for sample code to handle those packets on Win XP."
Why do you think I said they have been steadfastly silent?</p></div>
            <div class="comment-info" id="comment-17230-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 03:00)</span>
                <a class="comment-user userinfo" href="/users/4112/peter-robertson">Peter Robertson</a>
                
            </div>
        </div>
    
        <a name="17231"></a>
        <div class="comment not_top_scorer" id="comment-17231">
            <div id="post-17231-score" class="comment-score"></div>
            <div class="comment-text"><p>Please don't blame those who want to help you ;-)</p></div>
            <div class="comment-info" id="comment-17231-info">
                
                
                
                

                

                <span class="comment-age">(24 Dec '12, 03:02)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-17196" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 11
        </span>
        <a href="#" class="show-all-comments-link">show 6 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-17196-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/17193/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='2KV4s2BjSU2LkgswPcydPRdiq4fy7P1l' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/17193/xp-dropping-ethernet-packets-seen-by-wireshark?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/udp/"
            class="tag-link-udp"
            title="see questions tagged'udp'using tags"
            rel="tag">udp</a> <span class="tag-number">&#215;166</span><br/>
        
        <a href="/tags/ethernet/"
            class="tag-link-ethernet"
            title="see questions tagged'ethernet'using tags"
            rel="tag">ethernet</a> <span class="tag-number">&#215;87</span><br/>
        
        <a href="/tags/dropped/"
            class="tag-link-dropped"
            title="see questions tagged'dropped'using tags"
            rel="tag">dropped</a> <span class="tag-number">&#215;23</span><br/>
        
        <a href="/tags/xp/"
            class="tag-link-xp"
            title="see questions tagged'xp'using tags"
            rel="tag">xp</a> <span class="tag-number">&#215;14</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Dec. 23, 2012, 6:22 a.m.">23 Dec '12, 06:22</strong>
    </p>
    <p> 
     	question was seen: <strong>5,219 times</strong>
    </p>
    <p> 
        last updated: <strong title="Dec. 26, 2012, 6:46 a.m.">26 Dec '12, 06:46</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/36883/packet-reassembly-failed-not-observed-in-wireshark">packet reassembly failed - not observed in wireshark</a>
        </p>
        
        <p>
            <a href="/questions/44641/syslog-dropped-packets">SysLog dropped packets</a>
        </p>
        
        <p>
            <a href="/questions/60801/what-is-the-minimum-and-maximum-amount-of-packets-and-bytes-that-can-be-sent-within-a-specific-time-frame-using-tcp-network-protocol-as-case-study">What is the minimum and maximum amount of packets and bytes that can be sent within  a specific time frame using TCP network protocol as case study</a>
        </p>
        
        <p>
            <a href="/questions/253/offset-into-ethernet-packets">Offset into ethernet packets</a>
        </p>
        
        <p>
            <a href="/questions/13663/is-there-a-capture-filter-for-a-mac-address-range">Is there a capture filter for a MAC address range?</a>
        </p>
        
        <p>
            <a href="/questions/26970/see-protocols-other-than-http">See protocols other than http</a>
        </p>
        
        <p>
            <a href="/questions/36599/confusion-about-when-wireshark-actually-captures-a-frame-in-connection-to-lso">Confusion about when Wireshark actually captures a frame in connection to LSO</a>
        </p>
        
        <p>
            <a href="/questions/51648/how-to-read-what-type-of-message-does-the-frame-carry-in-its-payload-wireshark">how to read what type of message does the frame carry in its payload? WireShark</a>
        </p>
        
        <p>
            <a href="/questions/61207/lua-dissector-for-the-whole-frame">Lua Dissector for the whole Frame</a>
        </p>
        
        <p>
            <a href="/questions/5656/udp-reassembly-with-multiple-pdus-per-packet">UDP reassembly with multiple PDUs per packet</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
