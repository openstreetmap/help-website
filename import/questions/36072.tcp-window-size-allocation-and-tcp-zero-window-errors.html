<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>TCP Window Size Allocation and TCP Zero Window Errors - Wireshark Q&amp;A</title>
        <meta name="description" content="Greetings Everyone! My mind is about to explode as everyone is always blaming the network guys for disconnections and slowness in the networks, but Solarwinds Reports that all utilization in the network devices and links are Okay. So I tried sniffing then I got &quot;Zero Window&quot; errors. So If I may ask:..." />
        <meta name="keywords" content="zero-window,latency,monitoring,slowness,wireshark" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='fBULcMDqiHWxwpSu69R2Ug8I8aPgKVfh' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors">TCP Window Size Allocation and TCP Zero Window Errors</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-36072-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/36072/up/" rel="nofollow"> </a>
<div id="post-36072-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-36072-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/36072/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/36072/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Greetings Everyone!</p>
<p>My mind is about to explode as everyone is always blaming the network guys for disconnections and slowness in the networks, but Solarwinds Reports that all utilization in the network devices and links are Okay. So I tried sniffing then I got "Zero Window" errors. So If I may ask:</p>
<p>1.) <strong>How is TCP Window Size Allocated?</strong> (Is it per TCP conversation like if you have 1 Application(Mozilla Firefox) and 5 tabs open, then the OS allocates Window Size per tab?)</p>
<p>2.) <strong>What causes and How do you fix a "TCP Zero - Window" issue?</strong> (The Stock Trading Server is the one who is having a hard time processing burst traffic and sending the TCP Zero window messages to the traders but based on the Network Utilization(CPU, Memory and Link Utilization of Network Devices) in Solarwinds and Performance Monitoring(CPU, Disk Space, Memory, NIC Utilization) in both the Stock Trading Server and Database Server, it shows that is <strong>Perfectly Normal</strong> <strong>and even under-utilized!</strong>.)</p>
<p>3.) <strong>Is it perhaps in the Trading Server's Settings? (32 GB Memory but only uses the default tcp window allocation size of 64 MB)</strong></p>
<p>4.) <strong>Or is there something wrong with how slow the Trading Application process the data?</strong> (I am planning to increase the TCP Buffer Size from 64KB to probably 256KB but it might not help if the the Trading Application Server itself process the data slowly.)</p>
<p>5.) <strong>Also, all the traders are experiencing "Unable to Connect to Trading Server" and "Intermittent Connections" errors.</strong> (but there's no report of network problem like "down links" or "fully utilized links". I've even tried to change the polling data to every 1 minute to capture short disconnections but I still see no problem) So I think that there might be a latency problem</p>
<p>6.) <strong>How do you measure Latency of Network Communication efficiently? What Free and Paid Software Solutions do you recommend?</strong> (Traceroute reports 4ms and even if i increase the ping packet to 1mb, it also shows 1-3ms delay so I don't think that's helpful)</p>
<p>7.) <strong>How do you sort out each TCP thread/conversations if the source port and destination port are the same and the data is encrypted?</strong> (Like if the Stock Trading Server and the SQL Server talks on the same port numbers but has multiple transactions going on.)</p>
<p>Sorry, I'm just new to the networking world so there are a lot of stuff I don't know and can't find in books and other resources. I think this kind of things are learned through experience so please share your wisdom.</p>
<p>Thank you and Have a Good Day! :)</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/zero-window/" class="post-tag tag-link-zero-window"
                                        title="see questions tagged 'zero-window'" rel="tag">zero-window</a>
                                
                                    <a href="/tags/latency/" class="post-tag tag-link-latency"
                                        title="see questions tagged 'latency'" rel="tag">latency</a>
                                
                                    <a href="/tags/monitoring/" class="post-tag tag-link-monitoring"
                                        title="see questions tagged 'monitoring'" rel="tag">monitoring</a>
                                
                                    <a href="/tags/slowness/" class="post-tag tag-link-slowness"
                                        title="see questions tagged 'slowness'" rel="tag">slowness</a>
                                
                                    <a href="/tags/wireshark/" class="post-tag tag-link-wireshark"
                                        title="see questions tagged 'wireshark'" rel="tag">wireshark</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>08 Sep '14, 07:26</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/baaa6678eb41fc5aa58992954bab2fc8?s=32&amp;d=identicon&amp;r=g" alt="Sharknado's gravatar image" />
    <p><a href="/users/8597/sharknado">Sharknado</a><br/>
    <span class="score" title="1 reputation points">1</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">&#9679;</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Sharknado has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/36072/">
                edited
                <strong>08 Sep '14, 07:30</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-36072">
    
        <a name="36074"></a>
        <div class="comment" id="comment-36074">
            <div id="post-36074-score" class="comment-score"></div>
            <div class="comment-text"><p>If I may say so:</p>

<p>It appears there are issues in a Production Trading system with with real $$$ impacts.</p>

<p>I would suggest strongly that one or more experts should be found (hired or whatever) who can do a complete analysis and recommend solutions.</p>

<p>IOW: "Do it yourself" is <em>not</em> a good approach.   :)</p></div>
            <div class="comment-info" id="comment-36074-info">
                
                
                
                

                

                <span class="comment-age">(08 Sep '14, 07:54)</span>
                <a class="comment-user userinfo" href="/users/22/bill-meier">Bill Meier ♦♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-36072" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-36072-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="36073"></a>
                    <div id="answer-container-36073" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-36073-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/36073/up/" rel="nofollow"> </a>
<div id="post-36073-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-36073-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/36073/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p><strong>1.) How is TCP Window Size Allocated? (Is it per TCP conversation like if you have 1 application(Mozilla Firefox) and 5 tabs open, then the OS allocates Window Size per tab?)</strong></p>
<p>It is per TCP conversation. 10 conversations with a 64k window require 640k of RAM to store incoming segments. It is not allocated per Firefox tab, because if you open a web page in a tab that e.g. opens 5 connections (1 for the web page, 4 for some pictures) you may end up with 5 TCP connections. It depends on how the communication is performed - some web servers allow pulling all 5 elements (still as an example) in one session, others require the browser to open up a single one for each element.</p>
<p><strong>2.) What causes and How do you fix a "TCP Zero - Window" issue? (The Stock Trading Server is the one who is having a hard time processing burst traffic and sending the TCP Zero window messages to the traders but based on the Network Utilization(CPU, Memory and Link Utilization of Network Devices) in Solarwinds and Performance Monitoring(CPU, Disk Space, Memory, NIC Utilization) in both the Stock Trading Server and Database Server, it shows that is Perfectly Normal and even under-utilized!.)</strong></p>
<p>Zero Window means that the receiver of the packets waves a "white flag" towards the sender, telling it to stop sending because there is no more buffer space for incoming packets. This is in almost all cases a sign of the receiver being too slow to process the incoming packets in time. If performance monitoring on the receiver doesn't show any problems it is a bit hard to say why the Zero Window problem occurs, but you should try to update the NIC drivers, or change network cards. Things get really messy if the server is a VM - if so, please specify what kind of virtualization you're using.</p>
<p><strong>3.) Is it perhaps in the Trading Server's Settings? (32 GB Memory but only uses the default tcp window allocation size of 64 MB)</strong></p>
<p>It depends on the latency and bandwidth of the conversation. Generally, the higher the latency and the higher the bandwith on the link, the more window size you need. But if you're running into zero window problems more window will only delay the problem in most cases, but once zero window is happening it will often repeat to do so.</p>
<p><strong>4.) Or is there something wrong with how slow the Trading Application process the data? (I am planning to increase the TCP Buffer Size from 64KB to probably 256KB but it might not help if the Trading Server itself is slow.)</strong></p>
<p>Possible. Maybe the Trading Application is not reacting to the TCP stack offering more packets quickly enough. More memory could help, but also have the developers check if they can do anything to process new data coming from the stack faster. Maybe there aren't enough threats in use by the program.</p>
<p><strong>5.) Also, all the traders are experiencing "Unable to Connect to Trading Server" and "Intermittent Connections" errors. (but there's no report of network problem like "down links" or "fully utilized links". I've even tried to change the polling data to every 1 minute to capture short disconnections but I still see no problem) So I think that there might be a latency problem</strong></p>
<p>Latency as in timeouts? Often, if an application is swamped, it will not react to more TCP stack messages about nodes trying to connect. You should check if you see SYN - SYN/ACK messages, or if the stack doesn't react at all when a connection fails. It will tell you if the stack or the application is the problem - if you see a SYN/ACK as a reaction to the SYN from the client, the stack works.</p>
<p><strong>6.) How do you measure Latency of Network Communication efficiently? What Free and Paid Software Solutions do you recommend? (Traceroute reports 4ms and even if i increase the ping packet to 1mb, it also shows 1-3ms delay so I don't think that's helpful)</strong></p>
<p>Use Wireshark. Find the three way handshake and determine initial RTT from there. See <a href="http://blog.packet-foo.com/2014/07/determining-tcp-initial-round-trip-time/">http://blog.packet-foo.com/2014/07/determining-tcp-initial-round-trip-time/</a></p>
<p><strong>7.) How do you sort out each TCP thread/conversations if the source port and destination port are the same and the data is encrypted? (Like if the Stock Trading Server and the SQL Server talks on the same port numbers but has multiple transactions going on.)</strong></p>
<p>Source and destination port <strong>cannot</strong> be the same. The client selects a new source port for each TCP connection. If the Stock Trading Server connects to the SQL server with multiple TCP connections it will use a new source port each time. If a database connection only uses one TCP connection to issue multiple requests you need to treat them as separate requests/answer pairs by finding the request and determining the size of the answer. If there is encryption you're in trouble, because you'll have to decrypt the communication to see where the request/answer pairs begin and end. It usually better to turn of encryption for the duration of the analysis.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/36073/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>08 Sep '14, 07:48</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/c578ba2967741f25aebd6afef702f432?s=32&amp;d=identicon&amp;r=g" alt="Jasper's gravatar image" />
    <p><a href="/users/145/jasper">Jasper ♦♦</a><br/>
    <span class="score" title="23806 reputation points"><span class="">23.8k</span></span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="51 badges"><span class="silver">&#9679;</span><span class="badgecount">51</span></span><span title="284 badges"><span class="bronze">&#9679;</span><span class="badgecount">284</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Jasper has 263 accepted answers">18&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-36073">
    
        <a name="36075"></a>
        <div class="comment" id="comment-36075">
            <div id="post-36075-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Jasper! </p>

<p>Thank you and I appreciate that you replied to my inquiries.</p>

<p>1.) Thanks, now I understand that.</p>

<p>2.) Yes, it is under a Vsphere. I'm not on the Server Team but as far as I know, the Trading Application is under 1 VM and is using a Virtual NIC. The VSphere is connected to 4 different cisco switches but I only saw it using two of the switches. Also there might be resource sharing configured in case one VM needs more memory.</p>

<p>3.) True, increasing the window size might only delay the problem that's why I still haven't tried that.</p>

<p>4.) Well, the vendor for the Trading Application always claims that they have multiple clients and we are the only one who is having this issue. They also claim that it's because we don't have QoS implemented in our LAN and we don't have a separate physical network infrastructure for that certain application. So we really have to prove first that the problem is caused by the Application.</p>

<p>5.) Yes, the latency might be too high to the point that timeout happens. I never get to see the SYN Ack unless I see a "RST Flag" and I only see that once or twice a day and it doesn't happen everyday.</p>

<p>6.) Ok, I'll go ahead and check that.</p>

<p>7.) The port the sql server uses is always 1433(well because it's fixed) and the port used by the trading server is at 8693(made-up number) but they always use those 2 port numbers through the entire day, everyday. I think it's configured to be encrypted because it's all financial data so I don't think there's a way to decrypt that.</p>

<p>Thanks for all your help Jasper!</p></div>
            <div class="comment-info" id="comment-36075-info">
                
                
                
                

                

                <span class="comment-age">(08 Sep '14, 08:12)</span>
                <a class="comment-user userinfo" href="/users/8597/sharknado">Sharknado</a>
                
            </div>
        </div>
    
        <a name="36079"></a>
        <div class="comment" id="comment-36079">
            <div id="post-36079-score" class="comment-score"></div>
            <div class="comment-text"><p>First of all, a couple of things about how this Q&amp;A site works ;-)</p>

<ol>
<li>please use comments, not answers, if you reply</li>
<li>if you like something, vote it up (thumbs up button left to the answer)</li>
<li>if an answer helped, accept it (checkmark button)</li>
</ol>

<p>Now, to your points:</p>

<ol>
<li>
<p>have the VMware admins check if the VM uses VMXNET3 adapters. Most run VMs with emulated AMD or Intel cards - VMXNET adapters are way faster and may solve your problem. They do not work on all OSes, though, so have them check if it is an option</p>
</li>
<li>
<p>QoS will not help <strong>at all</strong> in Zero Windows situation. It is a host performance problem, not a latency/delay problem. Tell the vendor to understand Zero Window symptoms first before going through their excuse calendar ;-)</p>
</li>
<li>
<p>If you see a RST and not a SYN/ACK then the TCP stack on the server refuses further connections. Maybe the connection table is exhausted - you might want to do a capture at the server to find out how many concurrent connections can be establihsed before it refuses any more.</p>
</li>
<li>
<p>Sure, SQL uses 1433 for MS-SQL, and it should always be the same. If the trading server uses only one port as well it should only be one connection - otherwise Wireshark will diagnose "TCP Port Reused". If you don't see that message (check with filter "tcp.analysis.reused_ports") you don't have a problem like that.</p>
</li>
</ol></div>
            <div class="comment-info" id="comment-36079-info">
                
                
                
                

                

                <span class="comment-age">(08 Sep '14, 08:23)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="36081"></a>
        <div class="comment" id="comment-36081">
            <div id="post-36081-score" class="comment-score"></div>
            <div class="comment-text"><p>1.) I'll ask them about that tomorrow. So can I get back to you on this? :)</p>

<p>2.) You're right. I'll construct a documented report regarding all my findings and slap it right to their faces the next time we meet.</p>

<p>3.) How can I see the number of concurrent connections if the trade server only uses 1 port number to converse with the database server throughout the day?</p>

<p>4.) I checked and I didn't see anything with the filter you posted so I don't think that's a problem.</p>

<p>Thanks again Jasper! :)</p></div>
            <div class="comment-info" id="comment-36081-info">
                
                
                
                

                

                <span class="comment-age">(08 Sep '14, 08:39)</span>
                <a class="comment-user userinfo" href="/users/8597/sharknado">Sharknado</a>
                
            </div>
        </div>
    
        <a name="36083"></a>
        <div class="comment" id="comment-36083">
            <div id="post-36083-score" class="comment-score"></div>
            <div class="comment-text"><ol>
<li>sure</li>
<li>open up the Conversation Statistics and select the TCP tab. Sort by IP addresses to find you application server. Check how many rows there are where it talks to the SQL IP. According to your assumption, there should be only one.</li>
</ol></div>
            <div class="comment-info" id="comment-36083-info">
                
                
                
                

                

                <span class="comment-age">(08 Sep '14, 11:58)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-36073" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-36073-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/36072/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='fBULcMDqiHWxwpSu69R2Ug8I8aPgKVfh' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/36072/tcp-window-size-allocation-and-tcp-zero-window-errors?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/wireshark/"
            class="tag-link-wireshark"
            title="see questions tagged'wireshark'using tags"
            rel="tag">wireshark</a> <span class="tag-number">&#215;1,620</span><br/>
        
        <a href="/tags/latency/"
            class="tag-link-latency"
            title="see questions tagged'latency'using tags"
            rel="tag">latency</a> <span class="tag-number">&#215;37</span><br/>
        
        <a href="/tags/monitoring/"
            class="tag-link-monitoring"
            title="see questions tagged'monitoring'using tags"
            rel="tag">monitoring</a> <span class="tag-number">&#215;36</span><br/>
        
        <a href="/tags/zero-window/"
            class="tag-link-zero-window"
            title="see questions tagged'zero-window'using tags"
            rel="tag">zero-window</a> <span class="tag-number">&#215;19</span><br/>
        
        <a href="/tags/slowness/"
            class="tag-link-slowness"
            title="see questions tagged'slowness'using tags"
            rel="tag">slowness</a> <span class="tag-number">&#215;14</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Sept. 8, 2014, 7:26 a.m.">08 Sep '14, 07:26</strong>
    </p>
    <p> 
     	question was seen: <strong>14,512 times</strong>
    </p>
    <p> 
        last updated: <strong title="Sept. 8, 2014, 11:58 a.m.">08 Sep '14, 11:58</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/56730/how-to-find-the-latency-of-rtps-real-time-publish-subscribe-in-wireshark">How to find the latency of RTPS (Real Time Publish-Subscribe) in Wireshark</a>
        </p>
        
        <p>
            <a href="/questions/36977/debugging-the-web-slowness">Debugging the web slowness .</a>
        </p>
        
        <p>
            <a href="/questions/56423/is-router-causing-latency">Is Router Causing Latency</a>
        </p>
        
        <p>
            <a href="/questions/29722/network-drop-both-wireless-and-wired">Network Drop both Wireless and Wired</a>
        </p>
        
        <p>
            <a href="/questions/30177/how-to-use-wireshark-for-monitoring-wireless-network-traffic">How to use wireshark for monitoring Wireless network traffic?</a>
        </p>
        
        <p>
            <a href="/questions/38894/slow-loading-internet-pages">Slow loading internet pages</a>
        </p>
        
        <p>
            <a href="/questions/54941/about-console-games-latencydelayserver-response-times">About Console games Latency/Delay/Server Response times</a>
        </p>
        
        <p>
            <a href="/questions/8799/routers-changing-the-packet-window-size">Routers changing the packet window size?</a>
        </p>
        
        <p>
            <a href="/questions/46570/analysing-fullduplex-traffic-from-network-taps">Analysing fullduplex traffic from network TAPs</a>
        </p>
        
        <p>
            <a href="/questions/48021/file-transfer-between-windows-machines">File transfer between Windows Machines</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
