<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Question regarding TCP traffic capture and TCP RENO - Wireshark Q&amp;A</title>
        <meta name="description" content="I took a capture of a simple TCP transmission of an image from an web page. However, analyzing the trace I found several issues that don&#39;t fit with what I know about TCP Reno (which I&#39;m positive is what the web server has implemented). The entire capture can be found here: CloudShark   In several oc..." />
        <meta name="keywords" content="tcp" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='u83q6vKd4LzsWFQVHNvVAe4rlXxvfWJk' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno">Question regarding TCP traffic capture and TCP RENO</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-60530-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60530/up/" rel="nofollow"> </a>
<div id="post-60530-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-60530-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60530/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/60530/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I took a capture of a simple TCP transmission of an image from an web page. However, analyzing the trace I found several issues that don't fit with what I know about TCP Reno (which I'm positive is what the web server has implemented). The entire capture can be found here: <a href="https://www.cloudshark.org/captures/f58a95c1a74b">CloudShark</a></p>
<ul>
<li>
<p>In several occasions, the client (me) sent back several packages with the same ACK, but different WND. I was explained that, so long as the ACK number was the same, this would trigger a retransmission in the server. However, it doesn't happen. For instance, I have something like this: <a href="https://pastebin.com/8hyGVJHT">https://pastebin.com/8hyGVJHT</a>. So why doesn't that trigger a retransmission?</p>
</li>
<li>
<p>Another thing that I see is that sometimes it <em>does</em> trigger a retransmission, but only if there is a <strong>[TCP Previous segment not captured]</strong> before it, and the client sends several duplicated ACK (which don't show up in the trace like <strong>[TCP Dup ACK Package#DuplicateNumber]</strong>: <a href="https://pastebin.com/zF9fBKRk">https://pastebin.com/zF9fBKRk</a>. So, why does TCP retransmit that package, if there is no flag for duplicate ACK?</p>
</li>
<li>
<p>Finally, I see that when the client sends duplicate ACK packages, it sends many. I had understood that after the server receives 3, in fast retransmit, it retransmits the missed package: <a href="https://pastebin.com/XyUDVydZ">https://pastebin.com/XyUDVydZ</a>. So, why does the server take longer to recognize the duplicate ACK?</p>
</li>
</ul>
<p>Thanks. </p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/tcp/" class="post-tag tag-link-tcp"
                                        title="see questions tagged 'tcp'" rel="tag">tcp</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>02 Apr '17, 14:09</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/579a23f39d5afbce80bae57eebbf7cf0?s=32&amp;d=identicon&amp;r=g" alt="Heathcliff's gravatar image" />
    <p><a href="/users/28688/heathcliff">Heathcliff</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">&#9679;</span><span class="badgecount">5</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Heathcliff has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/60530/">
                edited
                <strong>02 Apr '17, 14:38</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-60530">
    
</div>
<div id="comment-tools-60530" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60530-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="60561"></a>
                    <div id="answer-container-60561" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60561-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60561/up/" rel="nofollow"> </a>
<div id="post-60561-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-60561-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60561/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="Heathcliff has selected this answer as the correct answer"
        href="/accept_answer/60561/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>There is a real packet loss at the beginning of the capture.</p>
<p>Data packets #6 &amp; #7 are OK (ACKed by #15 &amp; #16), then there's a gap that should trigger Dup-ACKs in response to each of #8-#14. So we should get 7 Dup-ACKs.</p>
<p>From a pure "ACK Sequence Number" perspective, #17-#23 <strong>are</strong> those Dup-ACKs, which all acknowledge the data up to data packet #7 (before the missing packet).</p>
<p>Data packets #24-#27 should also trigger Dup-ACKs. Again, #28-#31 <strong>are</strong> those Dup-ACKs too, again acknowledging just up to #7.</p>
<p>However, #17-#23 and #28-#31 each <strong>also</strong> increase the Receive Window size.</p>
<p>I think that core of the problem (at least for your first question) is the definition of "Duplicate ACK".  I think that Wireshark, your receiving client and the commercial packet analysis software that I use, do not count these as Duplicate-ACKs because they also include the window size increase.</p>
<p>I found <a href="https://tools.ietf.org/html/rfc5681#section-2">RFC 5681</a> that defines Dup-ACKs.  (Earlier RFCs <a href="https://tools.ietf.org/html/rfc2001">2001</a> and <a href="https://tools.ietf.org/html/rfc2581">2581</a> discuss them but don't mention what should happen if a Dup-ACK also contains a changed window value).</p>
<p><em>Start of quote.</em></p>
<p>DUPLICATE ACKNOWLEDGMENT:</p>
<p>An acknowledgment is considered a "duplicate" in the following algorithms when</p>
<p>(a) the receiver of the ACK has outstanding data,</p>
<p>(b) the incoming acknowledgment carries no data,</p>
<p>(c) the SYN and FIN bits are both off,</p>
<p>(d) the acknowledgment number is equal to the greatest acknowledgment received on the given connection (TCP.UNA from [RFC793]) and</p>
<p><strong>(e) the advertised window in the incoming acknowledgment equals the advertised window in the last incoming acknowledgment.</strong></p>
<p>Alternatively, a TCP that utilizes selective acknowledgments (SACKs) [RFC2018, RFC2883] can leverage the SACK information to determine when an incoming ACK is a "duplicate" (e.g., if the ACK contains previously unknown SACK information).</p>
<p><em>End of quote.</em></p>
<p>It would therefore appear that a receiver should not include Receive Window changes in any ACK packets that it wants to be treated as Dup-ACKs.</p>
<p>Thus, the TCP stack in the receiving client is behaving badly.</p>
<p>Under this definition, the Dup-ACKs seen in your capture are not classified as Dup-ACKs, even though they are each indicating an acknowledgement of the same data.</p>
<p>Now, since the sending server doesn't interpret these as Dup-ACKs, it appears to wait for a Retransmission Timeout (RTO) of 2.8 seconds before filling in the gap with #32.</p>
<p>Later in the capture, we see #64 but it is lost before it gets to the client. There are many Dup-ACKs in response to that gap (as seen at the receiving client) before it is filled in by #132 (a retransmission of #64).</p>
<p>There is another real gap between #113 &amp; #114 which is filled in by #148. This is a faster gap fill, partially due to the Dup-ACKs from #64.</p>
<p>Lastly, #150 is a retransmission of #130 (which we saw but must have been lost before it got to the client).</p>
<p><strong>Other observations:</strong></p>
<p>Yes, based on those 3-way handshake times, we would deduce that the capture point is 480 ms away from the client and a further 200 ms away from the server.  Is this artificial or are your end-points on the opposite sides of the world?</p>
<p>It looks like this client is generating ACKs to every data packet rather than doing the usual delayed ACK mechanism (which only ACKs every second data packet). Did you purposely configure this or is the default behaviour of your client TCP stack?</p>
<p>Can you tell us what your client is - so that we can be aware to look out for this behaviour in future? </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60561/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>04 Apr '17, 01:56</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/35a0c1d0cf15b9d54d73bf54ae28abcd?s=32&amp;d=identicon&amp;r=g" alt="Philst's gravatar image" />
    <p><a href="/users/26122/philst">Philst</a><br/>
    <span class="score" title="431 reputation points">431</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="6 badges"><span class="silver">&#9679;</span><span class="badgecount">6</span></span><span title="16 badges"><span class="bronze">&#9679;</span><span class="badgecount">16</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Philst has 6 accepted answers">27&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/60561/">
                edited
                <strong>04 Apr '17, 20:42</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60561">
    
        <a name="60566"></a>
        <div class="comment" id="comment-60566">
            <div id="post-60566-score" class="comment-score">1</div>
            <div class="comment-text"><p><a href="/users/26122/philst">@Philst</a>: very informative and clear. Thank you.</p></div>
            <div class="comment-info" id="comment-60566-info">
                
                
                
                

                

                <span class="comment-age">(04 Apr '17, 06:04)</span>
                <a class="comment-user userinfo" href="/users/28688/heathcliff">Heathcliff</a>
                
            </div>
        </div>
    
        <a name="60575"></a>
        <div class="comment" id="comment-60575">
            <div id="post-60575-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks <a href="/users/28688/heathcliff">@Heathcliff</a>. I did find a more definitive RFC and have replaced the quoted area in my answer with the newer, better information.</p>

<p>I've also added a couple of questions in "Observations" section at the end. It would be good to know what your client device is so that we can be on the lookout for this incorrect behaviour in future.</p>

<p>I also added my own question #60562</p>

<p><a href="https://ask.wireshark.org/questions/60562/does-wireshark-not-count-a-duplicate-ack-if-it-also-contains-a-receive-window-change">https://ask.wireshark.org/questions/60562/does-wireshark-not-count-a-duplicate-ack-if-it-also-contains-a-receive-window-change</a></p>

<p>about the Dup-ACK definition and behaviour.</p>

<p>Please press the "tick" in the answer if you think it is correct.</p></div>
            <div class="comment-info" id="comment-60575-info">
                
                
                
                

                

                <span class="comment-age">(04 Apr '17, 20:51)</span>
                <a class="comment-user userinfo" href="/users/26122/philst">Philst</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-60561" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60561-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="60533"></a>
                    <div id="answer-container-60533" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60533-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60533/up/" rel="nofollow"> </a>
<div id="post-60533-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-60533-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60533/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>The cloudshark file cannot be accessed - my userid does not have permission to view this file.  So my answers are based on your description only. </p>
<p>Your first pastebin file shows TCP Window Updates, which occur when your application (browser) has read the data and the client's TCP is offering larger window sizes again and therefore are not indicative of  a missing segment that would require  re-transmission. </p>
<p>... only if there is a [TCP Previous segment not captured] before it<br>
That is what I would expect to see when looking at a capture close to the receiver. When a segment gets lost 'upstream' wireshark will detect this and mark it accordingly .</p>
<p>If a segment gets lost early in a batch of segments, the client will send a duplicate ACK for every out of order segment - <strong>immediately</strong> - and those ACKs take some time to reach the server. As the Server can only react when it sees the 3rd duplicate ACK you can see more than 3 duplicate ACKs before the fast retransmitted packets arrives at the client- especially when you look at a trace at the client (receiver).</p>
<p>Regards Matthias<br>
</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60533/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>02 Apr '17, 21:44</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5500bd1decb766660522dfb347eedc49?s=32&amp;d=identicon&amp;r=g" alt="mrEEde's gravatar image" />
    <p><a href="/users/4668/mreede">mrEEde</a><br/>
    <span class="score" title="3892 reputation points"><span class="">3.9k</span></span><span title="15 badges"><span class="badge1">&#9679;</span><span class="badgecount">15</span></span><span title="22 badges"><span class="silver">&#9679;</span><span class="badgecount">22</span></span><span title="70 badges"><span class="bronze">&#9679;</span><span class="badgecount">70</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mrEEde has 48 accepted answers">20&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60533">
    
        <a name="60546"></a>
        <div class="comment" id="comment-60546">
            <div id="post-60546-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/4668/mreede">@mrEEde</a> I've changed the capture to make it public.</p></div>
            <div class="comment-info" id="comment-60546-info">
                
                
                
                

                

                <span class="comment-age">(03 Apr '17, 06:57)</span>
                <a class="comment-user userinfo" href="/users/28688/heathcliff">Heathcliff</a>
                
            </div>
        </div>
    
        <a name="60555"></a>
        <div class="comment" id="comment-60555">
            <div id="post-60555-score" class="comment-score"></div>
            <div class="comment-text"><p>The trace  shows some very strange timing behavior, given that the 2 Ubuntu stacks are co-located in the same network.<br>
Why are you seeing 200ms delay between SYN and SYN_ACK and another 480 ms delay to complete the 3-way handshake? </p>

<p>Are the Linuxes running on bare metal or in a VM?</p></div>
            <div class="comment-info" id="comment-60555-info">
                
                
                
                

                

                <span class="comment-age">(03 Apr '17, 10:47)</span>
                <a class="comment-user userinfo" href="/users/4668/mreede">mrEEde</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-60533" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60533-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/60530/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='u83q6vKd4LzsWFQVHNvVAe4rlXxvfWJk' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/60530/question-regarding-tcp-traffic-capture-and-tcp-reno?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/tcp/"
            class="tag-link-tcp"
            title="see questions tagged'tcp'using tags"
            rel="tag">tcp</a> <span class="tag-number">&#215;752</span><br/>
        
    </p>
    <p>
        question asked: <strong title="April 2, 2017, 2:09 p.m.">02 Apr '17, 14:09</strong>
    </p>
    <p> 
     	question was seen: <strong>1,044 times</strong>
    </p>
    <p> 
        last updated: <strong title="April 4, 2017, 8:51 p.m.">04 Apr '17, 20:51</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/44822/multiple-syns-synack-and-ack-received-for-single-connection">Multiple syn&#39;s ,syn/ack and ack received for single connection?</a>
        </p>
        
        <p>
            <a href="/questions/46121/calculate-tcp-retransmission-rate">calculate tcp retransmission rate</a>
        </p>
        
        <p>
            <a href="/questions/47676/help-urgent-wireshark-ump-tcp-data">help urgent WireShark ump tcp DATA</a>
        </p>
        
        <p>
            <a href="/questions/48553/modbus-plc-is-pre-maturely-ending-tcp-session">Modbus PLC is pre-maturely ending TCP session</a>
        </p>
        
        <p>
            <a href="/questions/49618/slowdown-in-receiving-data">Slowdown in receiving data</a>
        </p>
        
        <p>
            <a href="/questions/51332/tcp-server-sends-ack-rst-right-after-ack">TCP - server sends ACK RST right after ACK</a>
        </p>
        
        <p>
            <a href="/questions/53366/cannot-capture-any-output-packet">[closed] Cannot capture any output packet</a>
        </p>
        
        <p>
            <a href="/questions/54778/what-should-i-see-in-capture-when-there-is-tcp-error-could-not-connect-to-the-server">What should I see in capture when there is TCP error: Could not connect to the server?</a>
        </p>
        
        <p>
            <a href="/questions/56730/how-to-find-the-latency-of-rtps-real-time-publish-subscribe-in-wireshark">How to find the latency of RTPS (Real Time Publish-Subscribe) in Wireshark</a>
        </p>
        
        <p>
            <a href="/questions/58258/lots-of-tcp-dup-ack-tcp-retransmission-messages">Lots of TCP Dup ACK &amp; TCP Retransmission messages</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
