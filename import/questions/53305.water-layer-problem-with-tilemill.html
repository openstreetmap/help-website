<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Water layer problem with Tilemill - OSM Help</title>
        <meta name="description" content="I&#39;m currently using Tilemill on windows for designing maps. I noticed that there was a problem with the water layer for a particular city (Montreal). For example, some small islands of this city, like St-Helen, are completely covered with water. While other area came out as land instead of water. Is..." />
        <meta name="keywords" content="water,shapefile,tilemill,layer,montreal" />
        
        <link rel="canonical" href="https://help.openstreetmap.org/questions/53305/water-layer-problem-with-tilemill" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/53305/water-layer-problem-with-tilemill?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='nuJTRie9Td4ryfpZU1oAbIjrPZt8MhYC' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/53305/water-layer-problem-with-tilemill">Water layer problem with Tilemill</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-53305-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53305/up/" rel="nofollow"> </a>
<div id="post-53305-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-53305-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53305/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/53305/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I'm currently using Tilemill on windows for designing maps. I noticed that there was a problem with the water layer for a particular city (Montreal).</p>
<p>For example, some small islands of this city, like St-Helen, are completely covered with water. While other area came out as land instead of water.  Is this a known problem ? Do I need some special shapefile or something to render the map ?  </p>
<p><strong>2 screenshots:</strong></p>
<p>*<em>Picture #1 : (1) The island is covered with water. (2) This area should have been covered with water.</em></p>
<p><img src="http://help.openstreetmap.org/upfiles/prob1.jpg" alt="alt text"></p>
<p><em>Picture #2 : I commented the line: <strong><em>polygon-fill: @water;</em></strong> so it is disabled (see red square #2). The island look normal now. It looks like the water layer bypass the others. It still doesn't explain why there is no water fill in the #2 red square in picture #1</em></p>
<p><img src="http://help.openstreetmap.org/upfiles/prob2_WxDNT9h.jpg" alt="alt text"></p>
<p>Any help would be greatly appreciated!
Ty in advance!</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/water/" class="post-tag tag-link-water"
                                        title="see questions tagged 'water'" rel="tag">water</a>
                                
                                    <a href="/tags/shapefile/" class="post-tag tag-link-shapefile"
                                        title="see questions tagged 'shapefile'" rel="tag">shapefile</a>
                                
                                    <a href="/tags/tilemill/" class="post-tag tag-link-tilemill"
                                        title="see questions tagged 'tilemill'" rel="tag">tilemill</a>
                                
                                    <a href="/tags/layer/" class="post-tag tag-link-layer"
                                        title="see questions tagged 'layer'" rel="tag">layer</a>
                                
                                    <a href="/tags/montreal/" class="post-tag tag-link-montreal"
                                        title="see questions tagged 'montreal'" rel="tag">montreal</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>07 Dec '16, 17:00</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/91e9d7555ec6a5d6f6c4abd2313646fa?s=32&amp;d=identicon&amp;r=g" alt="DanielQc's gravatar image" />
    <p><a href="/users/13051/danielqc">DanielQc</a><br/>
    <span class="score" title="41 reputation points">41</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="DanielQc has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/53305/">
                edited
                <strong>07 Dec '16, 20:14</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-53305">
    
        <a name="53399"></a>
        <div class="comment" id="comment-53399">
            <div id="post-53399-score" class="comment-score"></div>
            <div class="comment-text"><p>I'd also like to understand the reason behind this behavior. Why it's happening in the first place ?</p>

<p>I used the most recent map for this area on geofabrik. I confirm you that it's not from the map itself because when I imported it in JOSM, everything was correct. So it means, it must come from tilemill (and not from my map's extract.)</p>

<p>I also googled how to manually change the color for a specific area and I found nothing.. This workaround proposed could do the job. I'm not an expert and maybe it's something very simple that I missed.</p>

<p>Feel free to tell me if i'm not addressing my demand in the right forum.</p>

<p>ty again</p></div>
            <div class="comment-info" id="comment-53399-info">
                
                
                
                

                

                <span class="comment-age">(08 Dec '16, 23:03)</span>
                <a class="comment-user userinfo" href="/users/13051/danielqc">DanielQc</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53305" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53305-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    5 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/53305/water-layer-problem-with-tilemill?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/53305/water-layer-problem-with-tilemill?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/53305/water-layer-problem-with-tilemill?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/53305/water-layer-problem-with-tilemill?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="53420"></a>
                    <div id="answer-container-53420" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-53420-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53420/up/" rel="nofollow"> </a>
<div id="post-53420-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-53420-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53420/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="DanielQc has selected this answer as the correct answer"
        href="/accept_answer/53420/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>There are a couple of possibilities - one is that the style you're using is getting confused by the riverbank (the relevant relation I think is <a href="http://www.openstreetmap.org/relation/1775822">this</a> one).  The other is that someone that relation is somehow broken in your data.  I wouldn't expect that to be the case, since that relation is fully within Quebec as defined at <a href="http://download.geofabrik.de/north-america/canada/quebec.html">Geofabrik</a>, assuming you didn't cut Quebec down any more before importing.</p>
<p>Another possibility is how Tilemill is accessing the data.  You're using Tilemill on Windows - is that using an osm2pgsql database to render from, or are you doing something else?  If it is a database, what are you using to import the data?  If not, how is Tilemill accessing it?</p>
<p>In order to find out which is likely to be the problem, the first thing I'd do is to see if other similiar riverbank relations are rendered OK?</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/53420/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>09 Dec '16, 01:50</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" alt="SomeoneElse's gravatar image" />
    <p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
    <span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">&#9679;</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">&#9679;</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">&#9679;</span><span class="badgecount">866</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="SomeoneElse has 228 accepted answers">16&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/53420/">
                edited
                <strong>09 Dec '16, 01:53</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-53420">
    
        <a name="53458"></a>
        <div class="comment" id="comment-53458">
            <div id="post-53458-score" class="comment-score">1</div>
            <div class="comment-text"><p>For info, I've just downloaded a Montreal metro extract from Mapzen, loaded it using osm2pgsql and had a look at it in OSMBright in TileMill.  The water displays as water, and the Ile Ste Helene as land.</p>

<p>The OSMBright and TileMill versions are from around 2013, but I suspect that neither have changed much.</p></div>
            <div class="comment-info" id="comment-53458-info">
                
                
                
                

                

                <span class="comment-age">(10 Dec '16, 13:55)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53420" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53420-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="53450"></a>
                    <div id="answer-container-53450" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-53450-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53450/up/" rel="nofollow"> </a>
<div id="post-53450-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-53450-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53450/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I did two tests from what you mentionned. First, I tried one specific area (ID : 156816898) from the <a href="http://www.openstreetmap.org/relation/1775822">link</a> you posted and I got the same problem. The island was also covered with water and St-Lawrence river was "land-filled". (sry no picture)</p>
<p>Then I did another test with Quebec city and the result was exactly like as expected. 
<img src="http://help.openstreetmap.org/upfiles/Sans_titre.png" alt="alt text"></p>
<p>On the picture, you can see that the island on the top right is coming out correctly. Like you said, I’m supposing it is the style that get confused by the riverbank. But I don't know why the result is different for Montreal.</p>
<p>To answer your questions, I'm using osm2pgsql (PostgreSQL with PostGIS) for importing data. I installed everything from the following <a href="https://ircama.github.io/osm-carto-tutorials/tilemill-osm-carto">procedure</a>. Do you think the problem might come from openstreetmap carto ?</p>
<p>I also want to thank you for your elaborate answer. It's helping me and I’m feeling closer to a solution.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/53450/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>10 Dec '16, 06:56</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/91e9d7555ec6a5d6f6c4abd2313646fa?s=32&amp;d=identicon&amp;r=g" alt="DanielQc's gravatar image" />
    <p><a href="/users/13051/danielqc">DanielQc</a><br/>
    <span class="score" title="41 reputation points">41</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="DanielQc has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/53450/">
                edited
                <strong>10 Dec '16, 06:58</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-53450">
    
        <a name="53457"></a>
        <div class="comment" id="comment-53457">
            <div id="post-53457-score" class="comment-score"></div>
            <div class="comment-text"><p>Out of interest, where did you get the data from?  I'm wondering if whatever process was used could have chopped off part of the multipolygon.</p>

<p>Also I don't quite understand "Do you think the problem might come from openstreetmap carto" - it looks like you're using OSM Bright as a style not OSM Carto?</p></div>
            <div class="comment-info" id="comment-53457-info">
                
                
                
                

                

                <span class="comment-age">(10 Dec '16, 13:13)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="53469"></a>
        <div class="comment" id="comment-53469">
            <div id="post-53469-score" class="comment-score"></div>
            <div class="comment-text"><p>I think I got confused.. I was thinking about the openstreetmap carto (or OSMBright)because I thought that maybe some tags were missing in the style (like Wetitpig0 proposed)</p></div>
            <div class="comment-info" id="comment-53469-info">
                
                
                
                

                

                <span class="comment-age">(10 Dec '16, 20:51)</span>
                <a class="comment-user userinfo" href="/users/13051/danielqc">DanielQc</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53450" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53450-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="53454"></a>
                    <div id="answer-container-53454" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-53454-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53454/up/" rel="nofollow"> </a>
<div id="post-53454-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-53454-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53454/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Problem should be fixed.</p>
<p>Whenever you get water-filled islands, most probably it is because there are no tags about whether it is an island or not. If that is the case, choose the area and tag it with "natural=coastline" &amp; "place=island".</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/53454/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>10 Dec '16, 09:37</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/100f8ccde5e9799707a5056f94fe183f?s=32&amp;d=identicon&amp;r=g" alt="Wetitpig0's gravatar image" />
    <p><a href="/users/13060/wetitpig0">Wetitpig0</a><br/>
    <span class="score" title="307 reputation points">307</span><span title="16 badges"><span class="badge1">&#9679;</span><span class="badgecount">16</span></span><span title="19 badges"><span class="silver">&#9679;</span><span class="badgecount">19</span></span><span title="28 badges"><span class="bronze">&#9679;</span><span class="badgecount">28</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Wetitpig0 has 2 accepted answers">10&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-53454">
    
</div>
<div id="comment-tools-53454" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53454-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="53322"></a>
                    <div id="answer-container-53322" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-53322-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53322/up/" rel="nofollow"> </a>
<div id="post-53322-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-53322-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53322/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Just change the water-filled area by yourself. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/53322/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>07 Dec '16, 23:29</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/100f8ccde5e9799707a5056f94fe183f?s=32&amp;d=identicon&amp;r=g" alt="Wetitpig0's gravatar image" />
    <p><a href="/users/13060/wetitpig0">Wetitpig0</a><br/>
    <span class="score" title="307 reputation points">307</span><span title="16 badges"><span class="badge1">&#9679;</span><span class="badgecount">16</span></span><span title="19 badges"><span class="silver">&#9679;</span><span class="badgecount">19</span></span><span title="28 badges"><span class="bronze">&#9679;</span><span class="badgecount">28</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Wetitpig0 has 2 accepted answers">10&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-53322">
    
        <a name="53326"></a>
        <div class="comment" id="comment-53326">
            <div id="post-53326-score" class="comment-score"></div>
            <div class="comment-text"><p>Ty for your answer. It looks simple. Maybe I missed something.. How may I do this ? </p></div>
            <div class="comment-info" id="comment-53326-info">
                
                
                
                

                

                <span class="comment-age">(08 Dec '16, 00:27)</span>
                <a class="comment-user userinfo" href="/users/13051/danielqc">DanielQc</a>
                
            </div>
        </div>
    
        <a name="53406"></a>
        <div class="comment" id="comment-53406">
            <div id="post-53406-score" class="comment-score"></div>
            <div class="comment-text"><p>Is the way of the river bank drawn already?</p></div>
            <div class="comment-info" id="comment-53406-info">
                
                
                
                

                

                <span class="comment-age">(09 Dec '16, 00:01)</span>
                <a class="comment-user userinfo" href="/users/13060/wetitpig0">Wetitpig0</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53322" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53322-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="53468"></a>
                    <div id="answer-container-53468" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-53468-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53468/up/" rel="nofollow"> </a>
<div id="post-53468-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-53468-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53468/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I just downloaded the Mapzen extract and it worked.  I’m happy :-)</p>
<p>You were right SomeoneElse, it’s probably the process of extracting the data that caused my problem. It's still curious... I was using quebec-latest.osm from <a href="http://download.geofabrik.de/north-america/canada/quebec.html">Geofabrik</a>. </p>
<p>Here, the osmosis command line that I was using for extracting a smaller part from the quebec-latest map:</p>
<p><strong><em>bzcat quebec-latest.osm.bz2 | osmosis  --read-xml enableDateParsing=no file=-  --bounding-box top=45.993 left=-74.312 bottom=45.228 right=-72.812 --write-xml file=- | bzip2 &gt; mtl.osm.bz2</em></strong></p>
<p>I think it might be the command line.. (or the coordinates ?)   </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/53468/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>10 Dec '16, 20:40</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/91e9d7555ec6a5d6f6c4abd2313646fa?s=32&amp;d=identicon&amp;r=g" alt="DanielQc's gravatar image" />
    <p><a href="/users/13051/danielqc">DanielQc</a><br/>
    <span class="score" title="41 reputation points">41</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="DanielQc has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-53468">
    
        <a name="53481"></a>
        <div class="comment" id="comment-53481">
            <div id="post-53481-score" class="comment-score">1</div>
            <div class="comment-text"><p>I'm guessing that you'd need to use both the "complete" options and also "cascading" option in osmosis as per:</p>

<p><a href="https://wiki.openstreetmap.org/wiki/Osmosis/Detailed_Usage_0.41">https://wiki.openstreetmap.org/wiki/Osmosis/Detailed_Usage_0.41</a></p></div>
            <div class="comment-info" id="comment-53481-info">
                
                
                
                

                

                <span class="comment-age">(11 Dec '16, 16:05)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="53517"></a>
        <div class="comment" id="comment-53517">
            <div id="post-53517-score" class="comment-score">1</div>
            <div class="comment-text"><p>Tyvm.. you've found it! This command line did the trick!</p>

<p>bzcat quebec-latest.osm.bz2 | osmosis --read-xml enableDateParsing=no file=- --bounding-box top=45.993 left=-74.312 bottom=45.228 right=-72.812 <strong>completeRelations=yes cascadingRelations=yes</strong> --write-xml file=- | bzip2 &gt; mtl.osm.bz2</p></div>
            <div class="comment-info" id="comment-53517-info">
                
                
                
                

                

                <span class="comment-age">(13 Dec '16, 03:52)</span>
                <a class="comment-user userinfo" href="/users/13051/danielqc">DanielQc</a>
                
            </div>
        </div>
    
        <a name="53531"></a>
        <div class="comment" id="comment-53531">
            <div id="post-53531-score" class="comment-score"></div>
            <div class="comment-text"><p>Well, the "trick" actually does not solve the problem. If your request scripts are properly constructed, something is still wrong in the sw involved.   <br>
In the first case, you ask the sw for clipping out the objects using the bbox from your image 1. Clipping large and complex areas is complicated and full of error traps. The areas may radically change their structures and shapes and in some cases, the clipping may result in an incomplete polygon in an “outer-inner-outer-inner...” chain. Then, all the following polygons will change their rules and rendered inversed (as in your example).  <br>
In the second case, your request asks the sw to extract all the objects having something common with the bbox. Therefore, no clipping is involved and you will get much, much larger area to render than you actually need and this may become highly inefficient/unpractical. The two requests/scripts are logically quite different.  <br>
So, if you still insist on vector (pre- or on-the-fly-) tiling, you must use a version of the fist script but with a more robust clipping model. You should contact the intellectual owner of the involved sw and send an error warning with the example in your question.</p></div>
            <div class="comment-info" id="comment-53531-info">
                
                
                
                

                

                <span class="comment-age">(13 Dec '16, 11:13)</span>
                <a class="comment-user userinfo" href="/users/3194/sanser">sanser</a>
                
            </div>
        </div>
    
        <a name="53532"></a>
        <div class="comment" id="comment-53532">
            <div id="post-53532-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="http://help.openstreetmap.org/users/3194/sanser">@sanser</a> - I'm sure that pull requests at <a href="https://github.com/openstreetmap/osmosis">https://github.com/openstreetmap/osmosis</a> would be welcomed :)
Personally I think that the options that they're offering are more than adequate.</p></div>
            <div class="comment-info" id="comment-53532-info">
                
                
                
                

                

                <span class="comment-age">(13 Dec '16, 11:21)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="53542"></a>
        <div class="comment" id="comment-53542">
            <div id="post-53542-score" class="comment-score"></div>
            <div class="comment-text"><p>It dit the trick for my needs..</p>

<p>I understand from your post that the first command line should have worked. In fact, It worked properly with JOSM. The problem was only with Tilemill (inverted colors). By adding those 2 additional arguments I got at least the expected result.</p></div>
            <div class="comment-info" id="comment-53542-info">
                
                
                
                

                

                <span class="comment-age">(14 Dec '16, 04:29)</span>
                <a class="comment-user userinfo" href="/users/13051/danielqc">DanielQc</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53468" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53468-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/53305/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='nuJTRie9Td4ryfpZU1oAbIjrPZt8MhYC' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/53305/water-layer-problem-with-tilemill?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/53305/water-layer-problem-with-tilemill?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/layer/"
            class="tag-link-layer"
            title="see questions tagged'layer'using tags"
            rel="tag">layer</a> <span class="tag-number">&#215;92</span><br/>
        
        <a href="/tags/shapefile/"
            class="tag-link-shapefile"
            title="see questions tagged'shapefile'using tags"
            rel="tag">shapefile</a> <span class="tag-number">&#215;87</span><br/>
        
        <a href="/tags/water/"
            class="tag-link-water"
            title="see questions tagged'water'using tags"
            rel="tag">water</a> <span class="tag-number">&#215;79</span><br/>
        
        <a href="/tags/tilemill/"
            class="tag-link-tilemill"
            title="see questions tagged'tilemill'using tags"
            rel="tag">tilemill</a> <span class="tag-number">&#215;36</span><br/>
        
        <a href="/tags/montreal/"
            class="tag-link-montreal"
            title="see questions tagged'montreal'using tags"
            rel="tag">montreal</a> <span class="tag-number">&#215;2</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Dec. 7, 2016, 5 p.m.">07 Dec '16, 17:00</strong>
    </p>
    <p> 
     	question was seen: <strong>5,214 times</strong>
    </p>
    <p> 
        last updated: <strong title="Dec. 14, 2016, 4:29 a.m.">14 Dec '16, 04:29</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/17630/flood-water-layer">Flood water layer</a>
        </p>
        
        <p>
            <a href="/questions/27260/using-osmpbf-data-in-tilemill">using OSM.pbf data in TileMill</a>
        </p>
        
        <p>
            <a href="/questions/34918/looking-for-a-road-layer">Looking for a Road Layer</a>
        </p>
        
        <p>
            <a href="/questions/1531/coastal-lines-and-land-are-do-not-match-messed-things-up">Coastal lines and land are do not match (Messed things up?)</a>
        </p>
        
        <p>
            <a href="/questions/2147/how-to-create-a-customised-shapefile-from-osm-file">How to create a customised shapefile from OSM file?</a>
        </p>
        
        <p>
            <a href="/questions/2455/how-to-add-a-tag-to-an-osm-object-here-water-reservoir-specifically-a-name">How to add a tag to an osm object (here: water reservoir), specifically a &quot;Name&quot;</a>
        </p>
        
        <p>
            <a href="/questions/1963/conversion-from-osm-to-shapefiles">Conversion from osm to shapefiles</a>
        </p>
        
        <p>
            <a href="/questions/2559/bridge-on-ground-level">Bridge on ground level</a>
        </p>
        
        <p>
            <a href="/questions/2590/tagging-disused-quarries">Tagging disused quarries</a>
        </p>
        
        <p>
            <a href="/questions/2516/why-does-a-lake-does-not-show-as-such-in-the-view">Why does a lake does not show as such in the view?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
