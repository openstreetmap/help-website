<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Couldn&#39;t run /usr/bin/dumpcap in child process - Wireshark Q&amp;A</title>
        <meta name="description" content="Hello. I bad speak English. Excuse for my grammar :) I have installed Wireshark 2.0.1 on my computer with Elementary OS (based on Ubuntu) and allowed to run without root rights.  If I run it by write in terminal &quot;wireshark&quot;, it write me &quot;Couldn&#39;t run /usr/bin/dumpcap in child process&quot;. Terminal says..." />
        <meta name="keywords" content="wireshark" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/50546/couldnt-run-usrbindumpcap-in-child-process" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='9nKP792iQ8Rpcna3IdQuDaxxypzml1Gi' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process">Couldn&#39;t run /usr/bin/dumpcap in child process</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-50546-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/50546/up/" rel="nofollow"> </a>
<div id="post-50546-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-50546-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/50546/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/50546/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello. I bad speak English. Excuse for my grammar :)
I have installed Wireshark 2.0.1 on my computer with Elementary OS (based on Ubuntu) and allowed to run without root rights. 
If I run it by write in terminal "wireshark", it write me "Couldn't run /usr/bin/dumpcap in child process". Terminal says: </p>
<pre><code>Gtk-Message: Failed to load module "pantheon-filechooser-module"
[3140:3140:0226/195939:ERROR:browser_main_loop.cc(256)] Gtk: Загружаемый модуль тем не найден в module_path: «pixmap»,
[3140:3140:0226/195939:ERROR:browser_main_loop.cc(256)] Gtk: Загружаемый модуль тем не найден в module_path: «pixmap»,
[3140:3140:0226/195939:ERROR:browser_main_loop.cc(256)] Gtk: Загружаемый модуль тем не найден в module_path: «pixmap»,
[3140:3140:0226/195939:ERROR:browser_main_loop.cc(256)] Gtk: Загружаемый модуль тем не найден в module_path: «pixmap»,
[3140:3140:0226/195939:ERROR:browser_main_loop.cc(256)] Gtk: Загружаемый модуль тем не найден в module_path: «pixmap»,
Gtk-Message: Failed to load module "canberra-gtk-module"
</code></pre>
<p>"Загружаемый модуль тем не найден в module_path: «pixmap»," - it translate how "downloader modul haven't found in module_path: "pixmap" "</p>
<p>When I run it with root, error message appear and say me:
    Lua: Error during loading:
     [string "/usr/share/wireshark/init.lua"]:44: dofile has been disabled due to running Wireshark as superuser. See <a href="https://wiki.wireshark.org/CaptureSetup/CapturePrivileges">https://wiki.wireshark.org/CaptureSetup/CapturePrivileges</a> for help in running Wireshark as an unprivileged user.</p>
<p>Please help your foreign friend :)</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/wireshark/" class="post-tag tag-link-wireshark"
                                        title="see questions tagged 'wireshark'" rel="tag">wireshark</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>26 Feb '16, 07:23</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5fbb8191ca77c051c6e0631fcd2ebf2a?s=32&amp;d=identicon&amp;r=g" alt="Your%20brother's gravatar image" />
    <p><a href="/users/23278/your-brother">Your brother</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">&#9679;</span><span class="badgecount">3</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Your brother has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-50546">
    
        <a name="50549"></a>
        <div class="comment" id="comment-50549">
            <div id="post-50549-score" class="comment-score">1</div>
            <div class="comment-text"><p>Can you run dumpcap at the command line?  If not you probably don't have the permissions set up correctly.</p>

<p>When Wireshark says "Couldn't run dumpcap in child process" it should say something after that, for example, "Couldn't run dumpcap in child process: permission denied"  Does it say anything like that in your case?</p>

<p>I don't think the pixmap-related errors are related to the problem.</p></div>
            <div class="comment-info" id="comment-50549-info">
                
                
                
                

                

                <span class="comment-age">(26 Feb '16, 07:49)</span>
                <a class="comment-user userinfo" href="/users/655/jeffmorriss">JeffMorriss ♦</a>
                
            </div>
        </div>
    
        <a name="50550"></a>
        <div class="comment" id="comment-50550">
            <div id="post-50550-score" class="comment-score">1</div>
            <div class="comment-text"><p>Please check that group "wireshark" exists on the machine after installation of wireshark, and if so, make the non-root user under which you run Wireshark a member of that group. Then log in as that user (again) and try running Wireshark again. Details <a href="http://anonscm.debian.org/viewvc/collab-maint/ext-maint/wireshark/trunk/debian/README.Debian?view=markup">here</a>. To avoid error induction by google translate, I put the Russian version below too.</p>

<p>Проверь, существует ли после инсталяции wireshark группа wireshark. Если да, то сделай того не-рута, под именем которого ты запускаешь Wireshark, членом этой группы. Потом (снова) залогинься под именем данного не-рута и снова попробуй запустить Wireshark.</p></div>
            <div class="comment-info" id="comment-50550-info">
                
                
                
                

                

                <span class="comment-age">(26 Feb '16, 08:00)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50740"></a>
        <div class="comment" id="comment-50740">
            <div id="post-50740-score" class="comment-score"></div>
            <div class="comment-text"><p>sindy. Спасибо за ответ на русском))
И так и так уже запускал.</p></div>
            <div class="comment-info" id="comment-50740-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 03:26)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50741"></a>
        <div class="comment not_top_scorer" id="comment-50741">
            <div id="post-50741-score" class="comment-score"></div>
            <div class="comment-text"><p>"I've tried both ways" does not say anything about the result, and does not say anything about the membership of your non-root user in group <code>wireshark</code>.</p>

<p>So please answer the following:</p>

<ul>
<li>
<p>can you run dumpcap as root (yes/no)? (можно ли запустить dumpcap под рутом)?</p>
</li>
<li>
<p>can you run Wireshark as non-root and open an already existing capture file (e.g. downloaded from <a href="https://wiki.wireshark.org/SampleCaptures">here</a>) (yes/no)? (сможешь ли запустить Wireshark как не-рут и открыть какой-либо из файлов по ссылке)?</p>
</li>
<li>
<p>what does a command-line command <code>groups</code> show on your machine if you issue it as root? (что покажет команда <code>groups</code> под рутом)?</p>
</li>
</ul></div>
            <div class="comment-info" id="comment-50741-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 03:50)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50742"></a>
        <div class="comment not_top_scorer" id="comment-50742">
            <div id="post-50742-score" class="comment-score"></div>
            <div class="comment-text"><p>What does "dumpcap" mean? I have run it as root.
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/Wireshark.png" title=""></p>

<p>Next I've opened .cap file from <a href="https://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=view&amp;target=003transf.cap">https://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=view&amp;target=003transf.cap</a></p>

<p>I think it is working </p>

<p><img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/Wireshar1.png" title=""></p>

<p>How can I call <code>groups</code>?
Sorry for my stupid.</p></div>
            <div class="comment-info" id="comment-50742-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 04:26)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50743"></a>
        <div class="comment" id="comment-50743">
            <div id="post-50743-score" class="comment-score">1</div>
            <div class="comment-text"><p>OK, an introduction to command line, <code>dumpcap</code> role, and installation process follows in Russian.</p>

<p>Начнем с того, что "комментарий" и "ответ" - разные вещи. "Ответом" на данном сайте подразумевается исключительно ответ на изначальный вопрос.</p>

<p>По сути: кроме графического пользовательского интерфейса существует еще и командная строка. Понятия не имею, каким образом раздобыть список груп при помощи мыши, значит ищи приложение под названием <code>terminal</code>, <code>CLI window</code>, <code>Command line</code>. Оно должно открыть текстовое окно, в котором можно задавать текстовые команды. Либо надо данную команду уже запускать как рут, либо надо в ее уже окне ввести команду <code>su -</code> и правильно ответить на вопрос на пароль рута. Дальше вводим <code>groups</code> и копируем сюда результат, и вводим <code>dumpcap -D</code> и копируем сюда результат.</p>

<p><code>dumpcap</code> является приложением, которое по идее запускается с правами рута и на самом деле осуществляет съемку пакетов на интерфейсах и при помощи очереди их передаст Wireshark, который его запустил, но по соображениям безопасности сам по себе работает под менее "мощным" пользователем.</p>

<p>То есть если вышеуказанный механизм не работает правильно, то Wireshark запущенный под рутом ругается на то, что не может запустить Lua скрипт (по тем же соображениям безопасности), а запущенный как не-рут ругается на то, что ему не удается запустить dumpcap.</p>

<p>Для того, чтобы данная схема работала, необходимо, чтобы во время инсталляции была создана група wireshark, члены которой имеют право запустить dumpcap с правами рута. По <a href="http://anonscm.debian.org/viewvc/collab-maint/ext-maint/wireshark/trunk/debian/README.Debian?view=markup">этой ссылке неизвестной давности</a> можно считать, что необходимо выбрать подходящий режим уже во время инсталляции. Так как я сам такое в жизни не пробовал (на линуксе пользуюсь <code>tcpdump</code> и в случае необходимости открываю результат на винде), я не знаю, какое текущее состояние инсталляционного пакета и на чем можно споткнуться.</p>

<p>Поэтому, во избежании сложных объяснений, если они вдруг не нужны, я решил сначала узнать, создана ли группа wireshark. Если да, то можно считать, что вся инсталляция была сделана нужным образом, и хватит тех пользователей, которым необходимо выполнять съемку трафика при помощи Wireshark, сделать членами этой группы.</p></div>
            <div class="comment-info" id="comment-50743-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 05:03)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50744"></a>
        <div class="comment not_top_scorer" id="comment-50744">
            <div id="post-50744-score" class="comment-score"></div>
            <div class="comment-text"><p>Thank you.
I can use command line a little :) I know what is it.
If I write groups it show "root".
If I write dampcup it show me: 
Capturing on 'eth0'
File: /tmp/wireshark_pcapng_eth0_20160307182755_izs8Mx</p>

<p>What must I do now?
Могу ли я продолжить разговор на русском или лучше также на английском?</p></div>
            <div class="comment-info" id="comment-50744-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 05:30)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50745"></a>
        <div class="comment" id="comment-50745">
            <div id="post-50745-score" class="comment-score">1</div>
            <div class="comment-text"><p>This is a Q&amp;A site for all users so the language used should be one comprehensible to most users, which currently seems to be English. Also, you will need to understand what the installation process is telling you, and it most likely speaks English too.</p>

<p>I've made a mistake when checking whether the group wireshark exists after installation. Please paste here the result of a CLI command <code>grep wireshark /etc/group</code>.</p></div>
            <div class="comment-info" id="comment-50745-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 05:54)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50746"></a>
        <div class="comment not_top_scorer" id="comment-50746">
            <div id="post-50746-score" class="comment-score"></div>
            <div class="comment-text"><p>OK.
Command line has returned wireshark:x:125:</p></div>
            <div class="comment-info" id="comment-50746-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 06:07)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-50546" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 9
        </span>
        <a href="#" class="show-all-comments-link">show 4 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-50546-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="50747"></a>
                    <div id="answer-container-50747" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-50747-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/50747/up/" rel="nofollow"> </a>
<div id="post-50747-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-50747-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/50747/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>(edit of my original answer in order to make it clearer and more generic).</p>
<p>The following steps are necessary:</p>
<ul>
<li>
<p>during installation of the Wireshark package, you have to answer "Y" to the question whether users without root privileges should be allowed to capture traffic. Doing so will make the installer install the binaries accordingly, create a group named <code>wireshark</code> and set privileges for that group the necessary way. In particular, members of that group are allowed to run the <code>dumpcap</code> binary with privileges sufficient to access network interfaces and thus capture traffic, but the membership gives them no other root-like privileges than this one. Wireshark or tshark invokes the <code>dumpcap</code> binary to do the actual capture and receives the captured data from it.</p>
</li>
<li>
<p>to permit a specific user to capture using wireshark, that user must become a member of group <code>wireshark</code> - usually <em>in addition to</em>, not <em>instead of</em>, the membership of that user in other group(s). To do make a user (e.g. named "exampleuser") a member of group <code>wireshark</code>, it is necessary to execute, with superuser privileges, the following command:</p>
</li>
</ul>
<p><code>usermod -a -G wireshark exampleuser</code></p>
<p>No users are added to group <code>wireshark</code> by default.</p>
<ul>
<li>the membership in group <code>wireshark</code> is effective only for sessions which have started after the membership has been granted. So if the user has been already logged in, they must log in again (start a new session), as their already running sessions do not know about the membership.</li>
</ul>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/50747/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>07 Mar '16, 06:18</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/00fc6e2633725bd871ff636f0175eabc?s=32&amp;d=identicon&amp;r=g" alt="sindy's gravatar image" />
    <p><a href="/users/19586/sindy">sindy</a><br/>
    <span class="score" title="6049 reputation points"><span class="">6.0k</span></span><span title="4 badges"><span class="badge1">&#9679;</span><span class="badgecount">4</span></span><span title="8 badges"><span class="silver">&#9679;</span><span class="badgecount">8</span></span><span title="51 badges"><span class="bronze">&#9679;</span><span class="badgecount">51</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="sindy has 110 accepted answers">24&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/50747/">
                edited
                <strong>10 Mar '16, 11:28</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-50747">
    
        <a name="50750"></a>
        <div class="comment" id="comment-50750">
            <div id="post-50750-score" class="comment-score"></div>
            <div class="comment-text"><p>May I ask you translate it: "Now, assuming the non-root user you use to run Wireshark is yourbrother: while logged in as root, use the following command-line command:"</p></div>
            <div class="comment-info" id="comment-50750-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 07:10)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50751"></a>
        <div class="comment" id="comment-50751">
            <div id="post-50751-score" class="comment-score">1</div>
            <div class="comment-text"><p><u>Почти дословно:</u></p>

<p>Теперь, предполагая, что не-рут, под которым ты запускаешь Wireshark, называется <code>yourbrother</code>: пока залогиненый рутом, введи нижеследующую команду:</p>

<p><u>На обычном русском:</u></p>

<p>Предположим, что имя пользователя - не рута, под которым будем запускать Wireshark - <code>yourbrother</code>. Заходим как рут и вводим нижеследующую команду:</p>

<p>...</p>

<p>В данной команде, естественно, заменим слово <code>yourbrother</code> настоящим логином данного юзера.</p></div>
            <div class="comment-info" id="comment-50751-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 07:19)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50752"></a>
        <div class="comment" id="comment-50752">
            <div id="post-50752-score" class="comment-score"></div>
            <div class="comment-text"><p>I've run Wireshark as root and in other terminal's window written
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/wireshark2_RiaQbsK.png"></p></div>
            <div class="comment-info" id="comment-50752-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 07:44)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50753"></a>
        <div class="comment" id="comment-50753">
            <div id="post-50753-score" class="comment-score">1</div>
            <div class="comment-text"><p>А надо делать точно наоборот. Для того, чтобы сделать <code>spirit</code> членом группы <code>wireshark</code>, необходимо быть рутом.</p>

<p>После изменения запускаем Wireshark от имени <code>spirit</code>, а не от имени <code>root</code>, и пытаемся запустить съемку.</p></div>
            <div class="comment-info" id="comment-50753-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 07:48)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50758"></a>
        <div class="comment not_top_scorer" id="comment-50758">
            <div id="post-50758-score" class="comment-score"></div>
            <div class="comment-text"><p>Interesting screenshot
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/wire_U8eUXUq.png"></p>

<p>Later I have written "sudo usermod -a -G wireshark spirit"</p>

<p><img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/wire1.png"></p></div>
            <div class="comment-info" id="comment-50758-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 09:35)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50760"></a>
        <div class="comment not_top_scorer" id="comment-50760">
            <div id="post-50760-score" class="comment-score"></div>
            <div class="comment-text"><p>Что непонятно в предложении <strong>после изменения</strong> запускаем Wireshark?</p>

<p>Т.е. сначала надо добавить spirit в группу wireshark, а только потом стоит пробовать запускать wireshark как spirit и проводить съемку.</p></div>
            <div class="comment-info" id="comment-50760-info">
                
                
                
                

                

                <span class="comment-age">(07 Mar '16, 12:11)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50791"></a>
        <div class="comment" id="comment-50791">
            <div id="post-50791-score" class="comment-score">1</div>
            <div class="comment-text"><p>Случайно я вчера прошел ту же процедуру на удаленном компе - сначала с версией, которая механизм разделения полномочий еще не поддерживала, а потом с версией, в которой он уже содержится. Что важно:</p>

<ul>
<li>
<p>во время инсталляции, на вопрос "хотите ли вы разрешить обычным пользователям съемку трафика" необходимо ответить "Да"</p>
</li>
<li>
<p>после инсталляции необходимо добавить всех пользователей, которым мы хотим разрешить проводить съемку трафика, в группу wireshark при помощи вышеуказанной команды</p>
</li>
<li>
<p>прежде, чем данный пользователь сможет воспользоваться своим членством в добавленной группе, <strong>ему необходимо  выйти и снова залогиниться</strong></p>
</li>
</ul>

<p>Только после выполнения всех этих шагов данному пользователю ему станет доступна съемка трафика.</p></div>
            <div class="comment-info" id="comment-50791-info">
                
                
                
                

                

                <span class="comment-age">(10 Mar '16, 00:51)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="50792"></a>
        <div class="comment not_top_scorer" id="comment-50792">
            <div id="post-50792-score" class="comment-score"></div>
            <div class="comment-text"><p><img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/wireshark_qwR16GL.png"></p>

<p>Is it working? Error message has disappeared after I've used the command <code>sudo usermod -a -G wireshark &lt;username&gt;</code>.</p>

<p>sindy, Thank you very much!!!
But I must learn how it work :) Can you suggest me a russian manual?</p></div>
            <div class="comment-info" id="comment-50792-info">
                
                
                
                

                

                <span class="comment-age">(10 Mar '16, 05:07)</span>
                <a class="comment-user userinfo" href="/users/23278/your-brother">Your brother</a>
                
            </div>
        </div>
    
        <a name="50803"></a>
        <div class="comment not_top_scorer" id="comment-50803">
            <div id="post-50803-score" class="comment-score"></div>
            <div class="comment-text"><p>Брат, рекомендую принять как факт, что по теме вычислительной техники большинство информационных ресурсов доступно на английском. Любой перевод, если кто-то им займется, является устаревшим уже в момент своего завершения, так как за время выполнения перевода кто-то другой уже двинул сам предмет вперед. Второй момент - Гугл переводчик очень часто меняет смысл текста во всех языках, в случае которых я считаю себя способным оценить качество перевода. Выход единственный - учитья английскому. Знание англисйкого иногда еще и повышает зарплату, так как технарям принципиально сложно учиться иностранным языкам, поэтому технарь способный свободно читать или даже общаться на английском - находка для работодателя.</p>

<p>Ссылка на самое основное введение в Wireshark на русском - <a href="https://cryptoworld.su/wireshark-%D0%BD%D0%B0-%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%BC-%D0%B7%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%D1%81%D1%82%D0%B2%D0%BE-%D1%81-%D0%B0%D0%BA%D1%83%D0%BB%D0%BE%D0%B9/">здесь</a>.</p></div>
            <div class="comment-info" id="comment-50803-info">
                
                
                
                

                

                <span class="comment-age">(10 Mar '16, 10:42)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-50747" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 9
        </span>
        <a href="#" class="show-all-comments-link">show 4 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-50747-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/50546/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='9nKP792iQ8Rpcna3IdQuDaxxypzml1Gi' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/50546/couldnt-run-usrbindumpcap-in-child-process?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/wireshark/"
            class="tag-link-wireshark"
            title="see questions tagged'wireshark'using tags"
            rel="tag">wireshark</a> <span class="tag-number">&#215;1,620</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Feb. 26, 2016, 7:23 a.m.">26 Feb '16, 07:23</strong>
    </p>
    <p> 
     	question was seen: <strong>9,202 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 10, 2016, 11:28 a.m.">10 Mar '16, 11:28</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/27/are-this-questions-for-users-or-developers">Are this questions for Users or Developers?</a>
        </p>
        
        <p>
            <a href="/questions/1230/after-updating-mac-ports-wireshark-is-dead">after updating mac ports wireshark is dead!</a>
        </p>
        
        <p>
            <a href="/questions/2091/wireshark-built-in-dissector-needs-to-be-changed-to-a-plugin">Wireshark built in dissector needs to be changed to a plugin??</a>
        </p>
        
        <p>
            <a href="/questions/2360/difference-between-cap-and-pcap-formats">difference between cap and pcap formats??</a>
        </p>
        
        <p>
            <a href="/questions/2859/port-mirroring-with-wireshark">port mirroring with wireshark</a>
        </p>
        
        <p>
            <a href="/questions/3722/nbns-queries-slowing-wireshark-capture-filter-input">NBNS queries slowing Wireshark capture filter input</a>
        </p>
        
        <p>
            <a href="/questions/4975/wireshark-relocation-error-symbol-g_int64_equal-in-solaris-10">Wireshark relocation error : symbol g_int64_equal in solaris 10</a>
        </p>
        
        <p>
            <a href="/questions/5973/wireshark-not-capturing-probe-request">Wireshark not capturing Probe Request?</a>
        </p>
        
        <p>
            <a href="/questions/7155/wireshark-wifi-http-packages-not-showing">Wireshark wifi http packages not showing</a>
        </p>
        
        <p>
            <a href="/questions/8460/wireshark-host-file-trouble-with-windows-7">Wireshark host file trouble with Windows 7</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
