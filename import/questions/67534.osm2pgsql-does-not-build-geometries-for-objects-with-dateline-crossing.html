<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>osm2pgsql does not build geometries for objects with dateline crossing - OSM Help</title>
        <meta name="description" content="Hello! I am trying to load a PBF dump of Russia into a PostgreSQL database using osm2pgsql. All works almost nice, but planet_osm_polygon table does not contain rows corresponding to objects situated in partly Eastern, partly Western Hemisphere, such as Chukotka Autonomous Okrug, Far Eastern Federal..." />
        <meta name="keywords" content="antimeridian,osm2pgsql,geofabrik" />
        
        <link rel="canonical" href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='YgAg76J7efndzY3O9W3ATy1CAiD0C8Si' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing">osm2pgsql does not build geometries for objects with dateline crossing</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-67534-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67534/up/" rel="nofollow"> </a>
<div id="post-67534-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-67534-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67534/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/67534/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello! I am trying to load a PBF dump of Russia into a PostgreSQL database using osm2pgsql. All works almost nice, but <em>planet_osm_polygon</em> table does not contain rows corresponding to objects situated in partly Eastern, partly Western Hemisphere, such as Chukotka Autonomous Okrug, Far Eastern Federal District and Russia itself. I checked this fact with the following query: </p>
<p><em>select * from planet_osm_polygon where boundary='administrative' and (admin_level='2' or admin_level='3' or admin_level='4') order by admin_level</em></p>
<p>All regions have been created successfully, but those 3 are absent. Here is my command for osm2pgsql to create the database:</p>
<p>osm2pgsql --create --database geo3 --slim -U postgres -E 4326 --style planet.style --hstore --multi-geometry -C 20000 --number-processes 2 -r pbf ru.osm.pbf</p>
<p>Could anyone please help me?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/antimeridian/" class="post-tag tag-link-antimeridian"
                                        title="see questions tagged 'antimeridian'" rel="tag">antimeridian</a>
                                
                                    <a href="/tags/osm2pgsql/" class="post-tag tag-link-osm2pgsql"
                                        title="see questions tagged 'osm2pgsql'" rel="tag">osm2pgsql</a>
                                
                                    <a href="/tags/geofabrik/" class="post-tag tag-link-geofabrik"
                                        title="see questions tagged 'geofabrik'" rel="tag">geofabrik</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>10 Jan '19, 09:32</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7e8e1b07b427abdbd7ba5e9403f87e01?s=32&amp;d=identicon&amp;r=g" alt="molokanov's gravatar image" />
    <p><a href="/users/16140/molokanov">molokanov</a><br/>
    <span class="score" title="26 reputation points">26</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">&#9679;</span><span class="badgecount">2</span></span><span title="3 badges"><span class="bronze">&#9679;</span><span class="badgecount">3</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="molokanov has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/67534/">
                edited
                <strong>11 Jan '19, 11:51</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" alt="SimonPoole's gravatar image" />
            <p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
            <span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">&#9679;</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">&#9679;</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">&#9679;</span><span class="badgecount">701</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-67534">
    
</div>
<div id="comment-tools-67534" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67534-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="67539"></a>
                    <div id="answer-container-67539" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67539-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67539/up/" rel="nofollow"> </a>
<div id="post-67539-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-67539-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67539/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>It isn't possible to represent objects crossing the dateline in WGS84 coordinates and OSM data does not contain any such objects (obvously).</p>
<p>All objects that "should" cross the dateline have been split. I would suggest turning on the data layer on openstreetmap.org and inspecting some of the objects near the dateline.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67539/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>11 Jan '19, 00:45</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" alt="SimonPoole's gravatar image" />
    <p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
    <span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">&#9679;</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">&#9679;</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">&#9679;</span><span class="badgecount">701</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="SimonPoole has 209 accepted answers">18&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/67539/">
                edited
                <strong>11 Jan '19, 00:48</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67539">
    
        <a name="67540"></a>
        <div class="comment" id="comment-67540">
            <div id="post-67540-score" class="comment-score"></div>
            <div class="comment-text"><p>I understand the fact that in WGS84 these objects are split by 180th meridian into two or more separate parts, some of them starting from 180W and other ending at 180E. Consider, for example, relation id 151231. OSM provides all necessary "vertical" ways along 180E and 180W longitudes that are members of this relation and which are performing this splitting and closing all resulting polygons. Apparently, a set of closed polygons can be used to create geometries for the whole relation and we can see this set of polygons if we simply request the relation in the browser: <a href="https://www.openstreetmap.org/relation/151231.">https://www.openstreetmap.org/relation/151231.</a> But my osm2pgsql doesn't build its geometry. How should I make osm2pgsql build it?</p></div>
            <div class="comment-info" id="comment-67540-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 05:39)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="67541"></a>
        <div class="comment" id="comment-67541">
            <div id="post-67541-score" class="comment-score"></div>
            <div class="comment-text"><p>I just checked my database, I have six entries in planet_osm_polygon for 151231 which looks about right. </p>

<p>You are looking for the negative id I hope?</p>

<p>As in </p>

<pre><code>select osm_id from planet_osm_polygon where osm_id=-151231;
</code></pre></div>
            <div class="comment-info" id="comment-67541-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 06:33)</span>
                <a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
                
            </div>
        </div>
    
        <a name="67542"></a>
        <div class="comment" id="comment-67542">
            <div id="post-67542-score" class="comment-score"></div>
            <div class="comment-text"><p>Exactly. I'm looking for osm_id=-151231 with the same query but, on the contrast, I have no entries. What can be the cause?</p></div>
            <div class="comment-info" id="comment-67542-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 07:58)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="67543"></a>
        <div class="comment not_top_scorer" id="comment-67543">
            <div id="post-67543-score" class="comment-score"></div>
            <div class="comment-text"><p>osm2pgsql version? And are the polygons in question unbroken in your input data? (I know that is difficult to determine)</p></div>
            <div class="comment-info" id="comment-67543-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 08:18)</span>
                <a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
                
            </div>
        </div>
    
        <a name="67545"></a>
        <div class="comment not_top_scorer" id="comment-67545">
            <div id="post-67545-score" class="comment-score"></div>
            <div class="comment-text"><p>osm2pgsql 0.96.0</p>

<p>To determine whether all polygons being formed with osm2pgsql are unbroken seems to be impossible. They are not saved in any database field. And members of the relation are ways which are obviously unclosed.</p>

<p>Instead, I did the following thing. I took the latest OSM dump for Russia, loaded it into PostgreSQL, the result is the same. I took all members of relation 151231 via downloadable XML file of the relation. Among the ways listed there, some of them are absent in planet_osm_line table. For example, 180th-meridian ways 239992373, 23820613 and especially border way 50752242. Does it necessarily mean that I have some polygons created by osm2pgsql unclosed?</p></div>
            <div class="comment-info" id="comment-67545-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 08:54)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="67546"></a>
        <div class="comment not_top_scorer" id="comment-67546">
            <div id="post-67546-score" class="comment-score"></div>
            <div class="comment-text"><p>Right now the suspicion is that there might be an issue with geometry building that crept in between 0.95 and 0.96 (it does seem a bit unlikely though).</p>

<p>I would like to investigate a couple of things before continuing here.</p></div>
            <div class="comment-info" id="comment-67546-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 09:46)</span>
                <a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
                
            </div>
        </div>
    
        <a name="67547"></a>
        <div class="comment" id="comment-67547">
            <div id="post-67547-score" class="comment-score">1</div>
            <div class="comment-text"><p>Can you check if the relevant ways from the antimeridian are in your database?</p>

<p>For example way 239992380 (in planet_osm_line).</p>

<p>Sorry I didn't see that you had already answered this.</p>

<p>In any case the issue is likely that extracts from geofabrik do not contain the antimerdian ways and osm2pgsql then obviously can't build the polygons, I tested with an extract of Fiji and saw exactly this issue. My regular database contains the full planet and, naturally, doesn't have this issue.</p>

<p>I've raised the issue with geofabrik, lets see what Frederik says.</p></div>
            <div class="comment-info" id="comment-67547-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 11:02)</span>
                <a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
                
            </div>
        </div>
    
        <a name="67549"></a>
        <div class="comment not_top_scorer" id="comment-67549">
            <div id="post-67549-score" class="comment-score"></div>
            <div class="comment-text"><p>I have checked required ways. Way 239992380 is present in planet_osm_line, whereas way 239992373 is absent.</p>

<p>I will try to load bz2 dump, instead of pbf, maybe this will help me.
Full planet is too huge for me, my workstation has 32 GB RAM.</p></div>
            <div class="comment-info" id="comment-67549-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 11:47)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="67550"></a>
        <div class="comment not_top_scorer" id="comment-67550">
            <div id="post-67550-score" class="comment-score"></div>
            <div class="comment-text"><p>bz2 dump also didn't solve this issue. Results are the same. Hope we will get Geofabrik's answer soon.</p></div>
            <div class="comment-info" id="comment-67550-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 13:19)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="67553"></a>
        <div class="comment" id="comment-67553">
            <div id="post-67553-score" class="comment-score">2</div>
            <div class="comment-text"><p>For reasons unknown, the Geofabrik polygon files used for clipping Aaia, Russia and the Far Eastern District did not extend to 180° but only to 179.9999° (and -179.999°). With regard to Fiji, the Australia-Oceania file did not even contain the over-the-dateline part of the nation, even though the Fiji polygon itself did. I've fixed these issues now and hope that tomorrow's extracts will be good.</p></div>
            <div class="comment-info" id="comment-67553-info">
                
                
                
                

                

                <span class="comment-age">(11 Jan '19, 14:33)</span>
                <a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
                
            </div>
        </div>
    
        <a name="67577"></a>
        <div class="comment not_top_scorer" id="comment-67577">
            <div id="post-67577-score" class="comment-score"></div>
            <div class="comment-text"><p>I've checked the new extract for Russia. It is still not corrected. At least two ways with absolutely different tag sets are absent in the resulting database, but they both are needed to from the country's border correctly:</p>

<p><a href="https://www.openstreetmap.org/way/239992373">https://www.openstreetmap.org/way/239992373</a></p>

<p><a href="https://www.openstreetmap.org/way/50752242">https://www.openstreetmap.org/way/50752242</a></p></div>
            <div class="comment-info" id="comment-67577-info">
                
                
                
                

                

                <span class="comment-age">(14 Jan '19, 07:18)</span>
                <a class="comment-user userinfo" href="/users/16140/molokanov">molokanov</a>
                
            </div>
        </div>
    
        <a name="84482"></a>
        <div class="comment not_top_scorer" id="comment-84482">
            <div id="post-84482-score" class="comment-score"></div>
            <div class="comment-text"><p>Many years passed. And I faced the same problem. Just used osmosis to merge russia.pbf and us.pbf since the us extract borders the russian one. It's not necessary to download planet.pbf. It seems this kind of manipulations may help with other dateline issues.</p></div>
            <div class="comment-info" id="comment-84482-info">
                
                
                
                

                

                <span class="comment-age">(15 May '22, 17:54)</span>
                <a class="comment-user userinfo" href="/users/21775/shmeser">shmeser</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-67539" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 12
        </span>
        <a href="#" class="show-all-comments-link">show 7 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-67539-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/67534/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='YgAg76J7efndzY3O9W3ATy1CAiD0C8Si' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67534/osm2pgsql-does-not-build-geometries-for-objects-with-dateline-crossing?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="https://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/osm2pgsql/"
            class="tag-link-osm2pgsql"
            title="see questions tagged'osm2pgsql'using tags"
            rel="tag">osm2pgsql</a> <span class="tag-number">&#215;263</span><br/>
        
        <a href="/tags/geofabrik/"
            class="tag-link-geofabrik"
            title="see questions tagged'geofabrik'using tags"
            rel="tag">geofabrik</a> <span class="tag-number">&#215;40</span><br/>
        
        <a href="/tags/antimeridian/"
            class="tag-link-antimeridian"
            title="see questions tagged'antimeridian'using tags"
            rel="tag">antimeridian</a> <span class="tag-number">&#215;2</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Jan. 10, 2019, 9:32 a.m.">10 Jan '19, 09:32</strong>
    </p>
    <p> 
     	question was seen: <strong>3,420 times</strong>
    </p>
    <p> 
        last updated: <strong title="May 15, 2022, 5:54 p.m.">15 May '22, 17:54</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server">Are there optimized (fast and minimal) osm.pbf files available for creating a tile server</a>
        </p>
        
        <p>
            <a href="/questions/58385/geofabrik-diff-files-by-country">Geofabrik diff files by country</a>
        </p>
        
        <p>
            <a href="/questions/77884/osm2pgsql-type-geometry-does-not-exist">osm2pgsql - type &quot;geometry&quot; does not exist</a>
        </p>
        
        <p>
            <a href="/questions/88015/how-to-use-geofabrik-internal-download-server-to-use-non-anonymized-change-files-oscgz-wosmosisosm2pgsql">How to use Geofabrik internal download server to use non-anonymized change files (.osc.gz) w/osmosis/osm2pgsql ?</a>
        </p>
        
        <p>
            <a href="/questions/4789/how-to-configure-postgresql-for-mapnik-hourly-updates">How to configure postgresql for mapnik hourly updates?</a>
        </p>
        
        <p>
            <a href="/questions/4888/missing-tables-during-osm2pgsql-import">Missing tables during osm2pgsql import</a>
        </p>
        
        <p>
            <a href="/questions/2259/is-there-a-reason-why-osm2pgsql-produces-negative-osm_id-values">Is there a reason why osm2pgsql produces negative osm_id values?</a>
        </p>
        
        <p>
            <a href="/questions/6256/why-do-osm2pgsql-and-mapnik-use-spherical-projection-900913">Why do osm2pgsql and Mapnik use spherical projection 900913?</a>
        </p>
        
        <p>
            <a href="/questions/4664/way-missing-nodes">Way missing nodes</a>
        </p>
        
        <p>
            <a href="/questions/5956/how-much-ram-does-osm2pgsql-need">How much RAM does osm2pgsql need?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
