<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Error building Wireshark - Windows - Wireshark Q&amp;A</title>
        <meta name="description" content="After some issues with my PATH variable I finally got to build Wireshark. All went well until what looks like the final linker command, then I got the following error:   cl -c -nologo -Zm200 -Zc:wchar_t -FS /DWINPCAP_VERSION=4_1_3 /Zi /W3 /MD /O2 /DWIN32_LEAN_AND_MEAN /DMSC_VER_REQUIRED=1600 /D_CRT_..." />
        <meta name="keywords" content="windows,linker,error,build,x64" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/38124/error-building-wireshark-windows" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/38124/error-building-wireshark-windows?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='gLlC13YYUcmktkv4KljBWJ3jDIaVZCss' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/38124/error-building-wireshark-windows">Error building Wireshark - Windows</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-38124-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/38124/up/" rel="nofollow"> </a>
<div id="post-38124-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-38124-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/38124/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/38124/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>After some issues with my PATH variable I finally got to build Wireshark. All went well until what looks like the final linker command, then I got the following error:</p>
<p><code>
    cl -c -nologo -Zm200 -Zc:wchar_t -FS /DWINPCAP_VERSION=4_1_3 /Zi /W3 /MD /O2 /DWIN32_LEAN_AND_MEAN /DMSC_VER_REQUIRED=1600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_NONSTDC_NO_DEPRECATE -DPSAPI_VERSION=1 /MP /w34295 /w34189 /DNOMINMAX -GR -W3 -w34100 -w34189 -EHsc -DUNICODE -DWIN32 -DWIN64 -DINET6 -DREENTRANT -DHAVE_PCAP_REMOTE -DHAVE_PCAP_SETSAMPLING -DQT_NO_DEBUG -DQT_PRINTSUPPORT_LIB -DQT_WINEXTRAS_LIB -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB -DQT_OPENGL_ES_2 -DQT_OPENGL_ES_2_ANGLE -DNDEBUG -I"...." -I"....\wiretap" -I"C:\Wireshark-win64-libs\gtk2\include\glib-2.0" -I"C:\Wireshark-win64-libs\gtk2\lib\glib-2.0\include" -I"C:\Wireshark-win64-libs\gtk3\include\glib-2.0" -I"C:\Wireshark-win64-libs\gtk3\lib\glib-2.0\include" -I"C:\Wireshark-win64-libs\WpdPack\Include" -I"C:\Wireshark-win64-libs\AirPcap_Devpack_4_1_0_1622\Airpcap_Devpack\include" -I"C:\Wireshark-win64-libs\gnutls-3.2.15-2.9-win64ws\include" -I"C:\Wireshark-win64-libs\GeoIP-1.5.1-2-win64ws\include" -I"C:\Wireshark-win64-libs\zlib125\include" -I"C:\Qt\5.3\msvc2013_64\include" -I"C:\Qt\5.3\msvc2013_64\include\QtPrintSupport" -I"C:\Qt\5.3\msvc2013_64\include\QtWinExtras" -I"C:\Qt\5.3\msvc2013_64\include\QtWidgets" -I"C:\Qt\5.3\msvc2013_64\include\QtGui" -I"C:\Qt\5.3\msvc2013_64\include\QtANGLE" -I"C:\Qt\5.3\msvc2013_64\include\QtCore" -I"." -I"." -I"C:\Qt\5.3\msvc2013_64\mkspecs\win32-msvc2013" -Fo <a href="/users/2802/c-pietquin">@C</a>:\Users\Sid\AppData\Local\Temp\nm8A26.tmp
cl : Command line error D8021 : invalid numeric argument '/FS'
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual Studio 10.0
\VC\Bin\amd64\cl.EXE"' : return code '0x2'
Stop.
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual Studio 10.0
\VC\Bin\amd64\nmake.EXE"' : return code '0x2'
</code>
Any help would be much appreciated,
Sid.</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/windows/" class="post-tag tag-link-windows"
                                        title="see questions tagged 'windows'" rel="tag">windows</a>
                                
                                    <a href="/tags/linker/" class="post-tag tag-link-linker"
                                        title="see questions tagged 'linker'" rel="tag">linker</a>
                                
                                    <a href="/tags/error/" class="post-tag tag-link-error"
                                        title="see questions tagged 'error'" rel="tag">error</a>
                                
                                    <a href="/tags/build/" class="post-tag tag-link-build"
                                        title="see questions tagged 'build'" rel="tag">build</a>
                                
                                    <a href="/tags/x64/" class="post-tag tag-link-x64"
                                        title="see questions tagged 'x64'" rel="tag">x64</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>25 Nov '14, 08:08</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/338cd4c75cfd2984c31cbc30708899d2?s=32&amp;d=identicon&amp;r=g" alt="sid%20Price's gravatar image" />
    <p><a href="/users/12199/sid-price">sid Price</a><br/>
    <span class="score" title="21 reputation points">21</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">&#9679;</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="sid Price has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-38124">
    
</div>
<div id="comment-tools-38124" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-38124-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/38124/error-building-wireshark-windows?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/38124/error-building-wireshark-windows?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/38124/error-building-wireshark-windows?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/38124/error-building-wireshark-windows?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="38168"></a>
                    <div id="answer-container-38168" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-38168-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/38168/up/" rel="nofollow"> </a>
<div id="post-38168-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-38168-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/38168/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="sid Price has selected this answer as the correct answer"
        href="/accept_answer/38168/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Things have got messed up in your build environment.  It may well be time to blow the Wireshark source directory away and grab the sources again and build from the beginning.  You can keep the libs dir.</p>
<p>Changing compilers and x86\x64 choice in the same directory isn't recommended, pick one and stick to it.  If you want to build an x64 version with QT, you need to be using VS2012 at a minimum, but I think you may then have to use Qt &lt; 5.3 which has it's own issues.  If you have VS2013 (and with the free Community Edition there is no cost) then I would recommend you use that.  Note that the Dev Guide hasn't yet been fully updated for VS2013, I have some drafts for the docs but they're not ready yet.</p>
<p>Changing compiler and or x86\x64 choice can leave an incorrect ui\qt\config.pri file.  Deleting that may help.</p>
<p>If using VS2013, this is the simplest method I can come up with, it doesn't require you to make any changes to configuration files etc.  No changes to your PATH environment variable should be needed   (as long as it doesn't have ...\Git\bin):</p>
<ul>
<li>Open a Visual Studio command prompt (from the start menu, Visual Studio 2013 | Visual Studio Tools) either x86 Native or x64 Native as required.</li>
<li>Set some environment vars (adjusting paths or values to suit your build), I keep these in a batch file, note that <code>WIRESHARK_BASE_DIR</code> is a directory that contains the sources in a subdirectory "wireshark":</li>
<li><code>set CYGWIN=nodosfilewarning</code></li>
<li><code>set WIRESHARK_BASE_DIR=path\to\top\level\directory</code></li>
<li><code>set WIRESHARK_TARGET_PLATFORM=win32</code></li>
<li><code>set QT5_BASE_DIR=C:\Qt\Qt5.3.0\5.3\msvc2013</code></li>
<li><code>cd path\to\top\level\directory\wireshark</code></li>
<li><code>nmake -f makfile.nmake verify_tools</code></li>
<li><code>nmake -f makfile.nmake setup</code></li>
<li><code>nmake -f makfile.nmake</code></li>
</ul>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/38168/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>26 Nov '14, 06:16</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" alt="grahamb's gravatar image" />
    <p><a href="/users/1225/grahamb">grahamb ♦</a><br/>
    <span class="score" title="19834 reputation points"><span class="">19.8k</span></span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">&#9679;</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">&#9679;</span><span class="badgecount">206</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="grahamb has 274 accepted answers">22&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-38168">
    
        <a name="38173"></a>
        <div class="comment" id="comment-38173">
            <div id="post-38173-score" class="comment-score"></div>
            <div class="comment-text"><p>grahamb
Thanks you, I will give this a try a little later and let you know how it goes.</p>

<p>The reason I would like to build both x86 and x64 is that I have a partner who is running Wireshark x86 and my computer is x64, we have a product with a custom protocol and having a dissector for it woule speed some of our system debugging.
Thanks again,
Sid.</p></div>
            <div class="comment-info" id="comment-38173-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 07:12)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38174"></a>
        <div class="comment" id="comment-38174">
            <div id="post-38174-score" class="comment-score"></div>
            <div class="comment-text"><p>You can run the x86 build on x64 Windows, I do that all the time.  Unless you specifically need the huge memory available in x64 (in which case working with such captures would be miserable) just stick with the x86 version.</p></div>
            <div class="comment-info" id="comment-38174-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 07:30)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="38176"></a>
        <div class="comment" id="comment-38176">
            <div id="post-38176-score" class="comment-score"></div>
            <div class="comment-text"><p>Hello again,</p>

<p>I have deleted the Wireshark source tree and cloned it again from <a href="https://code.wireshark.org/review/wireshark.">https://code.wireshark.org/review/wireshark.</a></p>

<p>I started to create the a batch file to set my environment variables for an x86 build and ran into a problem, my QT5 tree does not have a sub folder that looks like it is good for VS2013 and x86. I have the following only:</p>

<p>android_armv7
msvc2010_opengl
msvc2013_64
winphone_arm
winphone_x86
winrt_x64</p>

<p>What do I use for VS2013 x86?</p>

<p>I did try an x64 build with the following settings in a batch file:</p>

<p><code>
set CYGWIN=nodosfilewarning
set WIRESHARK_BASE_DIR=C:\DataRoot\Projects\Wireshark
set WIRESHARK_TARGET_PLATFORM=win64
set QT5_BASE_DIR=C:\Qt\5.3\msvc2013_64\bin
</code></p>

<p>I ran it in the VS 2013 x64 native compiler command window and then ran "nmake -f makefile.nmake verify_tools", I got the following error:</p>

<p><code>
C:\DataRoot\Projects\Wireshark&gt;nmake -f makefile.nmake verify_tools</code></p>

<p><code>
</code></p><p><code>Microsoft (R) Program Maintenance Utility Version 12.00.21005.1
Copyright (C) Microsoft Corporation.  All rights reserved.</code></p><code>
</code><p><code>makefile.nmake(8) : fatal error U1052: file 'win32.mak' not found
Stop.
</code></p>
<p>Any input much appreciated,
Sid.</p><p></p></div>
            <div class="comment-info" id="comment-38176-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 09:24)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38177"></a>
        <div class="comment" id="comment-38177">
            <div id="post-38177-score" class="comment-score"></div>
            <div class="comment-text"><p>For x86 qt you'll need to download the appropriate item e.g. <a href="http://download.qt-project.org/official_releases/qt/5.3/5.3.2/qt-opensource-windows-x86-msvc2013_opengl-5.3.2.exe">Qt 5.3.2 for Windows 32-bit (VS 2013, OpenGL, 559.2 MB)</a>.  Note that the title means that the QT package is 32 bit, not that it's only for 32 bit Windows.</p>

<p>For Win32.mak see this question: <a href="https://ask.wireshark.org/questions/4725/file-win32mak-not-found-stop">https://ask.wireshark.org/questions/4725/file-win32mak-not-found-stop</a></p></div>
            <div class="comment-info" id="comment-38177-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 09:41)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="38178"></a>
        <div class="comment" id="comment-38178">
            <div id="post-38178-score" class="comment-score"></div>
            <div class="comment-text"><p>I also see an issue with your setup, you have <code>set WIRESHARK_BASE_DIR=C:\DataRoot\Projects\Wireshark</code> and then are running <code>C:\DataRoot\Projects\Wireshark&gt;nmake -f makefile.nmake verify_tools</code>.</p>

<p><code>WIRESHARK_BASE_DIR</code> should be set one level <strong>higher</strong> than your source directory, e.g <code>C:\DataRoot\Projects</code> in your case.  The 3rd party libs will be installed in <code>WIRESHARK_BASE_DIR\wireshark-win32-libs</code> (or <code>WIRESHARK_BASE_DIR\wireshark-win64-libs</code>)</p></div>
            <div class="comment-info" id="comment-38178-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 09:46)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="38179"></a>
        <div class="comment not_top_scorer" id="comment-38179">
            <div id="post-38179-score" class="comment-score"></div>
            <div class="comment-text"><p>Thank you, I have the x64 build working. I needed to make a couple of other changes to my batch file in addition to the one you suggested. Here is my current file, run after opening the VS 2013 x64 native compiler command window:</p>

<p><code>
set CYGWIN=nodosfilewarning
set CYGWIN_BASE=C:\cygwin64\bin
set WIRESHARK_BASE_DIR=C:\DataRoot\Projects
set WIRESHARK_TARGET_PLATFORM=win64
set QT5_BASE_DIR=C:\Qt\5.3\msvc2013_64
set INCLUDE=%INCLUDE%;c:\Program Files (x86)\Microsoft SDKs\Windows\v7.1A\Include
</code></p>

<p>The last line added after reading the link you posted.</p>

<p>Since I would like to build the x86 as well what is the recommended way of doing this on a single development machine?
Many thanks for your help and patience,
Sid</p></div>
            <div class="comment-info" id="comment-38179-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 11:08)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38181"></a>
        <div class="comment not_top_scorer" id="comment-38181">
            <div id="post-38181-score" class="comment-score"></div>
            <div class="comment-text"><p>At the moment for nmake I recommend two repositories.  I think you can switch one repo between x86 and x64 builds only if you <code>nmake -f makefile.nmake clean</code> and then delete ui\qt\config.pri.  To be honest though do you actually need an x64 version?</p>

<p>Hopefully we'll soon finish off the CMake build system for Windows that builds out-of-source so that one source repo can support many builds.</p></div>
            <div class="comment-info" id="comment-38181-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 11:30)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="38185"></a>
        <div class="comment not_top_scorer" id="comment-38185">
            <div id="post-38185-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks to your efforts and help I now have two repositories on my dev machine and I am able to build both x86 and x64 Wiresharks. So very much appreciated.</p>

<p>Now my next challenge is learning about writing and debugging a protocol dissector. If you have any suggestions for a getting started tutorial for dissector writing I would love to see them.</p>

<p>Sid.</p></div>
            <div class="comment-info" id="comment-38185-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 13:33)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38199"></a>
        <div class="comment not_top_scorer" id="comment-38199">
            <div id="post-38199-score" class="comment-score"></div>
            <div class="comment-text"><p>As it happens you're in luck.  See my SharkFest'13 <a href="http://sharkfest.wireshark.org/sharkfest.13/presentations/PA-10_Writing-a-Wireshark-Dissector_Graham-Bloice.zip">presentation</a> on writing a dissector using 3 options, WSGD, Lua and C.</p>

<p>If using C, you absolutely must read doc\README.Dissector.</p></div>
            <div class="comment-info" id="comment-38199-info">
                
                
                
                

                

                <span class="comment-age">(26 Nov '14, 23:39)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="38214"></a>
        <div class="comment not_top_scorer" id="comment-38214">
            <div id="post-38214-score" class="comment-score"></div>
            <div class="comment-text"><p>Great, I will start by playing with your sample.</p></div>
            <div class="comment-info" id="comment-38214-info">
                
                
                
                

                

                <span class="comment-age">(27 Nov '14, 10:21)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-38168" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-38168-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="38128"></a>
                    <div id="answer-container-38128" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-38128-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/38128/up/" rel="nofollow"> </a>
<div id="post-38128-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-38128-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/38128/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>As seen on <a href="http://stackoverflow.com/questions/24494251/deploying-a-qt-5-3-app-on-windows">stackoverflow</a>, this seems to happen because you are trying to link a MSVC2013 compiled Qt with MSVC2010. As Qt project does not provide any 64bits version binaries for MSVC2010, I fear you have to switch to MSVC2013.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/38128/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>25 Nov '14, 08:32</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/713f24fd877861260b71ecd455018625?s=32&amp;d=identicon&amp;r=g" alt="Pascal%20Quantin's gravatar image" />
    <p><a href="/users/1538/pascal-quantin">Pascal Quantin</a><br/>
    <span class="score" title="5544 reputation points"><span class="">5.5k</span></span><span title="10 badges"><span class="silver">&#9679;</span><span class="badgecount">10</span></span><span title="60 badges"><span class="bronze">&#9679;</span><span class="badgecount">60</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Pascal Quantin has 92 accepted answers">30&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-38128">
    
        <a name="38130"></a>
        <div class="comment" id="comment-38130">
            <div id="post-38130-score" class="comment-score"></div>
            <div class="comment-text"><p>This is confusing because I am using the Wireshark procedure for building. I have VS 2013 on my dev machine, how do I change the Wireshark build to use 2013?
Sid.</p></div>
            <div class="comment-info" id="comment-38130-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 08:58)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38138"></a>
        <div class="comment" id="comment-38138">
            <div id="post-38138-score" class="comment-score"></div>
            <div class="comment-text"><p>By ensuring that you run the batch file created during MSVC2013 installation and that you can find in Start menu which will set the relevant environment variables (Start -&gt; Programs -&gt; Visual Studio 2013 -&gt; Visual Studio Tools). In your log you can see that the linker and compiler used are the ones from MSVC2010, not 2013. This is not related to Wireshark itself.</p></div>
            <div class="comment-info" id="comment-38138-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 11:34)</span>
                <a class="comment-user userinfo" href="/users/1538/pascal-quantin">Pascal Quantin</a>
                
            </div>
        </div>
    
        <a name="38139"></a>
        <div class="comment" id="comment-38139">
            <div id="post-38139-score" class="comment-score"></div>
            <div class="comment-text"><p>Well that does not work, there are errors about VS versions. Since I followed the instructions for building Wireshark using VS 2010 there must be other changes required to build with VS 2013. I feel like I now have a mixture of scripts and configurations for VS 2010 and VS 2013.</p>

<p>I ask why the detailed instructions given do not work, what's the point in having them if they are wrong/incomplete.
Sid.</p></div>
            <div class="comment-info" id="comment-38139-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 12:44)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38140"></a>
        <div class="comment" id="comment-38140">
            <div id="post-38140-score" class="comment-score"></div>
            <div class="comment-text"><p>I question the original statement about QT, the path to the QT binary folder is:</p>

<p>C:\Qt\5.3\msvc2010_opengl\bin</p>

<p>Note "msvc2010".
Sid.</p></div>
            <div class="comment-info" id="comment-38140-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 12:46)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38141"></a>
        <div class="comment" id="comment-38141">
            <div id="post-38141-score" class="comment-score"></div>
            <div class="comment-text"><p>In your original report, the path is C:\Qt\5.3\msvc2013_64 and not C:\Qt\5.3\msvc2010_opengl, so you were already mixing things (you were building for x64 and not x86). There are no other requirements for building with MSVC2013 other than (of course) cleaning all your objects before rebuilding. But if you do not tell what errors you get, it's hard to support you...
Also please pay more intention to the instructions provided in the developer guide. More specifically the sentence "Consult your compiler’s documentation to learn which version applies to your installation." does matter... If you think some things are missing in the documentation (typically what is related to Qt is missing I think as it's a work in progress) contributions are welcome.</p></div>
            <div class="comment-info" id="comment-38141-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 13:35)</span>
                <a class="comment-user userinfo" href="/users/1538/pascal-quantin">Pascal Quantin</a>
                
            </div>
        </div>
    
        <a name="38142"></a>
        <div class="comment not_top_scorer" id="comment-38142">
            <div id="post-38142-score" class="comment-score"></div>
            <div class="comment-text"><p>By the way, you did not tell us which Wireshark version you are trying to build. If this is the 1.12 branch, I would not even bother building the Qt GUI as it misses many features. All work for the migration to Qt framework is done in master branch and it is still optional. If you want to skip it (due to environment issues) you can unset QT5_BASE_DIR environment variable (or edit config.nmake) so as to skip it. Up to now, this is not yet a blocker for building Wireshark (you will still have the GTK based GUI).</p></div>
            <div class="comment-info" id="comment-38142-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 13:44)</span>
                <a class="comment-user userinfo" href="/users/1538/pascal-quantin">Pascal Quantin</a>
                
            </div>
        </div>
    
        <a name="38143"></a>
        <div class="comment not_top_scorer" id="comment-38143">
            <div id="post-38143-score" class="comment-score"></div>
            <div class="comment-text"><p>First, I do appreciate you taking the time to try to help. However, if I am directed to use the step-by-step guide then that is what I do! The guide is basically written for VS 2010 so that is what I am trying to use.
The appearance of paths including VS2013 is not by any action I am knowingly taking.
So, I have stepped back and started examining some of the outputs. For example, when I make "verify_tools" no errors are reported, however I do see that QT is not following my environment variable. The variable is set to "C:\Qt\5.3\msvc2010_opengl\bin". The output from "verify tools" shows "c:\Qt\5.3\msvc2013_64\bin". Where is this coming from please? The only environment variable I see is mine for "msvc2010_opengl".
Note I am trying to build the x64 Wireshark.
Sid.</p></div>
            <div class="comment-info" id="comment-38143-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 15:07)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38147"></a>
        <div class="comment not_top_scorer" id="comment-38147">
            <div id="post-38147-score" class="comment-score"></div>
            <div class="comment-text"><p>I think the issue is that using the step-by-step guide and trying to build an x64 version with VS 2010 just doesn't work. I tried removing the Qt5 environment variable and the build tool verifier still found the QT VS 2013 path, even though there was no entry in the environment.</p>

<p>So, I switched to building the x86 version (without QT) and it succeeded and produced a file named "wireshark-gtk.exe" plus several other EXE files. When I tried to run that file it complained about not having "wiretap-1.99.0.dll". Where is this file?
Sid.</p></div>
            <div class="comment-info" id="comment-38147-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 16:27)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38149"></a>
        <div class="comment not_top_scorer" id="comment-38149">
            <div id="post-38149-score" class="comment-score"></div>
            <div class="comment-text"><p>Resolved the wiretap DLL issue, I was executing the wrong EXE.</p>

<p>So now my only issue remaining is how to build x64 Wireshark using VS 2010?
Sid</p></div>
            <div class="comment-info" id="comment-38149-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 17:25)</span>
                <a class="comment-user userinfo" href="/users/12199/sid-price">sid Price</a>
                
            </div>
        </div>
    
        <a name="38152"></a>
        <div class="comment not_top_scorer" id="comment-38152">
            <div id="post-38152-score" class="comment-score"></div>
            <div class="comment-text"><p>As I said earlier, the easiest is to build without Qt support as (as far as I know) Qt project is not providing x64 binaries for MSVC2010. Note that the current development guide is primarily focused on building the stable (master-1.12) branch and that the official builds for development (master) branch is using MSVC2013.</p></div>
            <div class="comment-info" id="comment-38152-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '14, 22:58)</span>
                <a class="comment-user userinfo" href="/users/1538/pascal-quantin">Pascal Quantin</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-38128" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-38128-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/38124/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='gLlC13YYUcmktkv4KljBWJ3jDIaVZCss' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/38124/error-building-wireshark-windows?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/38124/error-building-wireshark-windows?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/windows/"
            class="tag-link-windows"
            title="see questions tagged'windows'using tags"
            rel="tag">windows</a> <span class="tag-number">&#215;254</span><br/>
        
        <a href="/tags/error/"
            class="tag-link-error"
            title="see questions tagged'error'using tags"
            rel="tag">error</a> <span class="tag-number">&#215;193</span><br/>
        
        <a href="/tags/build/"
            class="tag-link-build"
            title="see questions tagged'build'using tags"
            rel="tag">build</a> <span class="tag-number">&#215;110</span><br/>
        
        <a href="/tags/x64/"
            class="tag-link-x64"
            title="see questions tagged'x64'using tags"
            rel="tag">x64</a> <span class="tag-number">&#215;10</span><br/>
        
        <a href="/tags/linker/"
            class="tag-link-linker"
            title="see questions tagged'linker'using tags"
            rel="tag">linker</a> <span class="tag-number">&#215;7</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Nov. 25, 2014, 8:08 a.m.">25 Nov '14, 08:08</strong>
    </p>
    <p> 
     	question was seen: <strong>3,311 times</strong>
    </p>
    <p> 
        last updated: <strong title="Nov. 27, 2014, 10:21 a.m.">27 Nov '14, 10:21</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/22216/windows-build-fails">windows build fails</a>
        </p>
        
        <p>
            <a href="/questions/33169/fatal-error-u1077-return-code-0x2-when-compiling-plugins-on-windows">Fatal Error U1077 return code 0x2 when compiling plugins on Windows</a>
        </p>
        
        <p>
            <a href="/questions/13841/wireshark-windows-build-not-working-due-to-zlib">Wireshark windows build not working due to ZLIB</a>
        </p>
        
        <p>
            <a href="/questions/42747/uicexe-about_dialogui-fatal-error-0xc0000135">uic.exe about_dialog.ui fatal error (0xc0000135)</a>
        </p>
        
        <p>
            <a href="/questions/59828/build-with-dissector-plugin-fails-in-windows">build with dissector plugin fails in Windows</a>
        </p>
        
        <p>
            <a href="/questions/62/static-tshark-builds-for-linux-andor-solaris-sparcx64">static tshark builds for linux and/or solaris sparc/x64</a>
        </p>
        
        <p>
            <a href="/questions/28843/wireshark-build-fails-when-trying-to-compile-plugin">Wireshark build fails when trying to compile plugin</a>
        </p>
        
        <p>
            <a href="/questions/32667/command-not-found-errors-when-building-from-source-on-windows-7">Command not found errors when building from source on Windows 7</a>
        </p>
        
        <p>
            <a href="/questions/153/building-latest-trunk">Building Latest Trunk</a>
        </p>
        
        <p>
            <a href="/questions/19425/the-contents-of-cwireshark-win32-libscurrent_tagtxt-is-unknown">The contents of C:\wireshark-win32-libs\current_tag.txt is (unknown)</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
