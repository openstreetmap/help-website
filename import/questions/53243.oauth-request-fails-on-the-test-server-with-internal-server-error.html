<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Oauth request fails on the test server with &quot;Internal Server Error&quot;. - OSM Help</title>
        <meta name="description" content="Hello! We receive &quot;500 Internal Server Error&quot; every time when sending requests to the test server using this URL:  http://api06.dev.openstreetmap.org/oauth/request_token and our Consumer Key and Consumer Secret. The requests are build via different libraries and Postman app. We also tested once agai..." />
        <meta name="keywords" content="oauth" />
        
        <link rel="canonical" href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='c8kRuepMCMxjPKumEKuGHl4ZoaD1CneS' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error">Oauth request fails on the test server with &quot;Internal Server Error&quot;.</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-53243-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/53243/up/" rel="nofollow"> </a>
<div id="post-53243-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-53243-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/53243/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/53243/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello!
We receive "500 Internal Server Error" every time when sending requests to the test server using this URL:
 <a href="http://api06.dev.openstreetmap.org/oauth/request_token">http://api06.dev.openstreetmap.org/oauth/request_token</a>
and our Consumer Key and  Consumer Secret. The requests are build via different libraries and Postman app. We also tested once against the main server just to check if our Consumer Key and Consumer Secret are valid and we received a proper response with Token and Token Secret. Can you please give us a hint on what can be wrong?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/oauth/" class="post-tag tag-link-oauth"
                                        title="see questions tagged 'oauth'" rel="tag">oauth</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>05 Dec '16, 09:09</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/bb46259512c7f1c54b1579632ff2b864?s=32&amp;d=identicon&amp;r=g" alt="tester4321's gravatar image" />
    <p><a href="/users/13053/tester4321">tester4321</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">&#9679;</span><span class="badgecount">2</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="tester4321 has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-53243">
    
        <a name="53244"></a>
        <div class="comment" id="comment-53244">
            <div id="post-53244-score" class="comment-score">1</div>
            <div class="comment-text"><p>Just to be clear - the api06 dev server and the live server use completely different sets of accounts.  Can you login to the dev server from e.g. <a href="http://master.apis.dev.openstreetmap.org/">http://master.apis.dev.openstreetmap.org/</a> ?</p></div>
            <div class="comment-info" id="comment-53244-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '16, 09:26)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-53243" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-53243-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="55238"></a>
                    <div id="answer-container-55238" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-55238-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/55238/up/" rel="nofollow"> </a>
<div id="post-55238-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-55238-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/55238/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I encountered similar problem and dug down to find out origin of the problem.</p>
<p>There may be two type of origins:</p>
<ol>
<li>Redirection. Protocol of dev server have been changed to HTTPS from HTTP. The DEV server returns 301 (Moved Permanently) response for HTTP request, but some framework doesn't handle it.</li>
<li>Certificate hostname mismatch. HTTPS connection does confirming identify of the target server as well as encrypting contents. Basic confirming procedure is done by comparing hostname with commonName field in the certificate. The DEV server utilizes virtual host. It means that the server's action will be different for each requested domain. For this scheme is working, it is needed to send domain name when you retrieve certificate. However, some old SSL library or languages doesn’t have such feature. The DEV server returns a certificate for ‘apis.openstreetmap.org’ when no domain specified and identifying procedure fails.</li>
</ol>
<p>Solution:</p>
<ol>
<li>Replace http:// to https://. Note that it will introduce the second problem.</li>
<li>If there is no change in server then you can do two things – 1) Upgrade your framework or language with latest version. 2) Disable identifying process (I checked some framework and languages, but they didn’t give this option. You may modify core library manually)
However, I think that it would better to hand it over to OSM developers.</li>
</ol>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/55238/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>22 Mar '17, 15:41</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/13d95f413ff7e39e26a9e7af4d4c6dfd?s=32&amp;d=identicon&amp;r=g" alt="nrimbo's gravatar image" />
    <p><a href="/users/13505/nrimbo">nrimbo</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">&#9679;</span><span class="badgecount">1</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="nrimbo has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/55238/">
                edited
                <strong>22 Mar '17, 15:59</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-55238">
    
</div>
<div id="comment-tools-55238" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-55238-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/53243/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='c8kRuepMCMxjPKumEKuGHl4ZoaD1CneS' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/53243/oauth-request-fails-on-the-test-server-with-internal-server-error?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="https://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/oauth/"
            class="tag-link-oauth"
            title="see questions tagged'oauth'using tags"
            rel="tag">oauth</a> <span class="tag-number">&#215;22</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Dec. 5, 2016, 9:09 a.m.">05 Dec '16, 09:09</strong>
    </p>
    <p> 
     	question was seen: <strong>2,684 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 22, 2017, 3:59 p.m.">22 Mar '17, 15:59</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/12329/josm-not-accepting-my-osm-username-password-josm-oauth-failing">JOSM not accepting my OSM username &amp; password - JOSM OAuth failing</a>
        </p>
        
        <p>
            <a href="/questions/13203/getting-a-token">Getting a token</a>
        </p>
        
        <p>
            <a href="/questions/13233/link-for-oauth">Link for OAuth</a>
        </p>
        
        <p>
            <a href="/questions/14831/oauth-calling-for-request-token">Oauth calling for Request Token</a>
        </p>
        
        <p>
            <a href="/questions/17694/create-a-changeset-using-api">Create a &#39;changeset&#39; using api</a>
        </p>
        
        <p>
            <a href="/questions/18459/verify-credentials-in-osm-oauth">Verify Credentials in OSM oauth</a>
        </p>
        
        <p>
            <a href="/questions/23517/oauth-authorisation-failed">OAuth authorisation failed</a>
        </p>
        
        <p>
            <a href="/questions/24679/openmapserver-all-in-own-location-installed-ubuntu-124">OpenMapServer - all in own location installed - Ubuntu 12.4</a>
        </p>
        
        <p>
            <a href="/questions/30157/oauth-callback-problem">Oauth Callback Problem</a>
        </p>
        
        <p>
            <a href="/questions/10303/how-to-get-user-name-and-uid-with-oauth">How to get user name and uid with oAuth?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
