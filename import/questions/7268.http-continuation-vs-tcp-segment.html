<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>HTTP Continuation vs. TCP segment - Wireshark Q&amp;A</title>
        <meta name="description" content="I&#39;m examining results from tcpdump using wireshark/tshark and I&#39;m seeing many packets with info &quot;Continuation or non-HTTP traffic&quot; and many other packets with info &quot;[TCP segment of a reassembled PDU]&quot;. I&#39;m curious as to what the difference between the two is. The trace comes from a simulation of cli..." />
        <meta name="keywords" content="continuation,segment,http,tcp,tcpdump" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/7268/http-continuation-vs-tcp-segment" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/7268/http-continuation-vs-tcp-segment?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='RV7IyIs4b3IJxNb6KQttZXN5vcYgNW91' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/7268/http-continuation-vs-tcp-segment">HTTP Continuation vs. TCP segment</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-7268-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/7268/up/" rel="nofollow"> </a>
<div id="post-7268-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-7268-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/7268/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/7268/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   1
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I'm examining results from tcpdump using wireshark/tshark and I'm seeing many packets with info "Continuation or non-HTTP traffic" and many other packets with info "[TCP segment of a reassembled PDU]".  I'm curious as to what the difference between the two is.</p>
<p>The trace comes from a simulation of client-server interaction using HTTP streaming.  Each client initiates an HTTP connection (using GET) and the server proceeds to send back chunked data indefinitely.  The size of the content is therefore unknown and cannot be provided in the header.</p>
<p>I'm quite confused because when I compare a "Continuation" packet with a "TCP segment" packet, they look nearly identical (the differences being minor details such as the timestamp).  Can anyone shed some light on these two concepts for me?</p>
<p>Thank-you,</p>
<p>Eric</p>
<p><strong>Edit:</strong></p>
<p>Here is one of my <a href="http://cloudshark.org/captures/48a0ca8e0d35">captures</a>.  In this particular trace, it looks like the switchover from "reassembled PDU" to "HTTP continuation" starts at number 6054/6055. Note that there are quite a lot of duplicate messages where the difference is just in the port; this is because it is simulating many clients (500 in this one, I believe).</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/continuation/" class="post-tag tag-link-continuation"
                                        title="see questions tagged 'continuation'" rel="tag">continuation</a>
                                
                                    <a href="/tags/segment/" class="post-tag tag-link-segment"
                                        title="see questions tagged 'segment'" rel="tag">segment</a>
                                
                                    <a href="/tags/http/" class="post-tag tag-link-http"
                                        title="see questions tagged 'http'" rel="tag">http</a>
                                
                                    <a href="/tags/tcp/" class="post-tag tag-link-tcp"
                                        title="see questions tagged 'tcp'" rel="tag">tcp</a>
                                
                                    <a href="/tags/tcpdump/" class="post-tag tag-link-tcpdump"
                                        title="see questions tagged 'tcpdump'" rel="tag">tcpdump</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>07 Nov '11, 18:31</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/52c6078760d2bc4d0238604270db8186?s=32&amp;d=identicon&amp;r=g" alt="eHalcyon's gravatar image" />
    <p><a href="/users/1845/ehalcyon">eHalcyon</a><br/>
    <span class="score" title="16 reputation points">16</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="3 badges"><span class="silver">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="eHalcyon has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/7268/">
                edited
                <strong>10 Nov '11, 15:43</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-7268">
    
</div>
<div id="comment-tools-7268" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-7268-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/7268/http-continuation-vs-tcp-segment?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/7268/http-continuation-vs-tcp-segment?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/7268/http-continuation-vs-tcp-segment?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/7268/http-continuation-vs-tcp-segment?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="7269"></a>
                    <div id="answer-container-7269" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-7269-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/7269/up/" rel="nofollow"> </a>
<div id="post-7269-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-7269-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/7269/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>This is merely a result of the TCP Protocol preferences setup, giving you two different views on the same type of data. If you go to your Wireshark Preferences and select the TCP protocol settings, you'll see something called "Allow subdisector to reassemble TCP streams". Depending on wether it is checked or unchecked you get either "reassembled PDU" or "continuation" Messages in the info column.</p>
<p>What this setting does is to allow Wireshark to look for and combine packets that contain pieces of the same payload and reconstruct it for you (otherwise you'd have to export them one by one and assemble them yourself). This is mostly needed for payload reconstruction. If you're more interested in packet timings etc. it is usually better to disable reassembly to see a clearer view on what happened when.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/7269/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>07 Nov '11, 23:59</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/c578ba2967741f25aebd6afef702f432?s=32&amp;d=identicon&amp;r=g" alt="Jasper's gravatar image" />
    <p><a href="/users/145/jasper">Jasper ♦♦</a><br/>
    <span class="score" title="23806 reputation points"><span class="">23.8k</span></span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="51 badges"><span class="silver">&#9679;</span><span class="badgecount">51</span></span><span title="284 badges"><span class="bronze">&#9679;</span><span class="badgecount">284</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Jasper has 263 accepted answers">18&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-7269">
    
        <a name="7288"></a>
        <div class="comment" id="comment-7288">
            <div id="post-7288-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for the response!  I tried unchecking the option, which left only "Continuation" messages.  However, I am still curious as to why BOTH messages appear when the option is set.  That is, when I "allow subdisector to reassemble TCP streams", it starts off with "reassembled PDU" but still eventually ends up with "continuation" messages.</p></div>
            <div class="comment-info" id="comment-7288-info">
                
                
                
                

                

                <span class="comment-age">(08 Nov '11, 12:49)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-7269" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-7269-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="7317"></a>
                    <div id="answer-container-7317" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-7317-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/7317/up/" rel="nofollow"> </a>
<div id="post-7317-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-7317-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/7317/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>In fact there are at least three different issues with reassembling considered chunked HTTP transfer encoding and you must check your preferences very carefully, especially if you are dealing with 'endless' server connection sending chunks of messages. </p>
<p>First, the application-level protocol packet, such as HTTP request may fit in single TCP segment, and may not. If the HTTP header is big enough to be split in segments (that's a rare issue, but happens if site is sending lots of cookies and optional X-headers), then you will see two or more packets in the wireshark capture, period. The same can happen to HTTP response headers and mostly it does happen to HTTP request/response bodies. 
Sometimes applications just do send HTTP headers in single TCP segment and HTTP body in next one. But please note, that those segments have nothing in common with chunks, when chunked Transfer-Encoding is used, because that encoding is application level and TCP is the transport level of the OSI model. So, even your single "chunk" can span multiple segments. 
But that's not the whole story. Single TCP segment can either fit in ethernet frame (PDU), but can be split as well. Most of the time this does not happen, but for some badly configured Windows machines the maximum size of TCP frame is bigger then usual maximum of Ethernet switches can handle. 
To add more fun, transport-level packets must be ACK'ed by the endpoint, and sometimes ACK is set within next TCP data packet, and sometimes it is sent separately, while still on the same HTTP port.</p>
<p>So, if you try to analyse Web application traffic on TCP level, you'll get a loads of useless sh#t most of the time. That's why you should use filters.</p>
<p>To help upper-level protocols collect and filter information, the wireshark dissectors have notion of 'reassembling', where higher-level dissector returns special code meaning 'hey, I need more data to properly dissect this packet' and then processing is restarted when more data arrives.</p>
<p>If you turn off ALL reassembling options for TCP and HTTP (and SSL) protocols, then you'll see the naked packets as they are on the wire. You'll notice that 'Continuation of HTTP traffic' message in Info column when packet is with data, but neither HTTP request nor HTTP response header found within it. And all packets without data will be tagged as plain TCP in Protocol column. Mostly that's about ACKs, SYNs and FINs, so you can filter them out. </p>
<p>If you allow TCP to reassemble streams, but leave other options unchecked - the picture won't change much, because upper level protocols won't request reassembling.</p>
<p>If you allow HTTP to request reassembling the headers spanning multiple segments and bodies then you can already do filtering by application protocol means. E.g. enter 'http' in the Display filter and you'll can forget about all [reassembled PDU] infos - they all be marked as being 'TCP' protocol.</p>
<p>Now the dangled part - reassembling application-level chunks. If you analyse protocol that depends upon sending data in chunks, e.g. AJAX chat over HTTP, I'd suggest leaving that option unchecked. Because reassembling stops when you receive the chunk with '0' size, which in your case you would never.</p>
<p>However, if your application does encode HTTP bodies with gzip, and use chunked encoding just to send it in streamlined version, you'd better check option of chunk reassembling, otherwise ungzipping will fail.</p>
<p>That was quite a lot of text above, but hope now everything is clear for you.</p>
<p>Also, if you want more advanced filtering options for HTTP responses, you may find it useful to install following Lua script : <a href="https://github.com/shomeax/wireshark-http-extra">Assocating HTTP responses to requests in Wireshark</a>. Should you have any questions about it, feel free to ask.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/7317/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>08 Nov '11, 22:57</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/35d96b8e73e6deb4e332d076fd3269b6?s=32&amp;d=identicon&amp;r=g" alt="ShomeaX's gravatar image" />
    <p><a href="/users/1855/shomeax">ShomeaX</a><br/>
    <span class="score" title="73 reputation points">73</span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="ShomeaX has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-7317">
    
        <a name="7332"></a>
        <div class="comment" id="comment-7332">
            <div id="post-7332-score" class="comment-score"></div>
            <div class="comment-text"><p>All very interesting!  However, I am still confused as to why I am seeing both "reassembled PDU" and "HTTP continuation" messages in the same trace when the "allow subdisector to reassemble TCP streams" option is checked.  Any ideas?</p></div>
            <div class="comment-info" id="comment-7332-info">
                
                
                
                

                

                <span class="comment-age">(09 Nov '11, 12:00)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
        <a name="7338"></a>
        <div class="comment" id="comment-7338">
            <div id="post-7338-score" class="comment-score"></div>
            <div class="comment-text"><p>Does this by any chance happen after a lost packet?</p>

<p>It might also be a bug in the HTTP dissector, but it's hard to tell without the tracefile...</p></div>
            <div class="comment-info" id="comment-7338-info">
                
                
                
                

                

                <span class="comment-age">(09 Nov '11, 14:51)</span>
                <a class="comment-user userinfo" href="/users/5/syn-bit">SYN-bit ♦♦</a>
                
            </div>
        </div>
    
        <a name="7344"></a>
        <div class="comment" id="comment-7344">
            <div id="post-7344-score" class="comment-score"></div>
            <div class="comment-text"><p>+1 for posting tracefile, but considering the context, the first might be part of responses with Content-Length set, and the last are just the responses with Transfer-Encoding set to chunked, in case you've unchecked the "reassemble chunked-transfer bodies" in HTTP settings.</p></div>
            <div class="comment-info" id="comment-7344-info">
                
                
                
                

                

                <span class="comment-age">(09 Nov '11, 16:25)</span>
                <a class="comment-user userinfo" href="/users/1855/shomeax">ShomeaX</a>
                
            </div>
        </div>
    
        <a name="7347"></a>
        <div class="comment" id="comment-7347">
            <div id="post-7347-score" class="comment-score"></div>
            <div class="comment-text"><p>No, packets do not seem to be lost.  Well, I have a few "TCP ACKed lost segment" but there are no retransmissions so I think that means that TCPdump just missed the segment but caught the ACK.  But those messages don't come up near where it starts switching from "reassembled PDU" to "continuation".<br>
</p>

<p>Apologies for my ignorance, but is there a way for me to attach a file here or should I just copy+paste text?</p></div>
            <div class="comment-info" id="comment-7347-info">
                
                
                
                

                

                <span class="comment-age">(09 Nov '11, 16:54)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
        <a name="7358"></a>
        <div class="comment" id="comment-7358">
            <div id="post-7358-score" class="comment-score">1</div>
            <div class="comment-text"><p>oh, yeah, http://cloudshark.org looks more useful for uploading captures. =)</p></div>
            <div class="comment-info" id="comment-7358-info">
                
                
                
                

                

                <span class="comment-age">(09 Nov '11, 23:39)</span>
                <a class="comment-user userinfo" href="/users/1855/shomeax">ShomeaX</a>
                
            </div>
        </div>
    
        <a name="7378"></a>
        <div class="comment not_top_scorer" id="comment-7378">
            <div id="post-7378-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="http://cloudshark.org/captures/48a0ca8e0d35">http://cloudshark.org/captures/48a0ca8e0d35</a></p>

<p>In this particular trace, it looks like the switchover from "reassembled PDU" to "HTTP continuation" starts at number 6054/6055.  Note that there are quite a lot of duplicate messages where the difference is just in the port; this is because it is simulating many clients (500 in this one, I believe).</p></div>
            <div class="comment-info" id="comment-7378-info">
                
                
                
                

                

                <span class="comment-age">(10 Nov '11, 13:14)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
        <a name="7381"></a>
        <div class="comment not_top_scorer" id="comment-7381">
            <div id="post-7381-score" class="comment-score"></div>
            <div class="comment-text"><p>From what I see, there is the exact http response packet missing in the tcp stream which frame 6055 is part of (ip.addr==192.168.0.169 and ip.addr==192.168.0.170 and tcp.port==60078).</p>

<p>Could this be the thing missing in order for reassembly to get started? Because if I for example select "ignore packet" on a 200 OK in my 1.6.0 wireshark, I see the absolute same thing that reassembly stops to work after a packet loss which is pretty obvious to me</p></div>
            <div class="comment-info" id="comment-7381-info">
                
                
                
                

                

                <span class="comment-age">(11 Nov '11, 03:56)</span>
                <a class="comment-user userinfo" href="/users/146/landi">Landi</a>
                
            </div>
        </div>
    
        <a name="7422"></a>
        <div class="comment not_top_scorer" id="comment-7422">
            <div id="post-7422-score" class="comment-score"></div>
            <div class="comment-text"><p>Landi, I'm not sure what you mean.  In frame 6055's tcp stream (204), I do see that a packet was lost in the capture (there is a an ACK for a lost segment).  Is this what you're referring to?</p>

<p>If I examine the tcp stream for frame 6054 (459), that one switches from "reassembled PDU" to "Continuation" on frame 15091, well before any lost packets.</p></div>
            <div class="comment-info" id="comment-7422-info">
                
                
                
                

                

                <span class="comment-age">(14 Nov '11, 12:17)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
        <a name="7466"></a>
        <div class="comment not_top_scorer" id="comment-7466">
            <div id="post-7466-score" class="comment-score"></div>
            <div class="comment-text"><p>@eHalcyon: That's not what I see in your capture</p>

<p>tcp.stream == 459 gives me perfect "... Reassembled PDU" statements including your mentioned frame 15091. However, later in frame(s) 22861 and 23411 there are ACKed lost segments again and THEN reassembly - like expected -  kicks out.</p>

<p>http://www.imgbox.de/users/public/images/KVIqC7mj5D.png</p></div>
            <div class="comment-info" id="comment-7466-info">
                
                
                
                

                

                <span class="comment-age">(16 Nov '11, 03:05)</span>
                <a class="comment-user userinfo" href="/users/146/landi">Landi</a>
                
            </div>
        </div>
    
        <a name="7474"></a>
        <div class="comment not_top_scorer" id="comment-7474">
            <div id="post-7474-score" class="comment-score"></div>
            <div class="comment-text"><p>@Landi - huh, when I view it on CloudShark I see what you see.  But viewing the same stream in Wireshark, I see this: </p>

<p><a href="http://img215.imageshack.us/img215/2220/wiresharks.png">http://img215.imageshack.us/img215/2220/wiresharks.png</a></p></div>
            <div class="comment-info" id="comment-7474-info">
                
                
                
                

                

                <span class="comment-age">(16 Nov '11, 12:06)</span>
                <a class="comment-user userinfo" href="/users/1845/ehalcyon">eHalcyon</a>
                
            </div>
        </div>
    
        <a name="7500"></a>
        <div class="comment not_top_scorer" id="comment-7500">
            <div id="post-7500-score" class="comment-score"></div>
            <div class="comment-text"><p>Maybe a version issue ? I don't know which Wireshark Version is running behind cloudshark - but maybe you go for the latest 1.6.3 version and compere with one or two others running as portable apps?</p></div>
            <div class="comment-info" id="comment-7500-info">
                
                
                
                

                

                <span class="comment-age">(18 Nov '11, 05:31)</span>
                <a class="comment-user userinfo" href="/users/146/landi">Landi</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-7317" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 11
        </span>
        <a href="#" class="show-all-comments-link">show 6 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-7317-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/7268/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='RV7IyIs4b3IJxNb6KQttZXN5vcYgNW91' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/7268/http-continuation-vs-tcp-segment?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/7268/http-continuation-vs-tcp-segment?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/tcp/"
            class="tag-link-tcp"
            title="see questions tagged'tcp'using tags"
            rel="tag">tcp</a> <span class="tag-number">&#215;752</span><br/>
        
        <a href="/tags/http/"
            class="tag-link-http"
            title="see questions tagged'http'using tags"
            rel="tag">http</a> <span class="tag-number">&#215;293</span><br/>
        
        <a href="/tags/tcpdump/"
            class="tag-link-tcpdump"
            title="see questions tagged'tcpdump'using tags"
            rel="tag">tcpdump</a> <span class="tag-number">&#215;97</span><br/>
        
        <a href="/tags/segment/"
            class="tag-link-segment"
            title="see questions tagged'segment'using tags"
            rel="tag">segment</a> <span class="tag-number">&#215;26</span><br/>
        
        <a href="/tags/continuation/"
            class="tag-link-continuation"
            title="see questions tagged'continuation'using tags"
            rel="tag">continuation</a> <span class="tag-number">&#215;11</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Nov. 7, 2011, 6:31 p.m.">07 Nov '11, 18:31</strong>
    </p>
    <p> 
     	question was seen: <strong>66,431 times</strong>
    </p>
    <p> 
        last updated: <strong title="Nov. 18, 2011, 10:30 a.m.">18 Nov '11, 10:30</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/8029/counting-incoming-tcp-open-http-get-requests-to-a-web-server">Counting incoming TCP open &amp; http GET requests to a web server</a>
        </p>
        
        <p>
            <a href="/questions/47003/tcp-out-of-sequence-on-http-post">TCP out of sequence on HTTP POST</a>
        </p>
        
        <p>
            <a href="/questions/57692/wireshark-doesnt-capture-eapol-packets-and-no-http-traffic">Wireshark doesn&#39;t capture EAPOL Packets and no HTTP Traffic</a>
        </p>
        
        <p>
            <a href="/questions/4962/detect-missing-syn-ack-or-missing-http-response">Detect missing SYN ACK or missing HTTP response</a>
        </p>
        
        <p>
            <a href="/questions/49168/question-in-regard-with-tcp-streams">Question in regard with TCP Streams.</a>
        </p>
        
        <p>
            <a href="/questions/53969/disable-tcp-reassembly-on-cli-tshark">Disable TCP reassembly on CLI tshark</a>
        </p>
        
        <p>
            <a href="/questions/58745/how-to-set-wireshark-on-monitor-mode">How to set wireshark on monitor mode</a>
        </p>
        
        <p>
            <a href="/questions/60437/calculate-delay-in-these-protocols-tcp-dns-http">calculate delay in these protocols TCP, DNS, HTTP</a>
        </p>
        
        <p>
            <a href="/questions/7068/what-are-the-causes-of-slow-response-between-two-host">What are the causes of slow response between two host?</a>
        </p>
        
        <p>
            <a href="/questions/19335/tcp-induced-continuation-question">TCP- induced “Continuation” question.</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
