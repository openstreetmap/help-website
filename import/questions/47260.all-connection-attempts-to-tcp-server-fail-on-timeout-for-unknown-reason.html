<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>All connection attempts to TCP server fail on timeout for unknown reason - Wireshark Q&amp;A</title>
        <meta name="description" content="Hi all, newbie here so sorry in advance. I have a Java server serving Android devices via TCP sockets. All seems well enough until at some uncertain point all attempts to open a new TCP socket to the server fail on timeout. I have a .pcapng capture I recorded using WireShark, but all my attempts to ..." />
        <meta name="keywords" content="tcp,timeout" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='mVS9gE9W8VQdfllX6LLm2FRYXFtmKtXn' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason">All connection attempts to TCP server fail on timeout for unknown reason</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-47260-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/47260/up/" rel="nofollow"> </a>
<div id="post-47260-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-47260-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/47260/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/47260/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hi all, newbie here so sorry in advance.</p>
<p>I have a Java server serving Android devices via TCP sockets. All seems well enough until at some uncertain point all attempts to open a new TCP socket to the server fail on timeout.</p>
<p>I have a .pcapng capture I recorded using WireShark, but all my attempts to investigate what it implies have been for naught. I will appreciate any insight you can give me, even if it's just a piece of the puzzle.</p>
<p>The link to the .pcapng file: <a href="http://1drv.ms/1kbyluL">here</a></p>
<p><strong>Edit:</strong>
So sorry I meant to write this and forgot:
please filter by tcp.port==8888</p>
<p>The server ip is: 79.179.133.193</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/tcp/" class="post-tag tag-link-tcp"
                                        title="see questions tagged 'tcp'" rel="tag">tcp</a>
                                
                                    <a href="/tags/timeout/" class="post-tag tag-link-timeout"
                                        title="see questions tagged 'timeout'" rel="tag">timeout</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>04 Nov '15, 13:55</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e8fd9bc411a40a4e8ccf0041cc2248d6?s=32&amp;d=identicon&amp;r=g" alt="Nom1fan's gravatar image" />
    <p><a href="/users/20755/nom1fan">Nom1fan</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">&#9679;</span><span class="badgecount">3</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Nom1fan has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/47260/">
                edited
                <strong>04 Nov '15, 14:21</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-47260">
    
        <a name="47262"></a>
        <div class="comment" id="comment-47262">
            <div id="post-47262-score" class="comment-score"></div>
            <div class="comment-text"><p>Can you tell us the following infos:
Server IP ?, Server Port ?</p></div>
            <div class="comment-info" id="comment-47262-info">
                
                
                
                

                

                <span class="comment-age">(04 Nov '15, 14:10)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="47263"></a>
        <div class="comment" id="comment-47263">
            <div id="post-47263-score" class="comment-score"></div>
            <div class="comment-text"><p>Edited into my question. Thanks!</p></div>
            <div class="comment-info" id="comment-47263-info">
                
                
                
                

                

                <span class="comment-age">(04 Nov '15, 14:22)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-47260" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-47260-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="47266"></a>
                    <div id="answer-container-47266" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-47266-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/47266/up/" rel="nofollow"> </a>
<div id="post-47266-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-47266-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/47266/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Well as you can see at the picture:<br>
The session to the Port <strong>8888</strong> all got no response to the <strong>SYNs</strong>.
Maybe it is, because the Server IP in the Trace is the <strong>10.0.0.1</strong> and not the <strong>79.179.133.193</strong><br>
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/tcp_retrans_phxKLcK.PNG"></p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/47266/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>04 Nov '15, 14:41</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/3b24b339fc62fb46dced6a443d3202ea?s=32&amp;d=identicon&amp;r=g" alt="Christian_R's gravatar image" />
    <p><a href="/users/16160/christian_r">Christian_R</a><br/>
    <span class="score" title="1830 reputation points"><span class="">1.8k</span></span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="6 badges"><span class="silver">&#9679;</span><span class="badgecount">6</span></span><span title="25 badges"><span class="bronze">&#9679;</span><span class="badgecount">25</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Christian_R has 25 accepted answers">16&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/47266/">
                edited
                <strong>04 Nov '15, 14:43</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-47266">
    
        <a name="47273"></a>
        <div class="comment" id="comment-47273">
            <div id="post-47273-score" class="comment-score"></div>
            <div class="comment-text"><p>I am not sure I understand. The server is 10.0.0.1 I think because I ran the WireShark on the server itself. And on the DHCP of the server itself its internal ip is defined as 10.0.0.1. The external ip is 79.179.133.193.</p>

<p>This is the definition on the router config:</p>

<p>Server's MAC Address  |  Static internal ip</p>

<p>--------------------     ------------------</p>

<p>80:1F:02:00:40:6F      10.0.0.1</p>

<p>Not sure if this can affect anything or not but I thought I should mention it anyway.</p>

<p>Also consider everything can work well for a day or even days and then suddenly this happens. So what can possibly cause this?</p>

<p>Thanks again!</p></div>
            <div class="comment-info" id="comment-47273-info">
                
                
                
                

                

                <span class="comment-age">(04 Nov '15, 22:24)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47274"></a>
        <div class="comment" id="comment-47274">
            <div id="post-47274-score" class="comment-score"></div>
            <div class="comment-text"><p>So you also setup NAT with port forwarding?</p></div>
            <div class="comment-info" id="comment-47274-info">
                
                
                
                

                

                <span class="comment-age">(04 Nov '15, 22:47)</span>
                <a class="comment-user userinfo" href="/users/4/jaap">Jaap ♦</a>
                
            </div>
        </div>
    
        <a name="47276"></a>
        <div class="comment" id="comment-47276">
            <div id="post-47276-score" class="comment-score"></div>
            <div class="comment-text"><p>I have port forwarding rule for port tcp 8888 if that is what you mean.
As I said it works for a long time at first (I believe if there wasn't a port forwarding rule it would have been blocked by the router and never work in the first place).</p></div>
            <div class="comment-info" id="comment-47276-info">
                
                
                
                

                

                <span class="comment-age">(05 Nov '15, 00:42)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47279"></a>
        <div class="comment" id="comment-47279">
            <div id="post-47279-score" class="comment-score"></div>
            <div class="comment-text"><p>Please check the firewall on 10.0.0.1. Looks like it blocks connection attempts to port 8888. And no: The argument, that it worked yesterday does not count ;-))</p></div>
            <div class="comment-info" id="comment-47279-info">
                
                
                
                

                

                <span class="comment-age">(05 Nov '15, 01:19)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="47300"></a>
        <div class="comment" id="comment-47300">
            <div id="post-47300-score" class="comment-score"></div>
            <div class="comment-text"><p>I don't mean "yesterday" :)  I mean even if I just restart the server it works again! On windows firewall I have both inbound and outbound rules allowing 8888 and as I said also on the router config I have port forwarding for 8888.</p>

<p>So why is this happening? :((</p></div>
            <div class="comment-info" id="comment-47300-info">
                
                
                
                

                

                <span class="comment-age">(05 Nov '15, 09:11)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47302"></a>
        <div class="comment not_top_scorer" id="comment-47302">
            <div id="post-47302-score" class="comment-score"></div>
            <div class="comment-text"><p>Can You upload a good try?</p></div>
            <div class="comment-info" id="comment-47302-info">
                
                
                
                

                

                <span class="comment-age">(05 Nov '15, 09:26)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="47326"></a>
        <div class="comment not_top_scorer" id="comment-47326">
            <div id="post-47326-score" class="comment-score"></div>
            <div class="comment-text"><p>Sure thing, here it is: <a href="http://1drv.ms/1QiPvm9">Good try</a></p></div>
            <div class="comment-info" id="comment-47326-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 03:06)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47335"></a>
        <div class="comment not_top_scorer" id="comment-47335">
            <div id="post-47335-score" class="comment-score"></div>
            <div class="comment-text"><p><strong>In the BAD try an EXTERNAL IP SRC is used with the  MAC SRC: DLink...</strong>
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/T1.PNG"></p>

<p><strong>In the GOOD try an INTERNAL IP SRC is used with the MAC SRC: DLink... (same Mac as at the bad try)</strong>
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/T2.PNG"></p></div>
            <div class="comment-info" id="comment-47335-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 04:11)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="47339"></a>
        <div class="comment not_top_scorer" id="comment-47339">
            <div id="post-47339-score" class="comment-score"></div>
            <div class="comment-text"><p>So from what I understand, between the good and the bad tries the server's ip seems different? Once (bad) it appears as external ip (5.29.242.61) and the other (good) it appears as internal ip (10.0.0.138)? </p>

<p>Are you sure this can be the cause of the problem? here is another link to a good try, which I believe the server's ip seems external: <a href="http://1drv.ms/1HwP9kG">2nd good try</a></p>

<p>P.S Not sure if this is related but I am using a dns client (DUC) on my server to map my server's ip to a constant host.</p></div>
            <div class="comment-info" id="comment-47339-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 06:58)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47344"></a>
        <div class="comment not_top_scorer" id="comment-47344">
            <div id="post-47344-score" class="comment-score"></div>
            <div class="comment-text"><p>In the second trace I can see the same addresses like yesterday. But today they work. 
DNS should have nothing to do with it.
- If you took the trace at the server, then I would check the logs of the server.
- check fw config 
- and as <a href="/users/2593/kurt-knochner">@Kurt</a> mentioned is there another adapter or WI-FI adapter at the system?</p></div>
            <div class="comment-info" id="comment-47344-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 10:08)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="47348"></a>
        <div class="comment not_top_scorer" id="comment-47348">
            <div id="post-47348-score" class="comment-score"></div>
            <div class="comment-text"><p>I have only one router so only one wi-fi adapter, nothing else.</p></div>
            <div class="comment-info" id="comment-47348-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 11:39)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
        <a name="47349"></a>
        <div class="comment not_top_scorer" id="comment-47349">
            <div id="post-47349-score" class="comment-score"></div>
            <div class="comment-text"><p>Hm I what I meant was:
Is there only one NIC at the server?
If yes then it is O.K.</p>

<p>Maybe it is the Firewall software at the server?</p></div>
            <div class="comment-info" id="comment-47349-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 12:16)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-47266" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 12
        </span>
        <a href="#" class="show-all-comments-link">show 7 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-47266-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="47343"></a>
                    <div id="answer-container-47343" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-47343-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/47343/up/" rel="nofollow"> </a>
<div id="post-47343-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-47343-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/47343/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>O.K. I repeat  my advice ;-))</p>
<blockquote>
<p>Please check the firewall on 10.0.0.1. Looks like it blocks connection attempts to port 8888. And no: The argument, that it worked yesterday does not count ;-))</p>
</blockquote>
<p>Please take a look at the pcap file <strong>tcp_retrans.pcapng</strong> and apply the following filter.</p>
<blockquote>
<p>(tcp.flags eq 0x02 and ip.dst eq 10.0.0.1) or (ip.src eq 10.0.0.1 and  tcp.flags.reset eq 1)</p>
</blockquote>
<p>You will see, that <strong>ALL</strong> connections (from the internet and the local network) to 10.0.0.1 are being 'dropped' (SYN resend). There are some TCP RESETs for port 80 and 443, but not for any other port.</p>
<p>I see the following possible reasons for that behavior. Most likeley reason at the top!</p>
<ul>
<li>There is a Firewall (or any other security software) on 10.0.0.1 (Windows Firewall) that blocks all connection attemps to 10.0.0.1. However I can't explain why it works for 10.0.0.138 -&gt; 10.0.0.1:8888. Maybe you once added a rule for exactly that combination (pop-up in Windows - "Do you want to allow ....").</li>
<li>The system 10.0.0.1 has multiple Interfaces in the same network and sends the SYN-ACK out another interface, where you did not capture the traffic (run <strong>ipconfig /all</strong> to check).</li>
<li>There is a strange bug in the TCP stack and/or driver that prevents the packets reaching the OS (unlikely)</li>
</ul>
<blockquote>
<p>On windows firewall I have both inbound and outbound rules allowing 8888 an</p>
</blockquote>
<p>Please <strong>disable</strong> the Windows Firewall for a test or any other security software installed on 10.0.0.1 (like AV, VPN client, Endpoint Security, etc.). Most likely the problem will then be gone.</p>
<p>Regards <br>
Kurt</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/47343/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>06 Nov '15, 09:30</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" alt="Kurt%20Knochner's gravatar image" />
    <p><a href="/users/2593/kurt-knochner">Kurt Knochner ♦</a><br/>
    <span class="score" title="24767 reputation points"><span class="">24.8k</span></span><span title="10 badges"><span class="badge1">&#9679;</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">&#9679;</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">&#9679;</span><span class="badgecount">237</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Kurt Knochner has 344 accepted answers">15&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-47343">
    
        <a name="47347"></a>
        <div class="comment" id="comment-47347">
            <div id="post-47347-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi Kurt,</p>

<p>Thanks a lot for the detailed response! I extremely appreciate your help!</p>

<p>I will try to reproduce the issue and then try to disable Windows Firewall, AV, etc one by one to see which is the culprit.</p></div>
            <div class="comment-info" id="comment-47347-info">
                
                
                
                

                

                <span class="comment-age">(06 Nov '15, 11:36)</span>
                <a class="comment-user userinfo" href="/users/20755/nom1fan">Nom1fan</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-47343" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-47343-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/47260/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='mVS9gE9W8VQdfllX6LLm2FRYXFtmKtXn' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/47260/all-connection-attempts-to-tcp-server-fail-on-timeout-for-unknown-reason?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/tcp/"
            class="tag-link-tcp"
            title="see questions tagged'tcp'using tags"
            rel="tag">tcp</a> <span class="tag-number">&#215;752</span><br/>
        
        <a href="/tags/timeout/"
            class="tag-link-timeout"
            title="see questions tagged'timeout'using tags"
            rel="tag">timeout</a> <span class="tag-number">&#215;20</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Nov. 4, 2015, 1:55 p.m.">04 Nov '15, 13:55</strong>
    </p>
    <p> 
     	question was seen: <strong>6,879 times</strong>
    </p>
    <p> 
        last updated: <strong title="Nov. 6, 2015, 12:16 p.m.">06 Nov '15, 12:16</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/60222/getting-the-connection-has-timed-out-when-using-asus-router">Getting The connection has timed out when using asus router</a>
        </p>
        
        <p>
            <a href="/questions/7014/help-analyzing-connection-timeout">Help analyzing connection timeout</a>
        </p>
        
        <p>
            <a href="/questions/35277/too-many-tcp-retransmissions">Too many tcp retransmissions</a>
        </p>
        
        <p>
            <a href="/questions/37335/delayed-fin-and-new-tcp-session-initiated">Delayed FIN and new TCP Session initiated</a>
        </p>
        
        <p>
            <a href="/questions/226/detecting-network-issue-help">Detecting Network Issue - Help</a>
        </p>
        
        <p>
            <a href="/questions/58260/help-with-delayed-packets-dup-acks">Help with delayed packets / DUP ACKs</a>
        </p>
        
        <p>
            <a href="/questions/1632/capturing-data-from-tcp-stream">capturing data from tcp stream</a>
        </p>
        
        <p>
            <a href="/questions/3144/what-does-tcp-windows-scale-zero-means">what does TCP windows scale zero means ?</a>
        </p>
        
        <p>
            <a href="/questions/4610/tcp-window-full">TCP window full</a>
        </p>
        
        <p>
            <a href="/questions/6473/tcp-options-dissector">tcp options dissector</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
