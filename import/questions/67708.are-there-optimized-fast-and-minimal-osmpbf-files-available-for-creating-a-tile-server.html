<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Are there optimized (fast and minimal) osm.pbf files available for creating a tile server - OSM Help</title>
        <meta name="description" content="Hello there, I am very inexperienced in the whole topic, however I managed to set up a tile server using postgresql and renderd following this tutorial: https://switch2osm.org/manually-building-a-tile-server-18-04-lts/ Since I want to use the map for cosmetic purposes only (application only displays..." />
        <meta name="keywords" content="geofabrik,ubuntu,osm2pgsql,tileserver" />
        
        <link rel="canonical" href="https://help.openstreetmap.org/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='y67AETyn6OqA5C4XCw4oUDweWlklFqYF' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server">Are there optimized (fast and minimal) osm.pbf files available for creating a tile server</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-67708-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67708/up/" rel="nofollow"> </a>
<div id="post-67708-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-67708-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67708/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/67708/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello there,</p>
<p>I am very inexperienced in the whole topic, however I managed to set up a tile server using postgresql and renderd following this tutorial: <a href="https://switch2osm.org/manually-building-a-tile-server-18-04-lts/">https://switch2osm.org/manually-building-a-tile-server-18-04-lts/</a></p>
<p>Since I want to use the map for cosmetic purposes only (application only displays the surrounding map; basic shape of streets, buildings and parks), I wonder if the osm.pbf files only contain these raw shape data or if there is a lot of meta data connected with it, to allow querying the postgres for special places etc.
If this is the case, is there a way to get only the "shape files" which would lead to the following:</p>
<ol>
<li>faster osm2psql imports (this is a real bottleneck if one wants to scale a tile server horizontally)</li>
<li>less disc space necessary</li>
<li>faster access times</li>
</ol>
<p>An other question I was really interested in is, if there are any scripts out there which do the steps described in the tutorial above automatically. I tried to make one by myself, but switching users (to postrges and back) does not really seem to work in a script. </p>
<p>I would be really happy if anyone could clear things up for me, maybe I completely misunderstood the kind of files that exist and how to use them.</p>
<p>Greetings,</p>
<p>Erik</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/geofabrik/" class="post-tag tag-link-geofabrik"
                                        title="see questions tagged 'geofabrik'" rel="tag">geofabrik</a>
                                
                                    <a href="/tags/ubuntu/" class="post-tag tag-link-ubuntu"
                                        title="see questions tagged 'ubuntu'" rel="tag">ubuntu</a>
                                
                                    <a href="/tags/osm2pgsql/" class="post-tag tag-link-osm2pgsql"
                                        title="see questions tagged 'osm2pgsql'" rel="tag">osm2pgsql</a>
                                
                                    <a href="/tags/tileserver/" class="post-tag tag-link-tileserver"
                                        title="see questions tagged 'tileserver'" rel="tag">tileserver</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>24 Jan '19, 14:00</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5eabcf32b6244f650e286d308d9341e4?s=32&amp;d=identicon&amp;r=g" alt="Erik1988osm's gravatar image" />
    <p><a href="/users/16206/erik1988osm">Erik1988osm</a><br/>
    <span class="score" title="21 reputation points">21</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">&#9679;</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">&#9679;</span><span class="badgecount">5</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Erik1988osm has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/67708/">
                edited
                <strong>24 Jan '19, 14:40</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-67708">
    
</div>
<div id="comment-tools-67708" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67708-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    3 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="67711"></a>
                    <div id="answer-container-67711" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67711-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67711/up/" rel="nofollow"> </a>
<div id="post-67711-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-67711-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67711/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="Erik1988osm has selected this answer as the correct answer"
        href="/accept_answer/67711/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>One answer to the "cosmetic purposes only" part of the question might be to significantly cut down the data that load load into the database (which obviously will mean that it is smaller and will load quicker).  <a href="https://www.openstreetmap.org/user/SomeoneElse/diary/47027">This diary entry</a> and the one that it lnks to describe doing that for boundaries; you'd want to include a few more features I expect but the principal should still work.</p>
<p>It still might not be the best solution for what you want though; something involving tailored shapefiles might be better, and I'm sure there's a write-up of that somewhere.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67711/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>24 Jan '19, 14:46</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" alt="SomeoneElse's gravatar image" />
    <p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
    <span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">&#9679;</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">&#9679;</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">&#9679;</span><span class="badgecount">866</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="SomeoneElse has 228 accepted answers">16&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67711">
    
        <a name="67713"></a>
        <div class="comment" id="comment-67713">
            <div id="post-67713-score" class="comment-score"></div>
            <div class="comment-text"><p>Thank you. Am I right with my understanding, that osm.pbf files contain much more than just the graphical structure of the map?
Do the "shapefiles" (<a href="https://www.geofabrik.de/en/data/shapefiles.html)">https://www.geofabrik.de/en/data/shapefiles.html)</a> only contain the graphics? And if yes, can I somehow import just these in a postgresql to use with renderd afterwards? I guess for renderd to allow the query there must be at least the positioning data correlated with them to work properly. Do you know any hoster, which offer these minimalistic map graphic/position osm.pbf data?
As far as I can overlook your link, the changes are only made on the style, the backlaying data remains still unchanged (big and slow).</p></div>
            <div class="comment-info" id="comment-67713-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 14:57)</span>
                <a class="comment-user userinfo" href="/users/16206/erik1988osm">Erik1988osm</a>
                
            </div>
        </div>
    
        <a name="67714"></a>
        <div class="comment" id="comment-67714">
            <div id="post-67714-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Am I right with my understanding, that osm.pbf files contain much more than just the graphical structure of the map?</p>
</blockquote>

<p>Yes - the contain all the data in OSM, including many things that any particular map is unlikely to display.  However to be clear is is no one "the map" - there are lots of different representations of OSM data.  <a href="http://openwhatevermap.xyz/#3/28.00/18.00">This</a> is a fun map showing lots of different map styles.</p>

<p>"Shapefile" is just a file format, just as .osm.pbf is, and the page you link to explains a bit about what Geofabrik have put in their shapefiles.</p>

<blockquote>
<p>As far as I can overlook your link, the changes are only made on the style, the backlaying data remains still unchanged (big and slow).</p>
</blockquote>

<p>No, as the linked diary entry says "for boundaries I created a version of that that used osmium, osmconvert and osmfilter to select only boundaries from the data and remove non-boundary tags that might render too".</p></div>
            <div class="comment-info" id="comment-67714-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 15:05)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="67716"></a>
        <div class="comment" id="comment-67716">
            <div id="post-67716-score" class="comment-score"></div>
            <div class="comment-text"><p>Right. So what my solution would be is to not modify the style, as I did to hide certain thinks like name tags, banner etc., but to use osmfilter on a planet.osm.pbf and only keep certain informations of interest. This would probably lead into a way smaller file (?). But I wonder if I could still apply a style to it, since some fields would be missing. Does the osm2pgsql just skip those?</p></div>
            <div class="comment-info" id="comment-67716-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 15:20)</span>
                <a class="comment-user userinfo" href="/users/16206/erik1988osm">Erik1988osm</a>
                
            </div>
        </div>
    
        <a name="67717"></a>
        <div class="comment" id="comment-67717">
            <div id="post-67717-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>But I wonder if I could still apply a style to it, since some fields would be missing. Does the osm2pgsql just skip those?</p>
</blockquote>

<p>It depends - you do have the option to cut down the columns created in the database at data load (using a "style" file), and if you do that then yes, a rendering style that expects those columns to be present will give errors.  You do however have the option to create all the columns and just not load data into them - that shouldn't cause the renderer to fail.</p>

<p>Given that you want a map that looks different to the OSM Carto one, you probably want to experiment with modifying the style as well.</p></div>
            <div class="comment-info" id="comment-67717-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 15:40)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="67719"></a>
        <div class="comment" id="comment-67719">
            <div id="post-67719-score" class="comment-score"></div>
            <div class="comment-text"><p>Thank you very much for your help, it made certain things clear to me. I created a summary below on what steps are necessary, as far as I understood for now.</p></div>
            <div class="comment-info" id="comment-67719-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 15:50)</span>
                <a class="comment-user userinfo" href="/users/16206/erik1988osm">Erik1988osm</a>
                
            </div>
        </div>
    
        <a name="67720"></a>
        <div class="comment not_top_scorer" id="comment-67720">
            <div id="post-67720-score" class="comment-score"></div>
            <div class="comment-text"><p>Can you explain what you mean with tailored shapefiles a little more in detail?</p></div>
            <div class="comment-info" id="comment-67720-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 16:02)</span>
                <a class="comment-user userinfo" href="/users/16206/erik1988osm">Erik1988osm</a>
                
            </div>
        </div>
    
        <a name="67722"></a>
        <div class="comment not_top_scorer" id="comment-67722">
            <div id="post-67722-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Can you explain what you mean with tailored shapefiles a little more in detail?</p>
</blockquote>

<p>One of the more GIS people here is probably better placed to do that, but essentially a shapefile is just a file format.  The page you linked to before offers special purpose shapefiles for e.g. power infrastructure, for example.  There may be someone out there creating "minimal" shapefiles for just major roads, towns, that sort of thing.</p></div>
            <div class="comment-info" id="comment-67722-info">
                
                
                
                

                

                <span class="comment-age">(24 Jan '19, 17:04)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-67711" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 7
        </span>
        <a href="#" class="show-all-comments-link">show 2 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-67711-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="67710"></a>
                    <div id="answer-container-67710" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67710-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67710/up/" rel="nofollow"> </a>
<div id="post-67710-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-67710-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67710/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Re "doing it automatically" <a href="https://www.openstreetmap.org/user/SomeoneElse/diary/45070">this diary entry</a> describes how to do it all using Docker.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67710/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>24 Jan '19, 14:22</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" alt="SomeoneElse's gravatar image" />
    <p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
    <span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">&#9679;</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">&#9679;</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">&#9679;</span><span class="badgecount">866</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="SomeoneElse has 228 accepted answers">16&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67710">
    
</div>
<div id="comment-tools-67710" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67710-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="67718"></a>
                    <div id="answer-container-67718" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67718-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67718/up/" rel="nofollow"> </a>
<div id="post-67718-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-67718-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67718/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>As a summary to what my understanding was, the following steps will lead to a custom file, reduced in its size (and with this probably raise the performance as well):</p>
<ol>
<li>Get a planet.osm.pbf</li>
<li>
<p>Examine the file, to get knowledge about the field names you require: </p>
<p>./osmfilter bremen.o5m --out-count</p>
<pre><code>  28199 highway
  22794 building
  21365 name
  18754 created_by
  17751 source
  11842 addr:housenumber
  11835 addr:street
   5925 addr:postcode
   5724 foot
   5543 addr:city
</code></pre>
</li>
<li>
<p>Apply the filter</p>
<p>./osmfilter norway.osm --keep="highway=primary =secondary waterway=river" &gt;streets.osm</p>
</li>
<li>
<p>Convert the output file with osmconvert if necessary</p>
</li>
<li>
<p>Update your style xml (?)</p>
</li>
<li>
<p>Import the custom file with osm2pgsql</p>
</li>
</ol>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67718/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>24 Jan '19, 15:49</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5eabcf32b6244f650e286d308d9341e4?s=32&amp;d=identicon&amp;r=g" alt="Erik1988osm's gravatar image" />
    <p><a href="/users/16206/erik1988osm">Erik1988osm</a><br/>
    <span class="score" title="21 reputation points">21</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">&#9679;</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">&#9679;</span><span class="badgecount">5</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Erik1988osm has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/67718/">
                edited
                <strong>24 Jan '19, 15:51</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67718">
    
</div>
<div id="comment-tools-67718" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67718-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/67708/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='y67AETyn6OqA5C4XCw4oUDweWlklFqYF' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67708/are-there-optimized-fast-and-minimal-osmpbf-files-available-for-creating-a-tile-server?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/osm2pgsql/"
            class="tag-link-osm2pgsql"
            title="see questions tagged'osm2pgsql'using tags"
            rel="tag">osm2pgsql</a> <span class="tag-number">&#215;263</span><br/>
        
        <a href="/tags/tileserver/"
            class="tag-link-tileserver"
            title="see questions tagged'tileserver'using tags"
            rel="tag">tileserver</a> <span class="tag-number">&#215;204</span><br/>
        
        <a href="/tags/ubuntu/"
            class="tag-link-ubuntu"
            title="see questions tagged'ubuntu'using tags"
            rel="tag">ubuntu</a> <span class="tag-number">&#215;44</span><br/>
        
        <a href="/tags/geofabrik/"
            class="tag-link-geofabrik"
            title="see questions tagged'geofabrik'using tags"
            rel="tag">geofabrik</a> <span class="tag-number">&#215;40</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Jan. 24, 2019, 2 p.m.">24 Jan '19, 14:00</strong>
    </p>
    <p> 
     	question was seen: <strong>4,653 times</strong>
    </p>
    <p> 
        last updated: <strong title="Jan. 24, 2019, 5:22 p.m.">24 Jan '19, 17:22</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/68980/osm2pgsql-error-with-connection-to-database">osm2pgsql error with connection to database</a>
        </p>
        
        <p>
            <a href="/questions/43829/instalation-tile-server-osm-on-ubuntu-1404">instalation tile server OSM on ubuntu 14.04</a>
        </p>
        
        <p>
            <a href="/questions/23250/osm2pgsql-import-for-geo-coding">Osm2pgsql import for geo-coding</a>
        </p>
        
        <p>
            <a href="/questions/41325/how-do-i-estimate-hardware-requirements-to-load-an-osm-extract-into-postgres">How do I estimate hardware requirements to load an OSM extract into Postgres?</a>
        </p>
        
        <p>
            <a href="/questions/42792/ubuntu-1504-tiles-no-longer-generating">Ubuntu 15.04 - Tiles no longer generating</a>
        </p>
        
        <p>
            <a href="/questions/42816/carto-css-hasownproperty-of-undefined">Carto CSS &#39;hasOwnProperty&#39; of undefined</a>
        </p>
        
        <p>
            <a href="/questions/23713/osm2pgsql-restart-data-import-after-crash">osm2pgsql restart data import after crash</a>
        </p>
        
        <p>
            <a href="/questions/23490/osm2pgsql-data-import-non-responsive-ubuntu">osm2pgsql  data import - non-responsive UBUNTU</a>
        </p>
        
        <p>
            <a href="/questions/40736/osm-tileserver-for-real">OSM tileserver for real</a>
        </p>
        
        <p>
            <a href="/questions/41876/how-do-you-change-the-served-region-of-a-tileserver">How do you  change the served region of a tileserver?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
