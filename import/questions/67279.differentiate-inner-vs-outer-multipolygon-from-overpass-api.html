<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Differentiate Inner vs Outer multipolygon from Overpass API - OSM Help</title>
        <meta name="description" content="I&#39;m making an API request to OSM with a bounding box query. When I&#39;m getting an object back that&#39;s a multipolygon, I&#39;m unclear how I can differentiate if the relation is inner vs outer. I figured that would be included in the API response, but it&#39;s not. What am I missing? Is there some way I&#39;m able ..." />
        <meta name="keywords" content="overpass,api,multipolygon" />
        
        <link rel="canonical" href="https://help.openstreetmap.org/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='lIl3lxNLH2oHESU59kJeKzENCAdrDfQA' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api">Differentiate Inner vs Outer multipolygon from Overpass API</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-67279-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67279/up/" rel="nofollow"> </a>
<div id="post-67279-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-67279-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67279/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/67279/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I'm making an API request to OSM with a bounding box query.</p>
<p>When I'm getting an object back that's a multipolygon, I'm unclear how I can differentiate if the relation is inner vs outer. I figured that would be included in the API response, but it's not. What am I missing? Is there some way I'm able to differentiate between the two?</p>
<pre><code>{
          "type" =&gt; "Feature",
            "id" =&gt; "relation/296087",
    "properties" =&gt; {
               "timestamp" =&gt; "2018-07-14T19:04:53Z",
                 "version" =&gt; "5",
               "changeset" =&gt; "60718245",
                    "user" =&gt; "escallic",
                     "uid" =&gt; "2110789",
               "addr:city" =&gt; "Isla Vista",
             "addr:county" =&gt; "Santa Barbara",
        "addr:housenumber" =&gt; "6585",
           "addr:postcode" =&gt; "93117",
             "addr:street" =&gt; "El Colegio Road",
                "building" =&gt; "apartments",
         "building:levels" =&gt; "2",
                    "name" =&gt; "Tropicana Gardens",
                    "type" =&gt; "multipolygon",
                      "id" =&gt; "relation/296087"
    },
      "geometry" =&gt; {
               "type" =&gt; "Polygon",
        "coordinates" =&gt; [ ..... ]
      }
</code></pre>
<p>}</p>
<p><strong>Update</strong> 
The query I'm using to make the request is below:
<code><a href="http://overpass-api.de/api/map?bbox=-119.86475115542854%2C34.410451138127065%2C-119.85719244457147%2C34.416207261872934">http://overpass-api.de/api/map?bbox=-119.86475115542854%2C34.410451138127065%2C-119.85719244457147%2C34.416207261872934</a></code></p>
<p>I'm then taking the data (XML) and using the npm package OSMToGeoJSON to convert it into JSON. I believe that is where the relation information is being lost, as I see it in the raw XML.</p>
<p>How would one make a query for all data in a bounding box, but request JSON. I tried adding the query param <code>data=[out:json];</code> to my response, but I did not get any data back&gt;</p>
<p>I need the inner/outer data for the polygons, because I am re-drawing these maps. I work on a project where were turn these maps into tactile maps for the blind community. If I don't know whether the polygon is supposed to be inner vs outer, it ends up rendering incorrectly.</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/overpass/" class="post-tag tag-link-overpass"
                                        title="see questions tagged 'overpass'" rel="tag">overpass</a>
                                
                                    <a href="/tags/api/" class="post-tag tag-link-api"
                                        title="see questions tagged 'api'" rel="tag">api</a>
                                
                                    <a href="/tags/multipolygon/" class="post-tag tag-link-multipolygon"
                                        title="see questions tagged 'multipolygon'" rel="tag">multipolygon</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>19 Dec '18, 23:30</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/2bf2921024c31d2d4f66c4b4573f19c5?s=32&amp;d=identicon&amp;r=g" alt="kida001's gravatar image" />
    <p><a href="/users/16066/kida001">kida001</a><br/>
    <span class="score" title="31 reputation points">31</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="kida001 has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/67279/">
                edited
                <strong>20 Dec '18, 18:15</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-67279">
    
        <a name="67286"></a>
        <div class="comment" id="comment-67286">
            <div id="post-67286-score" class="comment-score"></div>
            <div class="comment-text"><p>I doubt you made your query with Overpass, so that tag is somewhat misleading.
When I request the relation with id=296087 with <a href="http://overpass-turbo.eu/s/EFb">this Overpass Query</a> there is a section with 'members'.</p>

<p>If you cannot use Overpass for some reason, I don't how how to solve the problem though.</p></div>
            <div class="comment-info" id="comment-67286-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 07:23)</span>
                <a class="comment-user userinfo" href="/users/5390/escada">escada</a>
                
            </div>
        </div>
    
        <a name="67287"></a>
        <div class="comment" id="comment-67287">
            <div id="post-67287-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5390/escada">@escada</a> I'm sending my bbox query to <code><a href="http://overpass-api.de/api/map">http://overpass-api.de/api/map</a></code> ... is that not overpass?</p></div>
            <div class="comment-info" id="comment-67287-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 07:28)</span>
                <a class="comment-user userinfo" href="/users/16066/kida001">kida001</a>
                
            </div>
        </div>
    
        <a name="67288"></a>
        <div class="comment" id="comment-67288">
            <div id="post-67288-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5390/escada">@escada</a> - i'm not requesting a specific relation ID, we request data for an entire bounding box. It would be to cumbersome to make a request for every single relation in the result of a bounding box. When I make a bbox query, it does not return the relation data</p></div>
            <div class="comment-info" id="comment-67288-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 07:29)</span>
                <a class="comment-user userinfo" href="/users/16066/kida001">kida001</a>
                
            </div>
        </div>
    
        <a name="67289"></a>
        <div class="comment" id="comment-67289">
            <div id="post-67289-score" class="comment-score">3</div>
            <div class="comment-text"><p>Please explain what you mean by "differentiate if the relation is inner vs outer". In OSM we have relations which can have members and these members can (but are not required to) have inner/outer roles. What exactly is it that you want to do?</p></div>
            <div class="comment-info" id="comment-67289-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 08:49)</span>
                <a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
                
            </div>
        </div>
    
        <a name="67291"></a>
        <div class="comment" id="comment-67291">
            <div id="post-67291-score" class="comment-score">2</div>
            <div class="comment-text"><p>please post the complete OverPass query you make. We need to know which "out" statement you  are using and which output format. The sample you posted does not look like the default data type that I get.</p>

<p>It does not matter whether you ask for a particular relation or do another query.</p></div>
            <div class="comment-info" id="comment-67291-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 11:39)</span>
                <a class="comment-user userinfo" href="/users/5390/escada">escada</a>
                
            </div>
        </div>
    
        <a name="67295"></a>
        <div class="comment not_top_scorer" id="comment-67295">
            <div id="post-67295-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5390/escada"></a><a href="https://help.openstreetmap.org/users/5390/escada">@escada</a> <a href="https://help.openstreetmap.org/users/104/frederik-ramm"></a><a href="https://help.openstreetmap.org/users/104/frederik-ramm">@frederik</a>-Ramm I've updated my post with query information requested. Hopefully that helps explain what I'm doing.</p></div>
            <div class="comment-info" id="comment-67295-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 18:12)</span>
                <a class="comment-user userinfo" href="/users/16066/kida001">kida001</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-67279" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 6
        </span>
        <a href="#" class="show-all-comments-link">show 1 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-67279-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="67301"></a>
                    <div id="answer-container-67301" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67301-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67301/up/" rel="nofollow"> </a>
<div id="post-67301-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-67301-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67301/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>There is no such thing as an "inner" or "outer" polygon. There are "inner" or "outer" rings of a polygon, and in OSM these rings can consist of one or more ways. The individual members of a multipolygon relation in OSM can have "inner" or "outer" roles hinting at whether they are part of an inner or outer ring, but these roles are neither required nor guaranteed to be there. Therefore, any algorithm that turns OSM data into geometries - like the "OsmToGeoJSON" you claim to be using - needs to apply logic to build correct polygons. </p>
<p>Once a GeoJSON has been built, there's nothing you can or have to do - either the GeoJSON contains the correct polygons (with potential holes in them) or it doesn't. At this point, any inner/outer information is not relevant to you any more, it has been processed into the polygon geometry.</p>
<p>If OsmToGeoJSON does not produce correct polygons for you then this will be fore one of two reasons: </p>
<p>(1) it is implemented sloppily or incompletely (a working algorithm for polygon construction is described in <a href="https://wiki.openstreetmap.org/wiki/Relation:multipolygon/Algorithm)">https://wiki.openstreetmap.org/wiki/Relation:multipolygon/Algorithm)</a> or </p>
<p>(2) it cannot build some polygons correctly because the response you get from the "map" request lacks referential integrity, i.e. some relations reference ways that are not contained in the response. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67301/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>20 Dec '18, 21:48</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" alt="Frederik%20Ramm's gravatar image" />
    <p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
    <span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">&#9679;</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">&#9679;</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">&#9679;</span><span class="badgecount">1273</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Frederik Ramm has 417 accepted answers">23&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67301">
    
        <a name="67302"></a>
        <div class="comment" id="comment-67302">
            <div id="post-67302-score" class="comment-score"></div>
            <div class="comment-text"><p>I re-read my post and don't see where I referred to it as an inner/outer polygon in that way. I was referring to the relation of the polygon, just as OSM describes on their wiki for polygons. Sorry if I didn't get the technicalities of it 100% . We are not 'sloppily' drawing them, we're trying to find the correct way to handle how we use 'fill' on a polygon object.. Thanks for the link.</p>

<p>This feels like the most unfriendly forum I've posted on. Both your post and the comments feel demeaning. If you're going to be salty about giving an answer and use subtle language to demean folks, just don't post.</p></div>
            <div class="comment-info" id="comment-67302-info">
                
                
                
                

                

                <span class="comment-age">(20 Dec '18, 22:23)</span>
                <a class="comment-user userinfo" href="/users/16066/kida001">kida001</a>
                
            </div>
        </div>
    
        <a name="67305"></a>
        <div class="comment" id="comment-67305">
            <div id="post-67305-score" class="comment-score"></div>
            <div class="comment-text"><p>Frederik, I should not be so decisive. If we read the same multipolygon related OSM Wiki main page there for a member without the inner/outer role we read "Do not use". So, yes, the multipolygon member role is required. Besides, you have a stange understanding/interpretation of the "polygon" notion, hardly in conformity with the mentioned main page. There, in the "Valid MP conditions" we read "We define a valid (closed) polygon as the combination of a subset of member ways which, when their endpoints are joined, form a closed polygon". So, it is a closed polygonal line, sometimes called "ring".</p></div>
            <div class="comment-info" id="comment-67305-info">
                
                
                
                

                

                <span class="comment-age">(21 Dec '18, 09:55)</span>
                <a class="comment-user userinfo" href="/users/3194/sanser">sanser</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-67301" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67301-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="67308"></a>
                    <div id="answer-container-67308" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-67308-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/67308/up/" rel="nofollow"> </a>
<div id="post-67308-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-67308-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/67308/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>GeoJSON works differently than the OSM data model: It doesn't represent polygons-with-holes as relations with "inner" and "outer" members. In fact, the OSM concept of a "relation" doesn't really exist in GeoJSON.</p>
<p>Instead, the "coordinates" member of a GeoJSON Polygon will simply consist of multiple arrays of coordinates, the first of which represents the outer ring of the polygon, and the remaining of which represent the inner rings. See the <a href="https://tools.ietf.org/html/rfc7946#section-3.1.6">relevant section in the GeoJSON spec</a>.</p>
<p>So if OsmToGeoJSON is working correctly, the part that you omitted here</p>
<pre><code>"coordinates" =&gt; [ ..... ]
</code></pre>
<p>should contain the coordinates of the inner rings and outer ring of your polygon.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/67308/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>21 Dec '18, 11:13</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/0626be5f46f32fce501353e8a5ec399c?s=32&amp;d=identicon&amp;r=g" alt="Tordanik's gravatar image" />
    <p><a href="/users/14/tordanik">Tordanik</a><br/>
    <span class="score" title="11998 reputation points"><span class="">12.0k</span></span><span title="15 badges"><span class="badge1">&#9679;</span><span class="badgecount">15</span></span><span title="106 badges"><span class="silver">&#9679;</span><span class="badgecount">106</span></span><span title="147 badges"><span class="bronze">&#9679;</span><span class="badgecount">147</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Tordanik has 58 accepted answers">35&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-67308">
    
        <a name="67322"></a>
        <div class="comment" id="comment-67322">
            <div id="post-67322-score" class="comment-score"></div>
            <div class="comment-text"><p>Wow thank you. Yes I've seen the multiple sets of coordinates/arrays. The first array is consistently the outer ring?</p>

<p>This would be a super helpful assumption to make when drawing polygons, as I was currently going the route of using/writing a function that detects if a polygon is within any of the other polygons we receive, which if it's not needed, would make things much easier.</p></div>
            <div class="comment-info" id="comment-67322-info">
                
                
                
                

                

                <span class="comment-age">(22 Dec '18, 17:17)</span>
                <a class="comment-user userinfo" href="/users/16066/kida001">kida001</a>
                
            </div>
        </div>
    
        <a name="67324"></a>
        <div class="comment" id="comment-67324">
            <div id="post-67324-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="https://help.openstreetmap.org/users/16066/kida001">@kida001</a>: The first array <em>should</em> consistently be the outer ring according to the GeoJSON specification. I haven't checked myself if OsmToGeoJSON does implement this correctly, but I would start from the assumption that it does.</p></div>
            <div class="comment-info" id="comment-67324-info">
                
                
                
                

                

                <span class="comment-age">(22 Dec '18, 19:22)</span>
                <a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-67308" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-67308-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/67279/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='lIl3lxNLH2oHESU59kJeKzENCAdrDfQA' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/67279/differentiate-inner-vs-outer-multipolygon-from-overpass-api?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/overpass/"
            class="tag-link-overpass"
            title="see questions tagged'overpass'using tags"
            rel="tag">overpass</a> <span class="tag-number">&#215;483</span><br/>
        
        <a href="/tags/api/"
            class="tag-link-api"
            title="see questions tagged'api'using tags"
            rel="tag">api</a> <span class="tag-number">&#215;290</span><br/>
        
        <a href="/tags/multipolygon/"
            class="tag-link-multipolygon"
            title="see questions tagged'multipolygon'using tags"
            rel="tag">multipolygon</a> <span class="tag-number">&#215;132</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Dec. 19, 2018, 11:30 p.m.">19 Dec '18, 23:30</strong>
    </p>
    <p> 
     	question was seen: <strong>3,842 times</strong>
    </p>
    <p> 
        last updated: <strong title="Dec. 22, 2018, 7:22 p.m.">22 Dec '18, 19:22</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/33461/overpass-api-installation-error">Overpass API installation error</a>
        </p>
        
        <p>
            <a href="/questions/35225/overpass-query-only-outer-ways-of-multipolygon">Overpass: query only outer ways of multipolygon</a>
        </p>
        
        <p>
            <a href="/questions/20472/how-to-request-a-limited-no-of-features-in-overpass-api">How to request a limited no of features in Overpass api?</a>
        </p>
        
        <p>
            <a href="/questions/32442/using-overpass_api-for-a-simple-address-tag-job">using overpass_API for a simple address-tag-job</a>
        </p>
        
        <p>
            <a href="/questions/33487/overpass-server-dispatcher-error-please-help">Overpass Server:  Dispatcher Error Please help!</a>
        </p>
        
        <p>
            <a href="/questions/33517/overpass-api-403-error-in-apache">[closed] Overpass API 403 Error in Apache</a>
        </p>
        
        <p>
            <a href="/questions/12543/i-cant-get-odessa-ukraine-node-with-overpass-api">I can&#39;t get Odessa (Ukraine) node with overpass API</a>
        </p>
        
        <p>
            <a href="/questions/17365/overpass-is-it-possible-to-use-it-as-an-alternative-to-the-api-relation-full-call">Overpass:  Is it possible to use it as an alternative to the API relation /full call?</a>
        </p>
        
        <p>
            <a href="/questions/23965/overpass-api-database-size">Overpass API database size</a>
        </p>
        
        <p>
            <a href="/questions/35889/overpass-api-installation-out-of-memory">Overpass API installation &#39;Out of memory&#39;</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
