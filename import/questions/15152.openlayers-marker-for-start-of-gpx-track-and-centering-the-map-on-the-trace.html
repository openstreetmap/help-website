<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Openlayers - marker for start of GPX track and centering the map on the trace - OSM Help</title>
        <meta name="description" content="Using the example https://wiki.openstreetmap.org/wiki/Openlayers_Track_example I can make a map with a GPX trace on it but I have to centre the map by finding the co-ordinates separately and assigning them to variables for lat lon, and getting the zoom level by trial and error.  I can also add a pin ..." />
        <meta name="keywords" content="marker,track,gpx,openlayers,start" />
        
        <link rel="canonical" href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='gFZ1Xa8EZQuGmwC4RTvckHlxjDwCumHs' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace">Openlayers - marker for start of GPX track and centering the map on the trace</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-15152-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/15152/up/" rel="nofollow"> </a>
<div id="post-15152-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-15152-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/15152/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/15152/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   1
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Using the example <a href="https://wiki.openstreetmap.org/wiki/Openlayers_Track_example">https://wiki.openstreetmap.org/wiki/Openlayers_Track_example</a> I can make a map with a GPX trace on it but I have to centre the map by finding the co-ordinates separately and assigning them to variables for lat lon, and getting the zoom level by trial and error. 
I can also add a pin to mark the start but again have to position it by manually entering the co-ordinates. 
It's entirely possible to use javascript to parse the GPX file to find the bounds of the trace, and the centre point. The start point is also simply the first trackpoint. </p>
<p>Does anyone have any idea how to do this? I'm capable of adapting examples but not of generating this complexity of scripting!</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/marker/" class="post-tag tag-link-marker"
                                        title="see questions tagged 'marker'" rel="tag">marker</a>
                                
                                    <a href="/tags/track/" class="post-tag tag-link-track"
                                        title="see questions tagged 'track'" rel="tag">track</a>
                                
                                    <a href="/tags/gpx/" class="post-tag tag-link-gpx"
                                        title="see questions tagged 'gpx'" rel="tag">gpx</a>
                                
                                    <a href="/tags/openlayers/" class="post-tag tag-link-openlayers"
                                        title="see questions tagged 'openlayers'" rel="tag">openlayers</a>
                                
                                    <a href="/tags/start/" class="post-tag tag-link-start"
                                        title="see questions tagged 'start'" rel="tag">start</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>16 Aug '12, 15:59</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e82dee06cd9f989e30bc1c57f2afc2d9?s=32&amp;d=identicon&amp;r=g" alt="digby's gravatar image" />
    <p><a href="/users/2662/digby">digby</a><br/>
    <span class="score" title="46 reputation points">46</span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="6 badges"><span class="silver">&#9679;</span><span class="badgecount">6</span></span><span title="12 badges"><span class="bronze">&#9679;</span><span class="badgecount">12</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="digby has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/15152/">
                edited
                <strong>16 Aug '12, 16:17</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-15152">
    
</div>
<div id="comment-tools-15152" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-15152-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    6 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="15176"></a>
                    <div id="answer-container-15176" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-15176-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/15176/up/" rel="nofollow"> </a>
<div id="post-15176-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-15176-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/15176/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="digby has selected this answer as the correct answer"
        href="/accept_answer/15176/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Hi,</p>
<p>Although this question is more related to OpenLayers than OSM, you can try with this code:</p>
<blockquote>
<p>map.zoomToExtent(lgpx.getDataExtent());</p>
</blockquote>
<p>EDIT: this code add also the marker at the startpoint and should be placed after adding the layer lgpx to the map (map.addLayer(lgpx))</p>
<pre><code>lgpx.events.register("loadend", lgpx, function() {
  this.map.zoomToExtent(this.getDataExtent());
  var startPoint = this.features[0].geometry.components[0];
  layerMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(startPoint.x, startPoint.y),icon));
});
</code></pre>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/15176/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>16 Aug '12, 21:27</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/a2839f25c5f2da24f6ffd25de1641684?s=32&amp;d=identicon&amp;r=g" alt="NicolasDumoulin's gravatar image" />
    <p><a href="/users/868/nicolasdumoulin">NicolasDumoulin</a><br/>
    <span class="score" title="3327 reputation points"><span class="">3.3k</span></span><span title="4 badges"><span class="badge1">&#9679;</span><span class="badgecount">4</span></span><span title="22 badges"><span class="silver">&#9679;</span><span class="badgecount">22</span></span><span title="56 badges"><span class="bronze">&#9679;</span><span class="badgecount">56</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="NicolasDumoulin has 15 accepted answers">13&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/15176/">
                edited
                <strong>17 Aug '12, 11:27</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-15176">
    
        <a name="15191"></a>
        <div class="comment" id="comment-15191">
            <div id="post-15191-score" class="comment-score"></div>
            <div class="comment-text"><p>Am I asking in the wrong forum?</p></div>
            <div class="comment-info" id="comment-15191-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 08:23)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
        <a name="15192"></a>
        <div class="comment" id="comment-15192">
            <div id="post-15192-score" class="comment-score">2</div>
            <div class="comment-text"><p>If you want to be sure to get an answer (and a good one), it's better to ask your question to the OpenLayers community.
Anyway, what about my answer?</p></div>
            <div class="comment-info" id="comment-15192-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 08:31)</span>
                <a class="comment-user userinfo" href="/users/868/nicolasdumoulin">NicolasDumoulin</a>
                
            </div>
        </div>
    
        <a name="15198"></a>
        <div class="comment" id="comment-15198">
            <div id="post-15198-score" class="comment-score"></div>
            <div class="comment-text"><p>Not sure where to put it. Does it just go in as is? Does it override the vars of lat lon and zoom? Tried it in various places without success.
<a href="http://www.carnethy.com/maps/mapping%20info/osm_map_layer_to_use_in_iframe.htm">http://www.carnethy.com/maps/mapping%20info/osm_map_layer_to_use_in_iframe.htm</a></p></div>
            <div class="comment-info" id="comment-15198-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 09:22)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
        <a name="15200"></a>
        <div class="comment" id="comment-15200">
            <div id="post-15200-score" class="comment-score"></div>
            <div class="comment-text"><p>Ok, it works by adding this code after map.addLayer(lgpx):
lgpx.events.register("loadend", lgpx, function() { this.map.zoomToExtent(this.getDataExtent()) } );</p></div>
            <div class="comment-info" id="comment-15200-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 09:42)</span>
                <a class="comment-user userinfo" href="/users/868/nicolasdumoulin">NicolasDumoulin</a>
                
            </div>
        </div>
    
        <a name="15202"></a>
        <div class="comment" id="comment-15202">
            <div id="post-15202-score" class="comment-score">1</div>
            <div class="comment-text"><p>Wow! It works! Thanks.
And any idea how to get the start point from the GPX to set the pin in the right place?</p></div>
            <div class="comment-info" id="comment-15202-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 09:58)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
        <a name="15204"></a>
        <div class="comment not_top_scorer" id="comment-15204">
            <div id="post-15204-score" class="comment-score"></div>
            <div class="comment-text"><p>You can add the marker at the startpoint by modifying the previous giving code as follow:</p>

<p>lgpx.events.register("loadend", lgpx, function() {</p>

<p>this.map.zoomToExtent(this.getDataExtent());</p>

<p>var startPoint = this.features[0].geometry.components[0];</p>

<p>layerMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(startPoint.x, startPoint.y),icon));</p>

<p>});</p></div>
            <div class="comment-info" id="comment-15204-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 10:15)</span>
                <a class="comment-user userinfo" href="/users/868/nicolasdumoulin">NicolasDumoulin</a>
                
            </div>
        </div>
    
        <a name="15207"></a>
        <div class="comment not_top_scorer" id="comment-15207">
            <div id="post-15207-score" class="comment-score"></div>
            <div class="comment-text"><p>I can only laugh in amazement! Never in a milliion years could I have worked that out!</p></div>
            <div class="comment-info" id="comment-15207-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 11:32)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
        <a name="15216"></a>
        <div class="comment not_top_scorer" id="comment-15216">
            <div id="post-15216-score" class="comment-score"></div>
            <div class="comment-text"><p>Can I further try your patience and ask how you would return the end point of a trace to place a finish pin? Would you adapt 
var startPoint = this.features[0].geometry.components[0];         <br>
layerMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(startPoint.x, startPoint.y),icon));</p>

<p>to var endPoint = something?</p></div>
            <div class="comment-info" id="comment-15216-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 15:01)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
        <a name="15217"></a>
        <div class="comment not_top_scorer" id="comment-15217">
            <div id="post-15217-score" class="comment-score"></div>
            <div class="comment-text"><p>Right, something like that: var endPoint = this.features[0].geometry.components[this.features[0].geometry.components.length - 1];</p></div>
            <div class="comment-info" id="comment-15217-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 15:33)</span>
                <a class="comment-user userinfo" href="/users/868/nicolasdumoulin">NicolasDumoulin</a>
                
            </div>
        </div>
    
        <a name="15218"></a>
        <div class="comment not_top_scorer" id="comment-15218">
            <div id="post-15218-score" class="comment-score"></div>
            <div class="comment-text"><p>Hmm. Didn't work! It puts a pin at the start, or maybe -1 trackpoint from the start</p></div>
            <div class="comment-info" id="comment-15218-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 17:00)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-15176" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-15176-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="15179"></a>
                    <div id="answer-container-15179" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-15179-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/15179/up/" rel="nofollow"> </a>
<div id="post-15179-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-15179-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/15179/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Two methods of finding a lat lon in a trace are  open the GPX with a text editor and just read them or upload the trace to OSM then click on edit trace and in polatch2 under options tick the box that shows lat lon. EDIT You can display the whole trace on an up to date OSM map and pick out boundary Lan Lons by opening the GPX with GPS Prune it's free from the activity workshop, but it does need Java to run ( as does JOSM ). 
<a href="https://activityworkshop.net/software/gpsprune/">https://activityworkshop.net/software/gpsprune/</a></p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/15179/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>16 Aug '12, 23:09</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" alt="andy%20mackey's gravatar image" />
    <p><a href="/users/644/andy-mackey">andy mackey</a><br/>
    <span class="score" title="13238 reputation points"><span class="">13.2k</span></span><span title="87 badges"><span class="badge1">&#9679;</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">&#9679;</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">&#9679;</span><span class="badgecount">285</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="andy mackey has 37 accepted answers">4&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/15179/">
                edited
                <strong>09 Oct '17, 21:23</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-15179">
    
        <a name="15201"></a>
        <div class="comment" id="comment-15201">
            <div id="post-15201-score" class="comment-score">1</div>
            <div class="comment-text"><p>I know I can open the trace in a text editor and read it, but this doesn't help with setting the centre and bounds of an openlayers map.</p></div>
            <div class="comment-info" id="comment-15201-info">
                
                
                
                

                

                <span class="comment-age">(17 Aug '12, 09:47)</span>
                <a class="comment-user userinfo" href="/users/2662/digby">digby</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-15179" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-15179-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="60003"></a>
                    <div id="answer-container-60003" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60003-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60003/up/" rel="nofollow"> </a>
<div id="post-60003-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-60003-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60003/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Hi, how i put a marker on the end of gps track?
i try use the similar code that you provided, but doesn't work. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60003/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>08 Oct '17, 00:53</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/a27cae3d949a53902bd3c0600e0de893?s=32&amp;d=identicon&amp;r=g" alt="Wesley's gravatar image" />
    <p><a href="/users/14295/wesley">Wesley</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">&#9679;</span><span class="badgecount">1</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Wesley has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60003">
    
</div>
<div id="comment-tools-60003" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60003-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="60004"></a>
                    <div id="answer-container-60004" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60004-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60004/up/" rel="nofollow"> </a>
<div id="post-60004-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-60004-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60004/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <pre><code>lgpx.events.register("loadend", lgpx, function() {
                    this.map.zoomToExtent(this.getDataExtent());
                    var startPoint = this.features[0].geometry.components[0];               
                    layerMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(startPoint.x, startPoint.y),icon));
</code></pre>
<p>Add this to the previous code, and add a new finish icon in the same way as the start point icon. By the way, I have no idea how this all works!</p>
<pre><code>var endPoint = this.features[0].geometry.components[this.features[0].geometry.components.length - 1];
                    layerMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(endPoint.x, endPoint.y),icon2));
                });
</code></pre>
<p>In our case the icons are set so:</p>
<pre><code>var size = new OpenLayers.Size(21, 25);
            var offset = new OpenLayers.Pixel(-(size.w/2), -size.h);
            var icon = new OpenLayers.Icon('../../mapping%20info/small_red_pin.png',size,offset);
            var icon2 = new OpenLayers.Icon('../../mapping%20info/small_blue_pin.png',size,offset);
</code></pre>
<p>If the map has a circular route on it the finish icon will overlay the start icon which will be hidden if it's the same shape. But you could set the offset to deal with that. Increasing the negative number on length pushes the marker back down the trace. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60004/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>08 Oct '17, 07:27</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e82dee06cd9f989e30bc1c57f2afc2d9?s=32&amp;d=identicon&amp;r=g" alt="digby's gravatar image" />
    <p><a href="/users/2662/digby">digby</a><br/>
    <span class="score" title="46 reputation points">46</span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="6 badges"><span class="silver">&#9679;</span><span class="badgecount">6</span></span><span title="12 badges"><span class="bronze">&#9679;</span><span class="badgecount">12</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="digby has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/60004/">
                edited
                <strong>08 Oct '17, 08:19</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60004">
    
</div>
<div id="comment-tools-60004" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60004-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="60029"></a>
                    <div id="answer-container-60029" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60029-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60029/up/" rel="nofollow"> </a>
<div id="post-60029-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-60029-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60029/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Thank you, this problem was solved, now i'm fencing another problem: i want that the my app calculate the distance between two points. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60029/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>09 Oct '17, 13:53</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/a27cae3d949a53902bd3c0600e0de893?s=32&amp;d=identicon&amp;r=g" alt="Wesley's gravatar image" />
    <p><a href="/users/14295/wesley">Wesley</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">&#9679;</span><span class="badgecount">1</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Wesley has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60029">
    
</div>
<div id="comment-tools-60029" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60029-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="60030"></a>
                    <div id="answer-container-60030" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-60030-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/60030/up/" rel="nofollow"> </a>
<div id="post-60030-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-60030-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/60030/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>That's got nothing to do with this question. You should start a new topic or find one that is relevant.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/60030/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>09 Oct '17, 13:57</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/e82dee06cd9f989e30bc1c57f2afc2d9?s=32&amp;d=identicon&amp;r=g" alt="digby's gravatar image" />
    <p><a href="/users/2662/digby">digby</a><br/>
    <span class="score" title="46 reputation points">46</span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="6 badges"><span class="silver">&#9679;</span><span class="badgecount">6</span></span><span title="12 badges"><span class="bronze">&#9679;</span><span class="badgecount">12</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="digby has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-60030">
    
</div>
<div id="comment-tools-60030" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-60030-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/15152/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='gFZ1Xa8EZQuGmwC4RTvckHlxjDwCumHs' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/15152/openlayers-marker-for-start-of-gpx-track-and-centering-the-map-on-the-trace?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="https://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/gpx/"
            class="tag-link-gpx"
            title="see questions tagged'gpx'using tags"
            rel="tag">gpx</a> <span class="tag-number">&#215;255</span><br/>
        
        <a href="/tags/openlayers/"
            class="tag-link-openlayers"
            title="see questions tagged'openlayers'using tags"
            rel="tag">openlayers</a> <span class="tag-number">&#215;122</span><br/>
        
        <a href="/tags/track/"
            class="tag-link-track"
            title="see questions tagged'track'using tags"
            rel="tag">track</a> <span class="tag-number">&#215;112</span><br/>
        
        <a href="/tags/marker/"
            class="tag-link-marker"
            title="see questions tagged'marker'using tags"
            rel="tag">marker</a> <span class="tag-number">&#215;98</span><br/>
        
        <a href="/tags/start/"
            class="tag-link-start"
            title="see questions tagged'start'using tags"
            rel="tag">start</a> <span class="tag-number">&#215;10</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Aug. 16, 2012, 3:59 p.m.">16 Aug '12, 15:59</strong>
    </p>
    <p> 
     	question was seen: <strong>13,440 times</strong>
    </p>
    <p> 
        last updated: <strong title="Oct. 9, 2017, 9:23 p.m.">09 Oct '17, 21:23</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/9959/display-waypoint-names-in-openlayers-map">[closed] display waypoint names in openlayers map</a>
        </p>
        
        <p>
            <a href="/questions/35632/how-to-implement-gpx-files-in-osm">how to implement gpx-files in OSM</a>
        </p>
        
        <p>
            <a href="/questions/8720/integrate-osm-map-with-gpx-track-on-my-site">Integrate OSM map with gpx track on my site</a>
        </p>
        
        <p>
            <a href="/questions/5133/add-mile-marker-waypoints-along-a-track-in-gpx-file">Add mile marker waypoints along a track in .gpx file?</a>
        </p>
        
        <p>
            <a href="/questions/1315/how-to-combine-marker-and-popup">how to combine marker and popup?</a>
        </p>
        
        <p>
            <a href="/questions/884/application-or-web-interface-for-freehand-plotting-tracks-on-osm-as-saving-as-gpx">application or web interface for freehand plotting tracks on OSM as saving as gpx?</a>
        </p>
        
        <p>
            <a href="/questions/1477/identifying-individual-gpx-tracks-from-the-downloaded-gpx-tracks-in-josm">Identifying individual gpx tracks from the downloaded gpx tracks in JOSM</a>
        </p>
        
        <p>
            <a href="/questions/938/can-not-see-the-gps-track">Can not see the GPS track</a>
        </p>
        
        <p>
            <a href="/questions/1573/cannot-see-gps-tracks-on-polatch">Cannot see GPS tracks on Polatch</a>
        </p>
        
        <p>
            <a href="/questions/7439/cannot-load-map-so-i-cannot-edit">cannot load map - so I cannot edit</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
