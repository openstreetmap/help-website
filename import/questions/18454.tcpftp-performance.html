<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>tcp/ftp performance - Wireshark Q&amp;A</title>
        <meta name="description" content="Trying to follow a ftp stream and figure out why transferring the same file to different machines have different finish times. the FTP-DATA bytes show 32768, but if you add the acknowledgement numbers, the byte count does not add up. I could be totaly off base so I am asking the experts I am assumin..." />
        <meta name="keywords" content="ack,ftp,tcp,value,performance" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/18454/tcpftp-performance" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/18454/tcpftp-performance?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='z58nIXvQSXkloMxmOj1zQGAWAi5rawBq' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/18454/tcpftp-performance">tcp/ftp performance</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-18454-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/18454/up/" rel="nofollow"> </a>
<div id="post-18454-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-18454-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/18454/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/18454/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Trying to follow  a ftp stream and figure out why transferring the same file to different machines have different finish times.  the FTP-DATA bytes show 32768, but if  you add the acknowledgement numbers, the byte count does not add up.  I could be totaly off base so I am asking the experts
I am assuming the value of 
example:  packet 151 - 156, I would subtract the last ack value packet 154 from ack value of packet 151.  The ftp amount of data bytes sent was 52442 in packet 152. </p>
<pre><code>Packet  Time    Source  Destination Protocol    Length  Info
139 10.187547   x-server    Y--client   TCP 62  ftp-data &gt; 15943 [SYN] Seq=0 Win=8192 Len=0 MSS=4034 SACK_PERM=1
140 10.187632   Y--client   x-server    TCP 62  15943 &gt; ftp-data [SYN, ACK] Seq=0 Ack=1 Win=8192 Len=0 MSS=4034 SACK_PERM=1
142 10.187831   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=1 Win=64544 Len=0
143 10.203807   Y--client   x-server    FTP-DATA    8122    FTP Data: 8068 bytes
144 10.204378   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=8069 Win=64544 Len=0
145 10.204398   Y--client   x-server    FTP-DATA    16190   FTP Data: 16136 bytes
146 10.204932   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=24205 Win=64544 Len=0
147 10.204946   Y--client   x-server    FTP-DATA    8618    FTP Data: 8564 bytes
148 10.205625   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=32769 Win=64544 Len=0
149 10.228625   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
150 10.228678   Y--client   x-server    FTP-DATA    8122    FTP Data: 8068 bytes
151 10.229349   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=69571 Win=64544 Len=0
152 10.229383   Y--client   x-server    FTP-DATA    52496   FTP Data: 52442 bytes
153 10.23007    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=85707 Win=48408 Len=0
154 10.230071   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=117979 Win=16136 Len=0
155 10.230084   Y--client   x-server    FTP-DATA    5080    FTP Data: 5026 bytes
156 10.230421   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=126047 Win=8068 Len=0
157 10.230832   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=131073 Win=3042 Len=0
159 10.321455   x-server    Y--client   TCP 60  [TCP Window Update] ftp-data &gt; 15943 [ACK] Seq=1 Ack=131073 Win=64544 Len=0
160 10.321496   Y--client   x-server    FTP-DATA    60564   FTP Data: 60510 bytes
161 10.321526   Y--client   x-server    FTP-DATA    4088    [TCP Window Full] FTP Data: 4034 bytes
162 10.321895   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=147209 Win=64544 Len=0
163 10.321906   Y--client   x-server    FTP-DATA    1046    FTP Data: 992 bytes
164 10.321964   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=155277 Win=64544 Len=0
165 10.32211    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=171413 Win=64544 Len=0
166 10.322134   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
167 10.322281   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=187549 Win=64544 Len=0
168 10.322406   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=196609 Win=64544 Len=0
169 10.322428   Y--client   x-server    FTP-DATA    28292   FTP Data: 28238 bytes
170 10.322531   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=208711 Win=64544 Len=0
171 10.322543   Y--client   x-server    FTP-DATA    4584    FTP Data: 4530 bytes
172 10.322871   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=224847 Win=64544 Len=0
173 10.322872   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=237445 Win=64544 Len=0
174 10.322872   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=253581 Win=64544 Len=0
175 10.322894   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
176 10.32324    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=262145 Win=64544 Len=0
177 10.32326    Y--client   x-server    FTP-DATA    28292   FTP Data: 28238 bytes
178 10.323601   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=274247 Win=64544 Len=0
179 10.323602   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=290383 Win=64544 Len=0
180 10.323603   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=294913 Win=64544 Len=0
181 10.323624   Y--client   x-server    FTP-DATA    36360   [TCP Window Full] FTP Data: 36306 bytes
182 10.323968   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=311049 Win=64544 Len=0
183 10.323969   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=319117 Win=64544 Len=0
184 10.323979   Y--client   x-server    FTP-DATA    1046    FTP Data: 992 bytes
185 10.32431    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=335253 Win=64544 Len=0
186 10.324311   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=343321 Win=64544 Len=0
187 10.324312   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=360449 Win=64544 Len=0
188 10.324333   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
189 10.324393   Y--client   x-server    FTP-DATA    28292   FTP Data: 28238 bytes
190 10.324804   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=372551 Win=64544 Len=0
191 10.324815   Y--client   x-server    FTP-DATA    4584    FTP Data: 4530 bytes
192 10.325138   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=388687 Win=64544 Len=0
193 10.325139   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=405319 Win=64544 Len=0
194 10.32514    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=417421 Win=64544 Len=0
195 10.325161   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
196 10.325508   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=425985 Win=64544 Len=0
197 10.325641   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=438087 Win=64544 Len=0
198 10.325642   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=454223 Win=64544 Len=0
199 10.326086   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=458753 Win=64544 Len=0
200 10.328562   Y--client   x-server    FTP-DATA    32822   FTP Data: 32768 bytes
201 10.328616   Y--client   x-server    FTP-DATA    28292   FTP Data: 28238 bytes
202 10.32924    x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=470855 Win=64544 Len=0
203 10.329244   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=482957 Win=64544 Len=0
204 10.329245   x-server    Y--client   TCP 60  ftp-data &gt; 15943 [ACK] Seq=1 Ack=495555 Win=64544 Len=0
</code></pre>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/ack/" class="post-tag tag-link-ack"
                                        title="see questions tagged 'ack'" rel="tag">ack</a>
                                
                                    <a href="/tags/ftp/" class="post-tag tag-link-ftp"
                                        title="see questions tagged 'ftp'" rel="tag">ftp</a>
                                
                                    <a href="/tags/tcp/" class="post-tag tag-link-tcp"
                                        title="see questions tagged 'tcp'" rel="tag">tcp</a>
                                
                                    <a href="/tags/value/" class="post-tag tag-link-value"
                                        title="see questions tagged 'value'" rel="tag">value</a>
                                
                                    <a href="/tags/performance/" class="post-tag tag-link-performance"
                                        title="see questions tagged 'performance'" rel="tag">performance</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>08 Feb '13, 16:37</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7af51537fc0a1d6b8e83eb4b12fa9671?s=32&amp;d=identicon&amp;r=g" alt="paul32ny's gravatar image" />
    <p><a href="/users/4362/paul32ny">paul32ny</a><br/>
    <span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">&#9679;</span><span class="badgecount">1</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="paul32ny has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/18454/">
                edited
                <strong>08 Feb '13, 16:42</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" alt="SYN-bit's gravatar image" />
            <p><a href="/users/5/syn-bit">SYN-bit ♦♦</a><br/>
            <span class="score" title="17094 reputation points"><span class="">17.1k</span></span><span title="9 badges"><span class="badge1">&#9679;</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">&#9679;</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">&#9679;</span><span class="badgecount">245</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-18454">
    
</div>
<div id="comment-tools-18454" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-18454-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/18454/tcpftp-performance?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/18454/tcpftp-performance?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/18454/tcpftp-performance?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/18454/tcpftp-performance?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="18457"></a>
                    <div id="answer-container-18457" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-18457-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/18457/up/" rel="nofollow"> </a>
<div id="post-18457-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-18457-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/18457/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I assume you were capturing on the client because there are very large packets listed in Wireshark. These packets don't exist on the network, as they get split up by the NIC (see <a href="http://wiki.wireshark.org/CaptureSetup/Offloading#Segmentation_Offload">TCP Segmentation Offloading</a>). The ACKs which the NIC receives are summarized into a minimal amount of ACKs towards the TCP stack. This makes it possible that an ACK can acknowledge only part of a big packet.</p>
<p>You can turn off TSO to make wireshark show the real packets. But better jet, use a TAP or spanport to see the real network traffic.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/18457/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>08 Feb '13, 16:50</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" alt="SYN-bit's gravatar image" />
    <p><a href="/users/5/syn-bit">SYN-bit ♦♦</a><br/>
    <span class="score" title="17094 reputation points"><span class="">17.1k</span></span><span title="9 badges"><span class="badge1">&#9679;</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">&#9679;</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">&#9679;</span><span class="badgecount">245</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="SYN-bit has 174 accepted answers">20&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-18457">
    
        <a name="18458"></a>
        <div class="comment" id="comment-18458">
            <div id="post-18458-score" class="comment-score"></div>
            <div class="comment-text"><p>That is really good to know and thanks for the rapid response.  The capture is from the client PC. I am assumming that going forward it is better to capture the packets on the network and not from a tcp analyzer running on the client machine.  I will also try turning off TSO.</p>

<p>Thank you</p></div>
            <div class="comment-info" id="comment-18458-info">
                
                
                
                

                

                <span class="comment-age">(08 Feb '13, 17:13)</span>
                <a class="comment-user userinfo" href="/users/4362/paul32ny">paul32ny</a>
                
            </div>
        </div>
    
        <a name="18466"></a>
        <div class="comment" id="comment-18466">
            <div id="post-18466-score" class="comment-score"></div>
            <div class="comment-text"><p>Please note, that TSO is an optimization that is supposed to give you better performance (so you might want to leave it on), although I have seen cases where is was actually making things worse.</p></div>
            <div class="comment-info" id="comment-18466-info">
                
                
                
                

                

                <span class="comment-age">(09 Feb '13, 03:24)</span>
                <a class="comment-user userinfo" href="/users/5/syn-bit">SYN-bit ♦♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-18457" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-18457-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/18454/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='z58nIXvQSXkloMxmOj1zQGAWAi5rawBq' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/18454/tcpftp-performance?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/18454/tcpftp-performance?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/tcp/"
            class="tag-link-tcp"
            title="see questions tagged'tcp'using tags"
            rel="tag">tcp</a> <span class="tag-number">&#215;752</span><br/>
        
        <a href="/tags/ack/"
            class="tag-link-ack"
            title="see questions tagged'ack'using tags"
            rel="tag">ack</a> <span class="tag-number">&#215;139</span><br/>
        
        <a href="/tags/ftp/"
            class="tag-link-ftp"
            title="see questions tagged'ftp'using tags"
            rel="tag">ftp</a> <span class="tag-number">&#215;56</span><br/>
        
        <a href="/tags/performance/"
            class="tag-link-performance"
            title="see questions tagged'performance'using tags"
            rel="tag">performance</a> <span class="tag-number">&#215;55</span><br/>
        
        <a href="/tags/value/"
            class="tag-link-value"
            title="see questions tagged'value'using tags"
            rel="tag">value</a> <span class="tag-number">&#215;9</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Feb. 8, 2013, 4:37 p.m.">08 Feb '13, 16:37</strong>
    </p>
    <p> 
     	question was seen: <strong>4,343 times</strong>
    </p>
    <p> 
        last updated: <strong title="Feb. 9, 2013, 3:24 a.m.">09 Feb '13, 03:24</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/37992/ack-packets-are-getting-dropped-causing-a-ftp-session-reset">Ack packets are getting dropped, causing a FTP session reset</a>
        </p>
        
        <p>
            <a href="/questions/7972/acked-lost-segments-false-positive">ACKed lost segments - false positive?</a>
        </p>
        
        <p>
            <a href="/questions/14212/router-replies-with-rst-after-fin-ack">Router replies with [RST] after [FIN, ACK]</a>
        </p>
        
        <p>
            <a href="/questions/25374/server-sending-rst-message">Server sending RST Message</a>
        </p>
        
        <p>
            <a href="/questions/39477/difference-in-captured-packets-on-ubuntu-1404-vs-debian-8">Difference in captured packets on Ubuntu 14.04 VS. Debian 8</a>
        </p>
        
        <p>
            <a href="/questions/42044/how-to-know-if-the-packet-is-acknowledgement-packet-or-not">how to know if the packet is acknowledgement packet or not</a>
        </p>
        
        <p>
            <a href="/questions/62607/interesting-tcp-segment-ack-pattern">Interesting TCP segment-ACK pattern</a>
        </p>
        
        <p>
            <a href="/questions/7763/network-issue-about-fsk-ack">[closed] network issue about fsk ack</a>
        </p>
        
        <p>
            <a href="/questions/34478/duplicate-ack-causing-client-slowdown">Duplicate ACK Causing Client Slowdown?</a>
        </p>
        
        <p>
            <a href="/questions/43447/matching-tcp-packets-in-wireshark">matching tcp packets in wireshark</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
