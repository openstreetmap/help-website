<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Extra ACK at server side in TCP/IP socket communication - Wireshark Q&amp;A</title>
        <meta name="description" content="Hi, Can you please help me to understand why there is an extra ACK (with len=0) from server (CentosOS 6.6 - linux 2.6.32) during the TCP socket communication? Is it possible to avoid the extra ACK? (avoid unnecessary overhead)?  Our scenario: small packets communication (GSM data) looking at tcp del..." />
        <meta name="keywords" content="tcp_delayed_ack" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='1XBT6aMBtET3AezNYCaz3BibqtdI7bSF' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication">Extra ACK at server side in TCP/IP socket communication</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-51125-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/51125/up/" rel="nofollow"> </a>
<div id="post-51125-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-51125-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/51125/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/51125/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hi,</p>
<p>Can you please help me to understand why there is an extra ACK (with len=0) from server (CentosOS 6.6 - linux 2.6.32) during the TCP socket communication? Is it possible to avoid the extra ACK? (avoid unnecessary overhead)? </p>
<p>Our scenario: small packets communication (GSM data)</p>
<p>looking at tcp delayed acknowledgement, Nagle's algorithm etc...not getting the right solution.</p>
<p>Thanks,
Saty</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/tcp_delayed_ack/" class="post-tag tag-link-tcp_delayed_ack"
                                        title="see questions tagged 'tcp_delayed_ack'" rel="tag">tcp_delayed_ack</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>23 Mar '16, 07:06</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/c949261d8e8acbec16d3bffe46ff027b?s=32&amp;d=identicon&amp;r=g" alt="saty's gravatar image" />
    <p><a href="/users/23645/saty">saty</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">&#9679;</span><span class="badgecount">3</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="saty has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-51125">
    
        <a name="51128"></a>
        <div class="comment" id="comment-51128">
            <div id="post-51128-score" class="comment-score"></div>
            <div class="comment-text"><p>You'll need to provide some sort of evidence, ideally a capture file, to illustrate your issue.  You haven't told us when this "spurious" ACK comes within the TCP conversation.</p></div>
            <div class="comment-info" id="comment-51128-info">
                
                
                
                

                

                <span class="comment-age">(23 Mar '16, 08:41)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="51130"></a>
        <div class="comment" id="comment-51130">
            <div id="post-51130-score" class="comment-score"></div>
            <div class="comment-text"><p>how can i upload capture file?</p></div>
            <div class="comment-info" id="comment-51130-info">
                
                
                
                

                

                <span class="comment-age">(23 Mar '16, 09:34)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51131"></a>
        <div class="comment" id="comment-51131">
            <div id="post-51131-score" class="comment-score"></div>
            <div class="comment-text"><p>You cannot (and no one else can either). Publish it at cloudshark, google drive, one drive, or anywhere else, login-free, and edit your Question with a link to it.</p></div>
            <div class="comment-info" id="comment-51131-info">
                
                
                
                

                

                <span class="comment-age">(23 Mar '16, 09:56)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="51140"></a>
        <div class="comment" id="comment-51140">
            <div id="post-51140-score" class="comment-score"></div>
            <div class="comment-text"><p>uploaded capture file at <a href="https://www.cloudshark.org/captures/3319789a4eb5">https://www.cloudshark.org/captures/3319789a4eb5</a>
(192.168.xx.xx is a server and 62.140.xx.xx is a client)</p>

<p>how can we avoid "ACK" having len=0 to reduce overhead on GSM data usage.</p></div>
            <div class="comment-info" id="comment-51140-info">
                
                
                
                

                

                <span class="comment-age">(23 Mar '16, 23:13)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-51125" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-51125-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="51170"></a>
                    <div id="answer-container-51170" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-51170-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/51170/up/" rel="nofollow"> </a>
<div id="post-51170-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-51170-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/51170/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I think the problem is your server sending immediate ACKs at times when it could 
have just waited for the data to flow in the reverse direction a few ms later.(yellow)   <br>
Obviously when it has nothing to send it delays the ACKs (green) .<br>
Per this <a href="http://stackoverflow.com/questions/1615447/disable-tcp-delayed-acks">Stack_Overflow Thread</a>  this seems to be program controlled by setting sockopt TCP_QUICKACK. So it is up to your server to send an iimmediate ack when it feels appropriate. </p>
<p>Regards Matthias <br>
<img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/Selection_912.png"></p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/51170/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>24 Mar '16, 22:55</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5500bd1decb766660522dfb347eedc49?s=32&amp;d=identicon&amp;r=g" alt="mrEEde's gravatar image" />
    <p><a href="/users/4668/mreede">mrEEde</a><br/>
    <span class="score" title="3892 reputation points"><span class="">3.9k</span></span><span title="15 badges"><span class="badge1">&#9679;</span><span class="badgecount">15</span></span><span title="22 badges"><span class="silver">&#9679;</span><span class="badgecount">22</span></span><span title="70 badges"><span class="bronze">&#9679;</span><span class="badgecount">70</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mrEEde has 48 accepted answers">20&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-51170">
    
        <a name="51173"></a>
        <div class="comment" id="comment-51173">
            <div id="post-51173-score" class="comment-score"></div>
            <div class="comment-text"><p>yes, how can we avoid this immediate ACK from server? what changes will help in this case? is it server/OS level or socket program level change? thank you</p></div>
            <div class="comment-info" id="comment-51173-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 01:28)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51174"></a>
        <div class="comment" id="comment-51174">
            <div id="post-51174-score" class="comment-score"></div>
            <div class="comment-text"><p>here is the output of /proc/net/tcp</p>

<pre><code>---------------------
 sl  local_address rem_address   st tx_queue rx_queue tr tm-&gt;when retrnsmt   uid  timeout inode
   0: 00000000:170D 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 772479776 1 ffff88003783c7c0 99 0 0 10 -1
   1: 00000000:1F90 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783642140 1 ffff8801394a8180 99 0 0 10 -1
   2: 00000000:0050 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 770299248 1 ffff8800a9f55600 99 0 0 10 -1
   3: 00000000:1771 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 772479770 1 ffff88003783ce80 99 0 0 10 -1
   4: 00000000:1774 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783878789 1 ffff8801394a8f00 99 0 0 10 -1
   5: 00000000:0016 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 10965 1 ffff8801394934c0 99 0 0 10 -1
   6: 0100007F:0019 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 11209 1 ffff880139492080 99 0 0 10 -1
   7: 00000000:01BB 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 770320772 1 ffff8800a564a7c0 99 0 0 10 -1
   8: 171AA8C0:0AFC 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 11418 1 ffff880139492e00 99 0 0 10 -1
   9: 0100007F:1B5D 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 782540223 1 ffff8800a564b540 99 0 0 10 -1
  10: 00000000:D69E 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783878790 1 ffff8801394a95c0 99 0 0 10 -1
  11: 00000000:1B9E 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 782532703 1 ffff8800a9e5e180 99 0 0 10 -1
  12: 00000000:BAFF 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783878788 1 ffff8800b73b7740 99 0 0 10 -1
  13: 00000000:24E3 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783878796 1 ffff8800650d8f40 99 0 0 10 -1
  14: 0100007F:1F45 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783653097 1 ffff880037a80780 99 0 0 10 -1
  15: 00000000:1F49 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783642141 1 ffff88013a0c2e40 99 0 0 10 -1
  16: 171AA8C0:B9AB 171AA8C0:1B9E 08 00000000:00000001 00:00000000 00000000     0        0 783653903 1 ffff8800650d9600 20 3 0 10 -1

... 36 lines
---------------------
</code></pre></div>
            <div class="comment-info" id="comment-51174-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 02:29)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51175"></a>
        <div class="comment" id="comment-51175">
            <div id="post-51175-score" class="comment-score"></div>
            <div class="comment-text"><p>14: 0100007F:1F45 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 783653097 1 ffff880037a80780 99 0 0 10 -1</p></div>
            <div class="comment-info" id="comment-51175-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 02:30)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51176"></a>
        <div class="comment" id="comment-51176">
            <div id="post-51176-score" class="comment-score"></div>
            <div class="comment-text"><p>Just out of curiosity, why don't you want this ack? From my point of view it isn't so bad.</p></div>
            <div class="comment-info" id="comment-51176-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 03:11)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="51177"></a>
        <div class="comment" id="comment-51177">
            <div id="post-51177-score" class="comment-score"></div>
            <div class="comment-text"><p>By avoiding these immediate ACKS, if possible, we want to reduce unnecessary overhead on GSM data usage and save cost/bandwidth. This is a test case with one client, just think if there are many thousands of clients, many such ACKs (overhead), and how much can be saved.</p></div>
            <div class="comment-info" id="comment-51177-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 03:32)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51178"></a>
        <div class="comment not_top_scorer" id="comment-51178">
            <div id="post-51178-score" class="comment-score"></div>
            <div class="comment-text"><p>Which parts of the software can you modify or configure? Your application, the TCP stack behaviour, or none of the two? On both the client and server or nowhere at all?</p>

<p>What I can see is that the client requests something, and the server sends the ACK to it before it has assembled the response. This is what <a href="/users/4668/mreede">@mrEEde</a> has drawn your attention to - if it normally takes tens of milliseconds to provide the response to the request, the server application may delay sending the ACK for the received request until it has the data of the response ready, so that it could send the ACK for the request in the same packet as the response. Currently, it looks as if it orders the tcp stack not to wait.</p>

<p>Another thing is that the client sends some data (6 bytes) back to the server as soon as it receives the server's response. After receiving these data, the server sends the immediate ACK again. The question is whether your application protocol needs to send those 6 bytes at all, i.e. whether these data are meaningful or whether it is just some kind of application-level ACK which would thus be redundant (useless) if you use a transport protocol with guaranteed delivery, such as TCP.</p>

<p>If you are not able to change the behaviour of the application software, I'm afraid you have no chance to get rid of those ACK-only (<code>tcp.len == 0</code>) packets.</p></div>
            <div class="comment-info" id="comment-51178-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 04:02)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="51207"></a>
        <div class="comment not_top_scorer" id="comment-51207">
            <div id="post-51207-score" class="comment-score"></div>
            <div class="comment-text"><p>This trace lasted for 21 minutes, and only 2,146 bytes were transferred (including the Ethernet, IP, and TCP headers, not just the data). Adjusting for the fact that the capture was taken on the server, and some of the actual frames transmitted on the network would have been larger due to the minimum Ethernet frame size, 2,338 bytes would have been transferred. If all the zero-length ACKs could be eliminated, 768 bytes would be saved, or 0.61 bytes per second. While that is one-third of the total, I'm not sure I'd spend much time trying to change what is essentially normal TCP behavior in order to save 0.61 bytes per second per device.</p>

<p>The only reason it's such a high fraction of the total is that so little data is being sent. The largest packet in this trace had only 68 bytes of data. There were only 526 data bytes transferred in the whole 21 minutes. There is more or less the same amount of overhead in a packet, regardless of whether it contains no data, 100 bytes of data, or 1,460 bytes of data.</p></div>
            <div class="comment-info" id="comment-51207-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 14:19)</span>
                <a class="comment-user userinfo" href="/users/527/jim-aragon">Jim Aragon</a>
                
            </div>
        </div>
    
        <a name="51211"></a>
        <div class="comment not_top_scorer" id="comment-51211">
            <div id="post-51211-score" class="comment-score"></div>
            <div class="comment-text"><p>Yes I think it, too. It is better to optimize an application and not always the TCP/IP implementation.</p>

<p>The way how the server stack works in these case is for a lot of use cases, from my point of view, a really smart implementation.</p></div>
            <div class="comment-info" id="comment-51211-info">
                
                
                
                

                

                <span class="comment-age">(25 Mar '16, 14:30)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="51228"></a>
        <div class="comment not_top_scorer" id="comment-51228">
            <div id="post-51228-score" class="comment-score"></div>
            <div class="comment-text"><p>currently using CentosOS 6.6 - linux 2.6.32 on Server, Is there a way to reduce ACK overhead by tcp stack tuning on server level? </p>

<p>some parameters we are looking at "tcp_delayack", quickack etc is not available in sysctl file on this server OS version. Also looking at some socket program level parameters like tcp_cork etc not available.</p></div>
            <div class="comment-info" id="comment-51228-info">
                
                
                
                

                

                <span class="comment-age">(28 Mar '16, 04:50)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51229"></a>
        <div class="comment not_top_scorer" id="comment-51229">
            <div id="post-51229-score" class="comment-score"></div>
            <div class="comment-text"><p>I common way how people handle this:
They use UDP as Layer4 protocol and implement the needed Transportation Control mechanismen by themself.</p>

<p>I suggest you should think about that solution. Because you can save a lot of Bits if you are using UDP instead of TCP.</p>

<p>Otherwise I recommend, that you ask in a linux or CentOS forum about that parameter.</p></div>
            <div class="comment-info" id="comment-51229-info">
                
                
                
                

                

                <span class="comment-age">(28 Mar '16, 05:20)</span>
                <a class="comment-user userinfo" href="/users/16160/christian_r">Christian_R</a>
                
            </div>
        </div>
    
        <a name="51230"></a>
        <div class="comment not_top_scorer" id="comment-51230">
            <div id="post-51230-score" class="comment-score"></div>
            <div class="comment-text"><p>i have raised this Question in "linuxquestions.org" forum now. <a href="http://www.linuxquestions.org/questions/showthread.php?p=5522417#post5522417">http://www.linuxquestions.org/questions/showthread.php?p=5522417#post5522417</a></p></div>
            <div class="comment-info" id="comment-51230-info">
                
                
                
                

                

                <span class="comment-age">(28 Mar '16, 05:52)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51231"></a>
        <div class="comment not_top_scorer" id="comment-51231">
            <div id="post-51231-score" class="comment-score"></div>
            <div class="comment-text"><p>yes, UDP is a good solution to avoid ACK's (overheads etc) however having implemented on TCP, looking for a solution (OS level or Socket level) to avoid immediate ACKs, if possible then life would be happier this way.</p></div>
            <div class="comment-info" id="comment-51231-info">
                
                
                
                

                

                <span class="comment-age">(28 Mar '16, 05:56)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
        <a name="51251"></a>
        <div class="comment not_top_scorer" id="comment-51251">
            <div id="post-51251-score" class="comment-score"></div>
            <div class="comment-text"><p>can anyone suggest how to avoid immediate ACK's from server??</p></div>
            <div class="comment-info" id="comment-51251-info">
                
                
                
                

                

                <span class="comment-age">(29 Mar '16, 03:41)</span>
                <a class="comment-user userinfo" href="/users/23645/saty">saty</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-51170" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 13
        </span>
        <a href="#" class="show-all-comments-link">show 8 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-51170-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/51125/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='1XBT6aMBtET3AezNYCaz3BibqtdI7bSF' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/51125/extra-ack-at-server-side-in-tcpip-socket-communication?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/tcp_delayed_ack/"
            class="tag-link-tcp_delayed_ack"
            title="see questions tagged'tcp_delayed_ack'using tags"
            rel="tag">tcp_delayed_ack</a> <span class="tag-number">&#215;5</span><br/>
        
    </p>
    <p>
        question asked: <strong title="March 23, 2016, 7:06 a.m.">23 Mar '16, 07:06</strong>
    </p>
    <p> 
     	question was seen: <strong>936 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 29, 2016, 3:41 a.m.">29 Mar '16, 03:41</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/28494/wrong-behavior-for-tcp-delayed-ack">wrong behavior for TCP-Delayed Ack</a>
        </p>
        
        <p>
            <a href="/questions/35427/delayed-ack">Delayed ACK</a>
        </p>
        
        <p>
            <a href="/questions/35477/inconsistent-delayed-ack-behavior">Inconsistent delayed ACK behavior</a>
        </p>
        
        <p>
            <a href="/questions/62607/interesting-tcp-segment-ack-pattern">Interesting TCP segment-ACK pattern</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
