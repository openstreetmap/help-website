<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Rendering failed with command 4 - OSM Help</title>
        <meta name="description" content="Hi, I am trying to set OSM map server as per steps given in link below: https://seshagiriprabhu.wordpress.com/2013/07/21/building-an-openstreetmap-tile-server-on-ubuntu-12-04-lts/ But I am getting following following errors: While running renderd in debugging mode: renderd[6593]: An error occurred w..." />
        <meta name="keywords" content="rendering" />
        
        <link rel="canonical" href="https://help.openstreetmap.org/questions/70461/rendering-failed-with-command-4" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/70461/rendering-failed-with-command-4?type=rss">

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <link rel="shortcut icon" href="/upfiles/favicon_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/themes/base/jquery-ui.min.css" integrity="sha512-Lzjd1ELD6YCIwIU5uaJldvbibV5Fi7HThNZjrwJHALBJRT6q2a6ndgi8TNgcKcUqGsH6bpT7xyTEi8qRzN1ASg==" crossorigin="anonymous" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js" integrity="sha512-tcexmm0PBc+jOn9UwbgHVpjZIleEKXif1MCkzgNfVjhXKDxwYumrCOxhZ5tIaXHz2DpEE14hfjFn5J+tpaFSCg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js" integrity="sha512-leN1LJ2B5s9cBINeKL5bbT3cQvOebXsezoYGyuMq9oaytpFJgJ1uBOU86lJZObKTFLbMHqP0zFXR/1N6Nnlskw==" crossorigin="anonymous"></script>
        <script type="text/javascript">
        /*<![CDATA[*/
            var i18nLang = 'en';
            var appUrl = 'https://help.openstreetmap.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="OSM Help Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/osm_help_logo_6.png" title="back to home page" alt="OpenStreetMap Help Forum logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        <!-- <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> -->
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <iframe src="https://duckduckgo.com/search.html?site=help.openstreetmap.org&prefill=Search questions using DuckDuckGo&focus=yes" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
    <!--
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='3XpYmKYY0BI0kILin0EXUpZjCnB34HQf' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
    -->
	</div>

	
  <div id="announcement">
      <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/70461/rendering-failed-with-command-4">Rendering failed with command 4</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-70461-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/70461/up/" rel="nofollow"> </a>
<div id="post-70461-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-70461-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/70461/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/70461/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hi,</p>
<p>I am trying to set OSM map server as per steps given in link below:</p>
<p><a href="https://seshagiriprabhu.wordpress.com/2013/07/21/building-an-openstreetmap-tile-server-on-ubuntu-12-04-lts/">https://seshagiriprabhu.wordpress.com/2013/07/21/building-an-openstreetmap-tile-server-on-ubuntu-12-04-lts/</a></p>
<p>But I am getting following following errors:</p>
<p>While running renderd in debugging mode:</p>
<p>renderd[6593]: An error occurred while loading the map layer 'default': Shape Plugin: shapefile '/etc/mapnik-osm-carto-data/data/simplified-land-polygons-complete-3857/simplified_land_polygons.shp' does not exist  encountered during parsing of layer 'world' in Layer at line 76 of '/etc/mapnik-osm-carto-data/osm.xml'</p>
<p>While giving pre-render command sudo render_list -a -s /var/run/renderd/renderd.sock</p>
<p>ubuntu@ip-172-31-23-126:~$ sudo render_list -a -s /var/run/renderd/renderd.sock
debug: init_storage_backend: initialising file storage backend at: /var/lib/mod_tile
Rendering client
Starting 1 rendering threads
Rendering all tiles from zoom 0 to zoom 20
Rendering all tiles for zoom 0 from (0, 0) to (0, 0)
Rendering all tiles for zoom 1 from (0, 0) to (1, 1)
Rendering all tiles for zoom 2 from (0, 0) to (3, 3)
Rendering all tiles for zoom 3 from (0, 0) to (7, 7)
Rendering all tiles for zoom 4 from (0, 0) to (15, 15)
Rendering all tiles for zoom 5 from (0, 0) to (31, 31)
Rendering all tiles for zoom 6 from (0, 0) to (63, 63)
rendering failed with command 4, pausing.
rendering failed with command 4, pausing.</p>
<p>Can somebody help?</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/rendering/" class="post-tag tag-link-rendering"
                                        title="see questions tagged 'rendering'" rel="tag">rendering</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>22 Aug '19, 06:15</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/1a9eea008bc0c9a26985aa042d9b8ac2?s=32&amp;d=identicon&amp;r=g" alt="Reshma%20Maner's gravatar image" />
    <p><a href="/users/2196/reshma-maner">Reshma Maner</a><br/>
    <span class="score" title="235 reputation points">235</span><span title="30 badges"><span class="badge1">&#9679;</span><span class="badgecount">30</span></span><span title="31 badges"><span class="silver">&#9679;</span><span class="badgecount">31</span></span><span title="36 badges"><span class="bronze">&#9679;</span><span class="badgecount">36</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Reshma Maner has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-70461">
    
        <a name="70477"></a>
        <div class="comment" id="comment-70477">
            <div id="post-70477-score" class="comment-score"></div>
            <div class="comment-text"><p>Any guide that dates from 2013 and Ubuntu 12 is likely to be out of data in a number of areas, not least the Natural Earth data zip files have changed slightly in the last 6 years.  I haven't tested the PPA that that used for a while (and not on Ubuntu 12 for ages) so cant guarantee that it will still work.</p>

<p>Is there a reason why you're using Ubuntu 12?</p></div>
            <div class="comment-info" id="comment-70477-info">
                
                
                
                

                

                <span class="comment-age">(22 Aug '19, 17:16)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="70478"></a>
        <div class="comment" id="comment-70478">
            <div id="post-70478-score" class="comment-score"></div>
            <div class="comment-text"><p>I am using Ubuntu 14.04 LTS</p></div>
            <div class="comment-info" id="comment-70478-info">
                
                
                
                

                

                <span class="comment-age">(22 Aug '19, 17:49)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70480"></a>
        <div class="comment" id="comment-70480">
            <div id="post-70480-score" class="comment-score"></div>
            <div class="comment-text"><p>That's still from <a href="https://www.theguardian.com/world/2014/dec/26/top-10-news-stories-2014-guardian">2014</a> - is there anything stopping you using a later version?</p></div>
            <div class="comment-info" id="comment-70480-info">
                
                
                
                

                

                <span class="comment-age">(22 Aug '19, 17:55)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-70461" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-70461-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/70461/rendering-failed-with-command-4?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/70461/rendering-failed-with-command-4?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/70461/rendering-failed-with-command-4?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/70461/rendering-failed-with-command-4?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="70476"></a>
                    <div id="answer-container-70476" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-70476-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/70476/up/" rel="nofollow"> </a>
<div id="post-70476-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-70476-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/70476/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Hello</p>
<p>Check the <strong>/etc/mapnik-osm-carto-data/data/simplified-land-polygons-complete-3857/</strong> directory and see what files/subdirectories are inside. Renderd is complying about missing shape file, so probably you didn't download it or you have got that file in different place. If the <strong>simplified-land-polygons-complete-3857</strong> isn't there, then take look into the <strong>/etc/mapnik-osm-carto-data/data/</strong> .</p>
<p>You could also try the <a href="https://switch2osm.org/manually-building-a-tile-server-18-04-lts/">https://switch2osm.org/manually-building-a-tile-server-18-04-lts/</a> which should work without any major problems. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/70476/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>22 Aug '19, 16:10</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/7b5775bcca69a6b6603f02a8255ef2f1?s=32&amp;d=identicon&amp;r=g" alt="januzi's gravatar image" />
    <p><a href="/users/17062/januzi">januzi</a><br/>
    <span class="score" title="56 reputation points">56</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="januzi has no accepted answers">0&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-70476">
    
        <a name="70492"></a>
        <div class="comment" id="comment-70492">
            <div id="post-70492-score" class="comment-score"></div>
            <div class="comment-text"><p>I downloaded land-polygons-split-3857.zip and simplified-land-polygons-complete-3857.zip from below link:</p>

<p><a href="https://osmdata.openstreetmap.de/download/simplified-land-polygons-complete-3857.zip">https://osmdata.openstreetmap.de/download/simplified-land-polygons-complete-3857.zip</a>
<a href="https://osmdata.openstreetmap.de/download/land-polygons-split-3857.zip">https://osmdata.openstreetmap.de/download/land-polygons-split-3857.zip</a></p>

<p>Now errors for these two files is gone and a new error is shown while I run renderd in debug mode.</p>

<p>renderd[3641]: An error occurred while loading the map layer 'default': Shape Plugin: shapefile '/etc/mapnik-osm-carto-data/data/ne_110m_admin_0_boundary_lines_land/ne_110m_admin_0_boundary_lines_land.shp' does not exist  encountered during parsing of layer 'necountries' in Layer at line 123 of '/etc/mapnik-osm-carto-data/osm.xml'</p></div>
            <div class="comment-info" id="comment-70492-info">
                
                
                
                

                

                <span class="comment-age">(23 Aug '19, 11:22)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70493"></a>
        <div class="comment" id="comment-70493">
            <div id="post-70493-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="https://github.com/nvkelso/natural-earth-vector/blob/master/110m_cultural/ne_110m_admin_0_boundary_lines_land.shp">https://github.com/nvkelso/natural-earth-vector/blob/master/110m_cultural/ne_110m_admin_0_boundary_lines_land.shp</a></p>

<p>This one will probably work. Download it and put into the /etc/mapnik-osm-carto-data/data/ne_110m_admin_0_boundary_lines_land/. </p>

<p>If there are more errors about missing shapes, then type the last part of the error (like ne_110m_admin_0_boundary_lines_land.shp) into the google and download those shapes as well.</p></div>
            <div class="comment-info" id="comment-70493-info">
                
                
                
                

                

                <span class="comment-age">(23 Aug '19, 11:32)</span>
                <a class="comment-user userinfo" href="/users/17062/januzi">januzi</a>
                
            </div>
        </div>
    
        <a name="70495"></a>
        <div class="comment" id="comment-70495">
            <div id="post-70495-score" class="comment-score"></div>
            <div class="comment-text"><p>No. its giving me an error for /etc/mapnik-osm-carto-data/data/ne_10m_populated_places/ne_10m_populated_places_fixed.shp. Above link downloads a different file.</p></div>
            <div class="comment-info" id="comment-70495-info">
                
                
                
                

                

                <span class="comment-age">(23 Aug '19, 13:32)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70496"></a>
        <div class="comment" id="comment-70496">
            <div id="post-70496-score" class="comment-score">1</div>
            <div class="comment-text"><p>As I've mentioned before, type the missing file name into the google and get the file: <a href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places.zip">http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places.zip</a></p></div>
            <div class="comment-info" id="comment-70496-info">
                
                
                
                

                

                <span class="comment-age">(23 Aug '19, 13:48)</span>
                <a class="comment-user userinfo" href="/users/17062/januzi">januzi</a>
                
            </div>
        </div>
    
        <a name="70497"></a>
        <div class="comment" id="comment-70497">
            <div id="post-70497-score" class="comment-score">1</div>
            <div class="comment-text"><p>One other thing to mention - whatever map style you get after getting this data to load, it won't look like <a href="https://www.openstreetmap.org">https://www.openstreetmap.org</a> does now, as that currently use Natural Earth data.  The style might look like OSM's "standard style" looked about 6 years ago.</p></div>
            <div class="comment-info" id="comment-70497-info">
                
                
                
                

                

                <span class="comment-age">(23 Aug '19, 16:22)</span>
                <a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
                
            </div>
        </div>
    
        <a name="70608"></a>
        <div class="comment not_top_scorer" id="comment-70608">
            <div id="post-70608-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi,</p>

<p>I have followed steps given in <a href="https://switch2osm.org/manually-building-a-tile-server-18-04-lts/">https://switch2osm.org/manually-building-a-tile-server-18-04-lts/</a> link</p>

<p>I am getting following errors not for running renderd service</p>

<p>Mapnik LOG&gt; 2019-09-03 07:31:07: warning: unable to find face-name 'unifont Medium' in FontSet 'fontset-2'
renderd[7426]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  role "root" does not exist
Connection string: ' dbname=gis connect_timeout=4'
  encountered during parsing of layer 'landcover-low-zoom' in Layer at line 819 of '/home/renderaccount/src/openstreetmap-carto/mapnik.xml'
renderd[7426]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  role "root" does not exist
Connection string: ' dbname=gis connect_timeout=4'
  encountered during parsing of layer 'landcover-low-zoom' in Layer at line 819 of '/home/renderaccount/src/openstreetmap-carto/mapnik.xml'
renderd[7426]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  role "root" does not exist
Connection string: ' dbname=gis connect_timeout=4'</p></div>
            <div class="comment-info" id="comment-70608-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '19, 08:33)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70611"></a>
        <div class="comment not_top_scorer" id="comment-70611">
            <div id="post-70611-score" class="comment-score"></div>
            <div class="comment-text"><p>In the project.mml scroll down to the line where you have set dbname. Add the lines:
user: "youruser"
port: "5432"
password: "yourpassword"
host: "localhost"
(where youruser and yourpassword are from the user that was added to the postgress in the "Installing postgresql / postgis" paragraph). 
Regenerate style.xml and try again.</p>

<p>You might also need to use (in the psql console): 
ALTER USER youruser with password 'yourpassword';</p></div>
            <div class="comment-info" id="comment-70611-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '19, 10:31)</span>
                <a class="comment-user userinfo" href="/users/17062/januzi">januzi</a>
                
            </div>
        </div>
    
        <a name="70612"></a>
        <div class="comment not_top_scorer" id="comment-70612">
            <div id="post-70612-score" class="comment-score"></div>
            <div class="comment-text"><p>Tried this. Now getting below error. Password is correctly put in project.mml file. Then I recreated mapnik.xml file.</p>

<p>renderd[26191]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  password authentication failed for user "renderaccount"
FATAL:  password authentication failed for user "renderaccount"
Connection string: 'host=localhost port=5432 dbname=gis user=renderaccount connect_timeout=4'
  encountered during parsing of layer 'landcover-low-zoom' in Layer at line 819 of '/home/ubuntu/src/openstreetmap-carto/mapnik.xml'
renderd[26191]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  password authentication failed for user "renderaccount"
FATAL:  password authentication failed for user "renderaccount"
Connection string: 'host=localhost port=5432 dbname=gis user=renderaccount connect_timeout=4'
  encountered during parsing of layer 'landcover-low-zoom' in Layer at line 819 of '/home/ubuntu/src/openstreetmap-carto/mapnik.xml'
renderd[26191]: An error occurred while loading the map layer 'ajt': Postgis Plugin: FATAL:  password authentication failed for user "renderaccount"</p></div>
            <div class="comment-info" id="comment-70612-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '19, 13:01)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70614"></a>
        <div class="comment not_top_scorer" id="comment-70614">
            <div id="post-70614-score" class="comment-score"></div>
            <div class="comment-text"><p>Try to log in into postgres from console: 
1. psql -h localhost -U renderaccount 
2. psql -h localhost -U renderaccount -W</p>

<p>First command skips password, the second one asks for it. If you can't login with the renderaccount using those two commands, then login into postgres as root and run "alter user" command. After setting the password for renderaccount try again with the second command. This time you should be able to "get inside".</p></div>
            <div class="comment-info" id="comment-70614-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '19, 14:29)</span>
                <a class="comment-user userinfo" href="/users/17062/januzi">januzi</a>
                
            </div>
        </div>
    
        <a name="70618"></a>
        <div class="comment not_top_scorer" id="comment-70618">
            <div id="post-70618-score" class="comment-score"></div>
            <div class="comment-text"><p>using alter user command, I could login to postgresql. Getting below error now for the command - sudo renderd -f -c /usr/local/etc/renderd.conf</p>

<p>renderd[14559]: config renderd: num_threads=4
renderd[14559]: config renderd: num_slaves=0
renderd[14559]: config renderd: tile_dir=/var/lib/mod_tile
renderd[14559]: config renderd: stats_file=/var/run/renderd/renderd.stats
renderd[14559]: config mapnik:  plugins_dir=/usr/lib/mapnik/3.0/input
renderd[14559]: config mapnik:  font_dir=/usr/share/fonts/truetype
renderd[14559]: config mapnik:  font_dir_recurse=1
renderd[14559]: config renderd(0): Active
renderd[14559]: config renderd(0): unix socketname=/var/run/renderd/renderd.sock
renderd[14559]: config renderd(0): num_threads=4
renderd[14559]: config renderd(0): tile_dir=/var/lib/mod_tile
renderd[14559]: config renderd(0): stats_file=/var/run/renderd/renderd.stats
renderd[14559]: config map 0:   name(ajt) file(/home/ubuntu/src/openstreetmap-carto/mapnik.xml) uri(/hot/) htcp() host(localhost)
renderd[14559]: Initialising unix server socket on /var/run/renderd/renderd.sock
socket bind failed for: /var/run/renderd/renderd.sock</p></div>
            <div class="comment-info" id="comment-70618-info">
                
                
                
                

                

                <span class="comment-age">(04 Sep '19, 06:56)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70619"></a>
        <div class="comment not_top_scorer" id="comment-70619">
            <div id="post-70619-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi,</p>

<p>Now everything is working fine! thank you so much for the help.</p>

<p>Now I have two more things to do:</p>

<ol>
<li>Prerender the tiles </li>
<li>Currently I have downloaded India Map. Now I want to append one more country map data to my existing tiles and again prerender</li>
</ol></div>
            <div class="comment-info" id="comment-70619-info">
                
                
                
                

                

                <span class="comment-age">(04 Sep '19, 07:10)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
        <a name="70621"></a>
        <div class="comment not_top_scorer" id="comment-70621">
            <div id="post-70621-score" class="comment-score"></div>
            <div class="comment-text"><p>I am trying to append GCC states data using below command, but getting error.</p>

<p>Command - sudo -u renderaccount osm2pgsql -d gis --append --slim  -G --hstore  ~/src/openstreetmap-carto/openstreetmap-carto.lua -C 4096 --number-processes 6 -S ~/src/openstreetmap-carto/openstreetmap-carto.style ~/data/gcc-states-latest.osm.pbf</p>

<p>Error - </p>

<p>Using built-in tag processing pipeline
Using projection SRS 3857 (Spherical Mercator)
Setting up table: planet_osm_point
Setting up table: planet_osm_line
Setting up table: planet_osm_polygon
Setting up table: planet_osm_roads</p>

<p>Reading in file: /home/ubuntu/data/gcc-states-latest.osm.pbf
Using PBF parser.
Processing: Node(120k 4.8k/s) Way(0k 0.00k/s) Relation(0 0.00/s)DB writer thread failed due to ERROR: COPY planet_osm_point(osm_id,"access","addr:housename","addr:housenumber","admin_level","aerialway","aeroway","amenity","barrier","boundary","building","highway","historic","junction","landuse","layer","leisure","lock","man_made","military","name","natural","oneway","place","power","railway","ref","religion","shop","tourism","water","waterway",tags,way) FROM STDIN failed: ERROR:  column "tags" of relation "planet_osm_point" does not exist</p></div>
            <div class="comment-info" id="comment-70621-info">
                
                
                
                

                

                <span class="comment-age">(04 Sep '19, 07:44)</span>
                <a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-70476" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 12
        </span>
        <a href="#" class="show-all-comments-link">show 7 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-70476-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/70461/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='3XpYmKYY0BI0kILin0EXUpZjCnB34HQf' />
            <div style="clear:both">
            </div>

            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/70461/rendering-failed-with-command-4?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/70461/rendering-failed-with-command-4?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <p>This was the support site for <a href="http://www.openstreetmap.org/">OpenStreetMap</a>. It has now been replaced by <a href="https://community.openstreetmap.org/">community.osm.org</a>.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/rendering/"
            class="tag-link-rendering"
            title="see questions tagged'rendering'using tags"
            rel="tag">rendering</a> <span class="tag-number">&#215;440</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Aug. 22, 2019, 6:15 a.m.">22 Aug '19, 06:15</strong>
    </p>
    <p> 
     	question was seen: <strong>4,114 times</strong>
    </p>
    <p> 
        last updated: <strong title="Sept. 4, 2019, 7:44 a.m.">04 Sep '19, 07:44</strong>
    </p>
</div>



<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/125/how-do-i-stop-rivers-from-rendering-where-the-riverbanks-are-mapped">How do I stop rivers from rendering where the riverbanks are mapped?</a>
        </p>
        
        <p>
            <a href="/questions/136/how-do-i-render-my-own-maps-for-my-website">How do I render my own maps for my website?</a>
        </p>
        
        <p>
            <a href="/questions/139/how-can-i-design-some-simple-maps">How can I design some simple maps?</a>
        </p>
        
        <p>
            <a href="/questions/178/how-often-does-the-main-mapnik-map-get-updated">How often does the main (mapnik) map get updated</a>
        </p>
        
        <p>
            <a href="/questions/242/how-to-download-rendered-osm-maps">How to download rendered OSM maps?</a>
        </p>
        
        <p>
            <a href="/questions/361/why-render-abandoned-railways">[closed] Why render abandoned railways?</a>
        </p>
        
        <p>
            <a href="/questions/460/is-there-any-way-to-group-the-rendering-of-changes-to-the-public-map">Is there any way to group the rendering of changes to the public map?</a>
        </p>
        
        <p>
            <a href="/questions/815/am-i-doing-ok">Am i doing ok ?</a>
        </p>
        
        <p>
            <a href="/questions/840/problem-with-map-scale-when-generating-maps-with-osmarender">Problem with map scale when generating maps with Osmarender</a>
        </p>
        
        <p>
            <a href="/questions/1/how-do-you-make-the-osm2pgsql-diff-imports-run-faster-than-molasses-on-postgres-84">How do you make the osm2pgsql diff imports run faster than molasses on postgres 8.4?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            
            <div id="ground">
                
                    <p>NOTICE: <a href="https://community.openstreetmap.org/t/archiving-of-help-openstreetmap-org-1st-march-2024/108483">help.openstreetmap.org is no longer in use from 1st March 2024</a>. Please use the <a href="https://community.openstreetmap.org/">OpenStreetMap Community Forum</a></p>
                
            </div>
            
        
        

        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
