<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Why can one machine capture transmit and receive traffic but another machine only captures transmit traffic off of the same port mirror? - Wireshark Q&amp;A</title>
        <meta name="description" content="This is a very odd problem we have run into... We have configured a many-to-one port mirror on a switch to forward all traffic from the mirrored servers to a Linux monitor server. We tested the many-to-one port mirror with laptops pinging each other and used another laptop running Wireshark 1.0.2 to..." />
        <meta name="keywords" content="received,transmits,packets,windows7,wireshark" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/19049/why-can-one-machine-capture-transmit-and-receive-traffic-but-another-machine-only-captures-transmit-traffic-off-of-the-same-port-mirror" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/19049/why-can-one-machine-capture-transmit-and-receive-traffic-but-another-machine-only-captures-transmit-traffic-off-of-the-same-port-mirror?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='OiXWdIlfG2BkudonPL4rzugxVRbu7JPX' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/19049/why-can-one-machine-capture-transmit-and-receive-traffic-but-another-machine-only-captures-transmit-traffic-off-of-the-same-port-mirror">Why can one machine capture transmit and receive traffic but another machine only captures transmit traffic off of the same port mirror?</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-19049-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/19049/up/" rel="nofollow"> </a>
<div id="post-19049-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-19049-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/19049/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/19049/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>This is a very odd problem we have run into...</p>
<p>We have configured a many-to-one port mirror on a switch to forward all traffic from the mirrored servers to a Linux monitor server.  We tested the many-to-one port mirror with laptops pinging each other and used another laptop running Wireshark 1.0.2 to capture the traffic, proving that everything is working.</p>
<p>When we added the Linux monitor server to the mix the monitor shows that it is only getting the traffic being transmitted from the mirrored server ports and not getting the traffic being received on those ports.</p>
<p>We moved the connection from the Linux monitor server to the laptop with Wireshark 1.0.2 and ran a new capture which showed both the transmit and receive traffic, in this case pings to the servers on the mirrored ports and their replies to the PC on the LAN sending the pings.</p>
<p>When a SysAdmin put a laptop running Wireshark 1.8.5 on the connection and ran a new capture of the still running pings his capture only showed the transmit traffic from the mirrored servers, the ping replies, and did not show the pings the servers were receiving.</p>
<p>We immediately swapped back to the Wireshark 1.0.2 laptop and confirmed that it was capturing both the pings and the replies, the transmit and received traffic from the mirrored servers.</p>
<p>A tcpdump from a Linux laptop on that same connection also captured the pings and replies, transmited and received traffic from the servers.</p>
<p>We compared the capture settings we were using for Wireshark 1.0.2 and Wireshark 1.8.5 and they were the same.  Both were configured to capture packets in promiscuous mode with a 5 megabyte buffer.  Both laptops were auto-negotiating at full Gig, though the Wireshark 1.0.2 laptop is running Windows XP SP3 and the Wireshark 1.8.5 laptop is running Windows 7.  In both cases we did not have any capture filters applied.</p>
<p>We are stumped on this one.  The Wireshark 1.0.2 captures confirm that all the traffic, transmited and reveived, is being mirred from the servers, but Wireshark 1.8.5 and the Linux monitor server are only capturing the traffic being transmitted by the mirrored servers.</p>
<p>Has anyone else ever seen or heard of this issue?</p>
<p>Many Thanks!
Jandrys</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/received/" class="post-tag tag-link-received"
                                        title="see questions tagged 'received'" rel="tag">received</a>
                                
                                    <a href="/tags/transmits/" class="post-tag tag-link-transmits"
                                        title="see questions tagged 'transmits'" rel="tag">transmits</a>
                                
                                    <a href="/tags/packets/" class="post-tag tag-link-packets"
                                        title="see questions tagged 'packets'" rel="tag">packets</a>
                                
                                    <a href="/tags/windows7/" class="post-tag tag-link-windows7"
                                        title="see questions tagged 'windows7'" rel="tag">windows7</a>
                                
                                    <a href="/tags/wireshark/" class="post-tag tag-link-wireshark"
                                        title="see questions tagged 'wireshark'" rel="tag">wireshark</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>01 Mar '13, 10:30</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/612d4627a1e646a5557ce9657c4aa9cd?s=32&amp;d=identicon&amp;r=g" alt="Jandrysik's gravatar image" />
    <p><a href="/users/4485/jandrysik">Jandrysik</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Jandrysik has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/19049/">
                edited
                <strong>01 Mar '13, 15:13</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=32&amp;d=identicon&amp;r=g" alt="Guy%20Harris's gravatar image" />
            <p><a href="/users/79/guy-harris">Guy Harris ♦♦</a><br/>
            <span class="score" title="17443 reputation points"><span class="">17.4k</span></span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="35 badges"><span class="silver">&#9679;</span><span class="badgecount">35</span></span><span title="196 badges"><span class="bronze">&#9679;</span><span class="badgecount">196</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-19049">
    
        <a name="19068"></a>
        <div class="comment" id="comment-19068">
            <div id="post-19068-score" class="comment-score"></div>
            <div class="comment-text"><p>Hi,</p>

<p>I'm a bit confused when and what did or did not work. Could you please put together two cases where you describe which system was connected to which switch port (just symbolic), who was talking to whom (symbolic names) and what you did see (or not).</p>

<p>Thanks<br>
Kurt</p></div>
            <div class="comment-info" id="comment-19068-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 13:09)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="19073"></a>
        <div class="comment" id="comment-19073">
            <div id="post-19073-score" class="comment-score"></div>
            <div class="comment-text"><p>Kurt,</p>

<p>Here are four cases, two successes and two failures.</p>

<p>Situation:</p>

<p>PC A is pinging Server B and Server C.
Server B and Server C are both on the same network and the same switch.
The switch has a 'many-to-one' port mirror configured to forward all traffic sent and received (Tx/Rx) by Server B and Server C to a monitor port.</p></div>
            <div class="comment-info" id="comment-19073-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:04)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19074"></a>
        <div class="comment" id="comment-19074">
            <div id="post-19074-score" class="comment-score"></div>
            <div class="comment-text"><p>Case 1 - SUCCESS:</p>

<p>A 32-bit Windows XP laptop running Wireshark 1.0.2 is connected to the monitor port on the switch.
The Wireshark capture has promiscuous mode enabled and is using a 5 megabyte buffer but no capture filter.
The Windows firewall is disabled on the laptop.</p>

<p>Wireshark 1.0.2 is able to capture the traffic transmitted and received by Server B and C.</p>

<p>When the IP address of PC A is used as a viewing filter Wireshark displays the pings from PC A to Servers B and C, and the ping replies from Servers B and C to PC A.</p></div>
            <div class="comment-info" id="comment-19074-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:05)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19075"></a>
        <div class="comment" id="comment-19075">
            <div id="post-19075-score" class="comment-score"></div>
            <div class="comment-text"><p>Case 2 - FAILURE:</p>

<p>A 64-bit Windows 7 laptop running Wireshark 1.8.5 is connected to the monitor port on the switch.
The Wireshark capture has promiscuous mode enabled and is using a 5 megabyte buffer but no capture filter.
The Windows firewall is disabled on the laptop.</p>

<p>Wireshark 1.8.5 is ONLY able to capture the traffic transmitted by Servers B and C.</p>

<p>When the IP address of PC A is used as a viewing filter Wireshark ONLY displays the ping replies from Servers B and C to PC A.
Wireshark does NOT display the original pings from PC A to Servers B and C.</p></div>
            <div class="comment-info" id="comment-19075-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:05)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19076"></a>
        <div class="comment" id="comment-19076">
            <div id="post-19076-score" class="comment-score"></div>
            <div class="comment-text"><p>Case 3 - SUCCESS:</p>

<p>A Linux laptop is connected to the monitor port on the switch.</p>

<p>A tcpdump command on the laptop's NIC is able to capture the traffic transmitted and received by Server B and C.</p>

<p>When the tcpdump is run using the IP address of PC A as a filter the capture displays the pings from PC A to Servers B and C, and the ping replies from Servers B and C to PC A.</p></div>
            <div class="comment-info" id="comment-19076-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:06)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19077"></a>
        <div class="comment not_top_scorer" id="comment-19077">
            <div id="post-19077-score" class="comment-score"></div>
            <div class="comment-text"><p>Case 4 - FAILURE:</p>

<p>The Linux monitor server is connected to the monitor port on the switch.</p>

<p>A tcpdump on the Linux monitor server's NIC is ONLY able to capture the traffic transmitted by Servers B and C.</p>

<p>When the tcpdump is run using the IP address of PC A as a filter the capture ONLY displays the ping replies from Servers B and C to PC A.
The capture does NOT display the original pings from PC A to Servers B and C.</p></div>
            <div class="comment-info" id="comment-19077-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:07)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19078"></a>
        <div class="comment not_top_scorer" id="comment-19078">
            <div id="post-19078-score" class="comment-score"></div>
            <div class="comment-text"><p>Our Network Engineers and System Administrators are all scratching their heads on this one.</p>

<p>Please let me know if you have any questions, comments or recommendations regarding this issue.
Thanks!
Jandrys</p></div>
            <div class="comment-info" id="comment-19078-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '13, 15:07)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19089"></a>
        <div class="comment not_top_scorer" id="comment-19089">
            <div id="post-19089-score" class="comment-score"></div>
            <div class="comment-text"><p>How is this Linux monitor server setup? Is it a dedicated platform? Standalone, like the Linux laptop, or part of a regular server, of a virtual machine?</p></div>
            <div class="comment-info" id="comment-19089-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '13, 04:23)</span>
                <a class="comment-user userinfo" href="/users/4/jaap">Jaap ♦</a>
                
            </div>
        </div>
    
        <a name="19122"></a>
        <div class="comment not_top_scorer" id="comment-19122">
            <div id="post-19122-score" class="comment-score"></div>
            <div class="comment-text"><p>The Linux monitor server is a dedicated standalone Red Hat 6 server.</p>

<p>Thanks,
Jandrysik</p></div>
            <div class="comment-info" id="comment-19122-info">
                
                
                
                

                

                <span class="comment-age">(04 Mar '13, 06:13)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19123"></a>
        <div class="comment not_top_scorer" id="comment-19123">
            <div id="post-19123-score" class="comment-score"></div>
            <div class="comment-text"><p>do your captures contain VLAN tags?</p></div>
            <div class="comment-info" id="comment-19123-info">
                
                
                
                

                

                <span class="comment-age">(04 Mar '13, 06:41)</span>
                <a class="comment-user userinfo" href="/users/146/landi">Landi</a>
                
            </div>
        </div>
    
        <a name="19151"></a>
        <div class="comment not_top_scorer" id="comment-19151">
            <div id="post-19151-score" class="comment-score"></div>
            <div class="comment-text"><p>Landi,
No, the two mirrored server ports and the monitor port are all untagged and on the same VLAN.
Thanks, Jandrysik</p></div>
            <div class="comment-info" id="comment-19151-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 06:35)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19153"></a>
        <div class="comment not_top_scorer" id="comment-19153">
            <div id="post-19153-score" class="comment-score"></div>
            <div class="comment-text"><p>Landi,
I pulled up one of the successful captures, checked the IP flags in the packets and did not see any VLAN tags.
Thanks,
Jandrysik</p></div>
            <div class="comment-info" id="comment-19153-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 08:19)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19154"></a>
        <div class="comment not_top_scorer" id="comment-19154">
            <div id="post-19154-score" class="comment-score"></div>
            <div class="comment-text"><p>Our SysAdmin team suspects this is an issue with 64-bit vs 32-bit OS versions.  They are doing some more testing and are going to reload the Linux monitor server with 32-bit OS.</p>

<p>They are also going to re-install Wireshark 1.8.5 on 32-bit Windows laptop to see if it will correctly capture both the transmitted and received traffic from the mirrored ports.</p>

<p>Thanks,
Jandrysik</p></div>
            <div class="comment-info" id="comment-19154-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 09:31)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19171"></a>
        <div class="comment not_top_scorer" id="comment-19171">
            <div id="post-19171-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Our SysAdmin team suspects this is an issue with 64-bit vs 32-bit OS versions. 
They are also going to re-install Wireshark 1.8.5 </p>
</blockquote>

<p>I don't think this problem is related to Wireshark and/or 32/64 Bit, as Case 3 works on a Linux Laptop and Case 4 does not work on another Linux system, both using tcpdump and not Wireshark. </p>

<p>Did you check if the capturing interface negotiated the right speed and duplex with the switch (Gigabit / Full) in Case 2 and 4 (Failure)?</p></div>
            <div class="comment-info" id="comment-19171-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 11:51)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="19175"></a>
        <div class="comment not_top_scorer" id="comment-19175">
            <div id="post-19175-score" class="comment-score"></div>
            <div class="comment-text"><p>Kurt,
That was one of the first things we checked during the captures.  All of the interfaces involved are auto-negotiating at full Gigabit, including on the failed attempts.</p>

<p>Please keep in mind that the failed captures are perfect examples of a Tx / transmit only port mirror capture.  No malformed or partial packets.  They are nice, clean captures of only the transmit traffic.</p>

<p>I would have expected to see malformed packets if there were auto-negotiation problems between the switch monitor port and the laptops / server.</p>

<p>Thanks for the suggestion though!
Jandrysik</p></div>
            <div class="comment-info" id="comment-19175-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 12:28)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19181"></a>
        <div class="comment not_top_scorer" id="comment-19181">
            <div id="post-19181-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Kurt, That was one of the first things we checked during the captures. </p>
</blockquote>

<p>well, just an idea ;-) </p>

<p>Unfortunately this makes no sense at all as there is no common part in the four cases that could cause/explain the problem !??!</p>

<p>What are the Linux versions on the Laptop and on the Monitoring server? What types of  interfaces (brand/modell) did you use on Linux (dmesg | grep eth0)?</p>

<p>BTW: Did you check if a local firewall blocked the packets (as stupid as this may sound).</p>

<p><a href="http://ask.wireshark.org/questions/10377/when-i-capture-ping-test-in-wireshark-i-only-see-the-reply-and-no-request-why">http://ask.wireshark.org/questions/10377/when-i-capture-ping-test-in-wireshark-i-only-see-the-reply-and-no-request-why</a></p></div>
            <div class="comment-info" id="comment-19181-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '13, 12:53)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="19220"></a>
        <div class="comment not_top_scorer" id="comment-19220">
            <div id="post-19220-score" class="comment-score"></div>
            <div class="comment-text"><p>Server is a Dell R720 with the the Broadcom 5720 quad port card.  Server is running RedHat EL 6.4 x64bit.</p>

<p>SysAdmin test laptop is a Dell Latitude E5500 with a Broadcomm 5756.
    4 different OS's</p>

<pre><code>RHEL 6.3 - 32bit  --&gt; Does not work
RHEL 6.3 - 64bit  --&gt; Does not work

Fedora Live 32bit  --&gt;  Works
Fedora Live 64bit  --&gt;  Works
</code></pre>

<p>And yes, the local firewalls are disabled on the laptops and the Linux monitor server.</p>

<p>Thanks again to everyone for the help and suggestions regarding this problem.
Jandrysik</p></div>
            <div class="comment-info" id="comment-19220-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 07:53)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19225"></a>
        <div class="comment not_top_scorer" id="comment-19225">
            <div id="post-19225-score" class="comment-score"></div>
            <div class="comment-text"><p>So, it depends on the OS if tcpdump works, on the <strong>same</strong> hardware? It does not work with RHEL and it works with Fedora? Very strange!! </p>

<p>Do you have any IP configuration on the capturing interfaces in either case? If so, can you please try to disable that IP configuration and run the interface just as a capturing interfaces (cli: ifconfig eth0 0.0.0.0).</p></div>
            <div class="comment-info" id="comment-19225-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 08:38)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="19231"></a>
        <div class="comment not_top_scorer" id="comment-19231">
            <div id="post-19231-score" class="comment-score"></div>
            <div class="comment-text"><p>Kurt,
Yep, this is a odd one.  Different OS running on the exact same hardware and tcpdump either works or fails depending on the OS.</p>

<p>Nope, we do not have an IP configurated on the capturing interfaces on the laptops or the Linux monitor server.</p>

<p>Our SysAdmin is still waiting to hear back from Red Hat regarding this.</p>

<p>Thanks again!
Jandrysik</p></div>
            <div class="comment-info" id="comment-19231-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 09:24)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19234"></a>
        <div class="comment not_top_scorer" id="comment-19234">
            <div id="post-19234-score" class="comment-score"></div>
            <div class="comment-text"><p>can you try CentOS 6.3 instead of RHEL 6.3? Just curios....</p></div>
            <div class="comment-info" id="comment-19234-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 09:52)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="19250"></a>
        <div class="comment not_top_scorer" id="comment-19250">
            <div id="post-19250-score" class="comment-score"></div>
            <div class="comment-text"><p>Kurt, The SysAdmins had a copy of CentOS 6.2 that they tried.  It failed as well...
Thanks,
Jandrysik</p></div>
            <div class="comment-info" id="comment-19250-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 15:08)</span>
                <a class="comment-user userinfo" href="/users/4485/jandrysik">Jandrysik</a>
                
            </div>
        </div>
    
        <a name="19252"></a>
        <div class="comment not_top_scorer" id="comment-19252">
            <div id="post-19252-score" class="comment-score"></div>
            <div class="comment-text"><p>Unbelievable.... Please post the solution to this problem if you ever find it! Thanks Kurt</p></div>
            <div class="comment-info" id="comment-19252-info">
                
                
                
                

                

                <span class="comment-age">(06 Mar '13, 15:29)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-19049" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 22
        </span>
        <a href="#" class="show-all-comments-link">show 17 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-19049-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
        <form id="fmanswer" action="/questions/19049/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='OiXWdIlfG2BkudonPL4rzugxVRbu7JPX' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Be the first one to answer this question!
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/19049/why-can-one-machine-capture-transmit-and-receive-traffic-but-another-machine-only-captures-transmit-traffic-off-of-the-same-port-mirror?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/19049/why-can-one-machine-capture-transmit-and-receive-traffic-but-another-machine-only-captures-transmit-traffic-off-of-the-same-port-mirror?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/wireshark/"
            class="tag-link-wireshark"
            title="see questions tagged'wireshark'using tags"
            rel="tag">wireshark</a> <span class="tag-number">&#215;1,620</span><br/>
        
        <a href="/tags/packets/"
            class="tag-link-packets"
            title="see questions tagged'packets'using tags"
            rel="tag">packets</a> <span class="tag-number">&#215;205</span><br/>
        
        <a href="/tags/windows7/"
            class="tag-link-windows7"
            title="see questions tagged'windows7'using tags"
            rel="tag">windows7</a> <span class="tag-number">&#215;103</span><br/>
        
        <a href="/tags/received/"
            class="tag-link-received"
            title="see questions tagged'received'using tags"
            rel="tag">received</a> <span class="tag-number">&#215;5</span><br/>
        
        <a href="/tags/transmits/"
            class="tag-link-transmits"
            title="see questions tagged'transmits'using tags"
            rel="tag">transmits</a> <span class="tag-number">&#215;4</span><br/>
        
    </p>
    <p>
        question asked: <strong title="March 1, 2013, 10:30 a.m.">01 Mar '13, 10:30</strong>
    </p>
    <p> 
     	question was seen: <strong>3,815 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 6, 2013, 3:29 p.m.">06 Mar '13, 15:29</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/23451/how-can-i-tell-if-my-connection-is-encrypted">How can I tell if my connection is encrypted?</a>
        </p>
        
        <p>
            <a href="/questions/8460/wireshark-host-file-trouble-with-windows-7">Wireshark host file trouble with Windows 7</a>
        </p>
        
        <p>
            <a href="/questions/34553/cumulative-bytes">Cumulative Bytes</a>
        </p>
        
        <p>
            <a href="/questions/45095/wireshark-development-approach-for-starters">Wireshark Development Approach For starters</a>
        </p>
        
        <p>
            <a href="/questions/23333/providing-each-packet-to-wireshark-using-command-line">Providing each packet to wireshark using command line</a>
        </p>
        
        <p>
            <a href="/questions/49177/can-i-see-all-traffic-on-wifi">Can i see all traffic on WIFi?</a>
        </p>
        
        <p>
            <a href="/questions/3862/what-are-the-interfaces-in-wireshark-that-i-should-use-to-analyse-rpl-packets-installed-on-motes">what are the interfaces (in wireshark) that I should use to analyse RPL packets installed on motes?</a>
        </p>
        
        <p>
            <a href="/questions/19129/listening-to-wireless-traffic-through-wired-connection-to-router">Listening to wireless traffic through wired connection to router</a>
        </p>
        
        <p>
            <a href="/questions/28730/i-have-a-virtual-machine-with-vpn-how-can-i-split-traffic-in-wireshark-between-my-host-and-vm">I have a virtual machine with VPN - how can i split traffic in wireshark between my host and VM?</a>
        </p>
        
        <p>
            <a href="/questions/50844/cant-capture-all-packets-from-my-iphone">can&#39;t capture all packets from my iPhone</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
