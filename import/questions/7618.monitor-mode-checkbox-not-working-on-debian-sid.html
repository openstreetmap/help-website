<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Monitor mode checkbox not working on Debian Sid - Wireshark Q&amp;A</title>
        <meta name="description" content="Hello, I&#39;m using Debian, when I go to &quot;Capture Options&quot; and select the wlan0 interface, if I try to set it to monitor mode clicking on the checkbox &quot;Capture packets in monitor mode&quot;, the &quot;Link-layer header type&quot; menu blinks for a second and the checkbox remains blank. The &quot;Link-layer header type&quot; me..." />
        <meta name="keywords" content="capture,debian,options,monitor" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='MrTJprhPCqI1oM8DRfqBWkeS0wzpEvJ0' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid">Monitor mode checkbox not working on Debian Sid</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-7618-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/7618/up/" rel="nofollow"> </a>
<div id="post-7618-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-7618-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/7618/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/7618/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello, I'm using Debian, when I go to "Capture Options" and select the wlan0 interface, if I try to set it to monitor mode clicking on the checkbox "Capture packets in monitor mode", the "Link-layer header type" menu blinks for a second and the checkbox remains blank. The "Link-layer header type" menu shows only two options: "Ethernet" and "DOCSIS", with both options the monitor mode checkbox has the same behaviour. If I do the following:</p>
<pre><code>ifconfig wlan0 down
iwconfig wlan0 mode monitor
ifconfig wlan0 up
</code></pre>
<p>then the only option in the "Link-layer header type" menu is "802.11 plus radiotap header" but the behaviour of the monitor checkbox remains the same.
Does anyone have any idea about what the problem is?
Thanks in advance.</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/capture/" class="post-tag tag-link-capture"
                                        title="see questions tagged 'capture'" rel="tag">capture</a>
                                
                                    <a href="/tags/debian/" class="post-tag tag-link-debian"
                                        title="see questions tagged 'debian'" rel="tag">debian</a>
                                
                                    <a href="/tags/options/" class="post-tag tag-link-options"
                                        title="see questions tagged 'options'" rel="tag">options</a>
                                
                                    <a href="/tags/monitor/" class="post-tag tag-link-monitor"
                                        title="see questions tagged 'monitor'" rel="tag">monitor</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>24 Nov '11, 17:38</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/25d342de5f9c3ef87c9520833bcf527f?s=32&amp;d=identicon&amp;r=g" alt="Rael's gravatar image" />
    <p><a href="/users/1922/rael">Rael</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Rael has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/7618/">
                edited
                <strong>08 Dec '11, 01:56</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=32&amp;d=identicon&amp;r=g" alt="Guy%20Harris's gravatar image" />
            <p><a href="/users/79/guy-harris">Guy Harris ♦♦</a><br/>
            <span class="score" title="17443 reputation points"><span class="">17.4k</span></span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="35 badges"><span class="silver">&#9679;</span><span class="badgecount">35</span></span><span title="196 badges"><span class="bronze">&#9679;</span><span class="badgecount">196</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-7618">
    
        <a name="7619"></a>
        <div class="comment" id="comment-7619">
            <div id="post-7619-score" class="comment-score"></div>
            <div class="comment-text"><p>Maybe it's important to add that I have the following wireless interface:</p>

<p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e29083878ea2878787">[email&#160;protected]</a>:~$ lspci </p>

<p>[...]</p>

<p>02:00.0 Ethernet controller: Atheros Communications Inc. AR242x / AR542x Wireless Network Adapter (PCI-Express) (rev 01) </p>

<p>and I'm using the ath5k module which should support monitor mode, according to this list <a href="http://linuxwireless.org/en/users/Drivers">http://linuxwireless.org/en/users/Drivers</a></p></div>
            <div class="comment-info" id="comment-7619-info">
                
                
                
                

                

                <span class="comment-age">(24 Nov '11, 18:03)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7623"></a>
        <div class="comment" id="comment-7623">
            <div id="post-7623-score" class="comment-score"></div>
            <div class="comment-text"><p>Debian lenny, squeeze, wheezy or sid ?</p>

<p>Wireshark from Debian repo or own build? 1.0.2, 1.2.11 or 1.6.3?</p></div>
            <div class="comment-info" id="comment-7623-info">
                
                
                
                

                

                <span class="comment-age">(24 Nov '11, 23:48)</span>
                <a class="comment-user userinfo" href="/users/4/jaap">Jaap ♦</a>
                
            </div>
        </div>
    
        <a name="7628"></a>
        <div class="comment" id="comment-7628">
            <div id="post-7628-score" class="comment-score"></div>
            <div class="comment-text"><p>Debian sid, Wireshark from Debian repo. I'm quite sure it's 1.6.3 but I do not have access to my machine at the moment so I can't check.</p></div>
            <div class="comment-info" id="comment-7628-info">
                
                
                
                

                

                <span class="comment-age">(25 Nov '11, 04:17)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7751"></a>
        <div class="comment" id="comment-7751">
            <div id="post-7751-score" class="comment-score"></div>
            <div class="comment-text"><p>So what happens if you turn monitor mode off with <code>iwconfig</code> and then install aircrack-ng (the current version for unstable is 1.0~rc3-2) and run <code>airmon-ng start wlan0</code>.  Let us know what it prints and, if it prints "(monitor mode enabled on mon0)" amongst its output, try capturing on <code>mon0</code> rather than <code>wlan0</code>.</p></div>
            <div class="comment-info" id="comment-7751-info">
                
                
                
                

                

                <span class="comment-age">(02 Dec '11, 18:40)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7757"></a>
        <div class="comment not_top_scorer" id="comment-7757">
            <div id="post-7757-score" class="comment-score"></div>
            <div class="comment-text"><p>It prints 3 applications that might interact with the card in monitor mode (NetworkManager, dhclient and wpa_supplicant), so I ran "airmon-ng stop mon0", killed the 3 applications and ran "airmon-ng start wlan0" again. In the capture options for mon0 the "Link-layer header type" menu says "Not supported" and the monitor mode checkbox is grey and it is impossible to select it.</p></div>
            <div class="comment-info" id="comment-7757-info">
                
                
                
                

                

                <span class="comment-age">(03 Dec '11, 17:55)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7758"></a>
        <div class="comment" id="comment-7758">
            <div id="post-7758-score" class="comment-score">1</div>
            <div class="comment-text"><p>So what happens if you restart the three applications, do <code>airmon-ng start wlan0</code>, <em>don't</em> kill any of the applications, start up Wireshark, do Capture -&gt; Options, <em>IGNORE</em> the "Monitor mode" checkbox, and try capturing on <code>mon0</code>?</p></div>
            <div class="comment-info" id="comment-7758-info">
                
                
                
                

                

                <span class="comment-age">(03 Dec '11, 20:52)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7761"></a>
        <div class="comment not_top_scorer" id="comment-7761">
            <div id="post-7761-score" class="comment-score"></div>
            <div class="comment-text"><p>It looks like it works! Thank you very much.</p></div>
            <div class="comment-info" id="comment-7761-info">
                
                
                
                

                

                <span class="comment-age">(04 Dec '11, 03:35)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7779"></a>
        <div class="comment not_top_scorer" id="comment-7779">
            <div id="post-7779-score" class="comment-score"></div>
            <div class="comment-text"><p>What does <code>ldd /usr/lib/libpcap.so</code> print?</p></div>
            <div class="comment-info" id="comment-7779-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 14:23)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7781"></a>
        <div class="comment not_top_scorer" id="comment-7781">
            <div id="post-7781-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ef9d8e8a83af9d8e8a83">[email&#160;protected]</a># ldd /usr/lib/libpcap.so</p>

<p>ldd: /usr/lib/libpcap.so: File o directory non esistente</p>

<p>which is italian for "File not found"</p></div>
            <div class="comment-info" id="comment-7781-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 16:08)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7782"></a>
        <div class="comment not_top_scorer" id="comment-7782">
            <div id="post-7782-score" class="comment-score"></div>
            <div class="comment-text"><p>So what does <code>ls /usr/lib/libpcap.*</code> print?</p></div>
            <div class="comment-info" id="comment-7782-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 17:10)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7783"></a>
        <div class="comment not_top_scorer" id="comment-7783">
            <div id="post-7783-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3e4c5f5b527e4c5f5b52">[email&#160;protected]</a># ls /usr/lib/libpcap.*</p>

<p>ls: impossibile accedere a /usr/lib/libpcap.*: File o directory non esistente</p>

<p>in english: "ls: unable to access /usr/lib/libpcap.*: File not found"</p></div>
            <div class="comment-info" id="comment-7783-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 17:28)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7785"></a>
        <div class="comment not_top_scorer" id="comment-7785">
            <div id="post-7785-score" class="comment-score"></div>
            <div class="comment-text"><p>OK, what is printed if you run <code>ldd</code> on the <code>dumpcap</code> executable that is installed as part of Wireshark?  Libpcap has to be hidden <em>somewhere</em> in order to allow Wireshark to capture network traffic at all.</p></div>
            <div class="comment-info" id="comment-7785-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 18:06)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7786"></a>
        <div class="comment not_top_scorer" id="comment-7786">
            <div id="post-7786-score" class="comment-score"></div>
            <div class="comment-text"><p>Where can I find the dumpcap executable installed as part of Wireshark?</p></div>
            <div class="comment-info" id="comment-7786-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 18:20)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7787"></a>
        <div class="comment not_top_scorer" id="comment-7787">
            <div id="post-7787-score" class="comment-score"></div>
            <div class="comment-text"><p>It should be in the same directory as the Wireshark executable.</p></div>
            <div class="comment-info" id="comment-7787-info">
                
                
                
                

                

                <span class="comment-age">(05 Dec '11, 18:27)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7797"></a>
        <div class="comment not_top_scorer" id="comment-7797">
            <div id="post-7797-score" class="comment-score"></div>
            <div class="comment-text"><p>Ok:</p>

<p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="74061511183406151118">[email&#160;protected]</a># which wireshark</p>

<p>/usr/bin/wireshark</p>

<p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b7c5d6d2dbf7c5d6d2db">[email&#160;protected]</a># ldd /usr/bin/dumpcap</p>

<pre><code>linux-vdso.so.1 =&gt;  (0x00007fff66dff000)
libwsutil.so.1 =&gt; /usr/lib/libwsutil.so.1 (0x00007fd23aedf000)
libgthread-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0 (0x00007fd23acda000)
libglib-2.0.so.0 =&gt; /lib/x86_64-linux-gnu/libglib-2.0.so.0 (0x00007fd23a9e3000)
libpcap.so.0.8 =&gt; /usr/lib/x86_64-linux-gnu/libpcap.so.0.8 (0x00007fd23a7ac000)
libcap.so.2 =&gt; /lib/libcap.so.2 (0x00007fd23a5a7000)
libz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007fd23a38e000)
</code></pre>

<p>[...continues on next comment...]</p></div>
            <div class="comment-info" id="comment-7797-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 04:58)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7798"></a>
        <div class="comment not_top_scorer" id="comment-7798">
            <div id="post-7798-score" class="comment-score"></div>
            <div class="comment-text"><p>[...continues from previous comment...]</p>

<pre><code>libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fd23a171000)
libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fd239dd2000)
librt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007fd239bc9000)
libpcre.so.3 =&gt; /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007fd23998d000)
/lib64/ld-linux-x86-64.so.2 (0x00007fd23b312000)
</code></pre></div>
            <div class="comment-info" id="comment-7798-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 04:59)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7805"></a>
        <div class="comment not_top_scorer" id="comment-7805">
            <div id="post-7805-score" class="comment-score"></div>
            <div class="comment-text"><p>OK, I guess Sid is using a different pathname scheme for libraries, presumably to better handle running both 32-bit and 64-bit binaries on the same machine.  I vaguely remember reading something about Debian adopting a scheme such as that.</p>

<p>What does <code>ldd /usr/lib/x86_64-linux-gnu/libpcap.so.0.8</code> print?</p></div>
            <div class="comment-info" id="comment-7805-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 10:00)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="7809"></a>
        <div class="comment not_top_scorer" id="comment-7809">
            <div id="post-7809-score" class="comment-score"></div>
            <div class="comment-text"><p>/usr/lib/x86_64-linux-gnu/ is an empty directory, the system is 32 bit so I found the file you suggested inside /usr/lib/i386-linux-gnu, the command prints the following:</p>

<pre><code><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="84f6e5e1e8c4f6e5e1e8">[email&#160;protected]</a># ldd /usr/lib/i386-linux-gnu/libpcap.so.0.8
linux-gate.so.1 =&gt; (0xb7703000)
libc.so.6 =&gt; /lib/i386-linux-gnu/i686/cmov/libc.so.6 (0xb755e000)
/lib/ld-linux.so.2 (0xb7704000)
</code></pre></div>
            <div class="comment-info" id="comment-7809-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 16:25)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7810"></a>
        <div class="comment not_top_scorer" id="comment-7810">
            <div id="post-7810-score" class="comment-score"></div>
            <div class="comment-text"><p>How can I format my command line output to make it look clearer here?</p></div>
            <div class="comment-info" id="comment-7810-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 16:27)</span>
                <a class="comment-user userinfo" href="/users/1922/rael">Rael</a>
                
            </div>
        </div>
    
        <a name="7813"></a>
        <div class="comment not_top_scorer" id="comment-7813">
            <div id="post-7813-score" class="comment-score"></div>
            <div class="comment-text"><p>I'm not sure what "clearer" means; if you mean "how can I make it look like something in a terminal emulator", just put 4 spaces before each line.  The syntax used in sites using <a href="http://www.osqa.net/">OSQA</a>, such as ask.wireshark.org, is <a href="http://daringfireball.net/projects/markdown/syntax">markdown</a>, and the syntax for <a href="http://daringfireball.net/projects/markdown/syntax#precode">code blocks</a> is 4-space indentation.</p></div>
            <div class="comment-info" id="comment-7813-info">
                
                
                
                

                

                <span class="comment-age">(06 Dec '11, 22:27)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="8171"></a>
        <div class="comment not_top_scorer" id="comment-8171">
            <div id="post-8171-score" class="comment-score"></div>
            <div class="comment-text"><p>I have exactly the same problem (running on linux mint which is an ubuntu dist., wireshark v1.4.6, installed it just a week ago). Using wlan0, I can only monitor my own traffic. Tried to check the "capture in monitor mode", it blinks and remains blank. Tried to enable the monitor mode via airmon-ng so I get the mon0 interface, I can use it but it does not scan http traffic, shows only IEEE 802.11 as protocol during scanning, and again the "capture in monitor mode" option does not work. Is there something I can do? </p></div>
            <div class="comment-info" id="comment-8171-info">
                
                
                
                

                

                <span class="comment-age">(01 Jan '12, 12:25)</span>
                <a class="comment-user userinfo" href="/users/2045/john-mech">John mech</a>
                
            </div>
        </div>
    
        <a name="8172"></a>
        <div class="comment not_top_scorer" id="comment-8172">
            <div id="post-8172-score" class="comment-score"></div>
            <div class="comment-text"><p>Sorry for posting this as an answer, I'm new :P</p></div>
            <div class="comment-info" id="comment-8172-info">
                
                
                
                

                

                <span class="comment-age">(01 Jan '12, 17:14)</span>
                <a class="comment-user userinfo" href="/users/2045/john-mech">John mech</a>
                
            </div>
        </div>
    
        <a name="8174"></a>
        <div class="comment not_top_scorer" id="comment-8174">
            <div id="post-8174-score" class="comment-score"></div>
            <div class="comment-text"><p>@John, You should <a href="http://ask.wireshark.org/questions/ask/">ask a new question</a> instead of piggy-backing off this one. You can always reference this question from your new question. Plus, your question-comment is buried under a mound of comments, so you're less likely to get an answer here.</p></div>
            <div class="comment-info" id="comment-8174-info">
                
                
                
                

                

                <span class="comment-age">(01 Jan '12, 18:19)</span>
                <a class="comment-user userinfo" href="/users/817/helloworld">helloworld</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-7618" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 23
        </span>
        <a href="#" class="show-all-comments-link">show 18 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-7618-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="7814"></a>
                    <div id="answer-container-7814" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-7814-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/7814/up/" rel="nofollow"> </a>
<div id="post-7814-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-7814-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/7814/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="Rael has selected this answer as the correct answer"
        href="/accept_answer/7814/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>OK, this is a combination of several problems:</p>
<ol>
<li>
<p>Debian sid does not build libpcap 1.1.1 with libnl, which  means that libpcap's monitor-mode APIs don't support the Shiny New mac80211 Mechanism, and end up using the old Wireless Extensions stuff;</p>
</li>
<li>
<p>libpcap 1.1.1's code to use the old Wireless Extension stuff to handle monitor mode had a number of bugs, which means that its monitor-mode APIs don't work correctly when using the old Wireless Extension stuff, and cause dumpcap to report an error;</p>
</li>
<li>
<p>Wireshark wasn't reporting the error it got from dumpcap in that case - it was briefly disabling the "monitor mode" checkbox (because its attempt to get information such as the link-layer header types in monitor mode failed because libpcap couldn't put the interface in monitor mode), then clearing the checkbox (because it failed to put the interface in monitor mode), and then re-enabling it (because the API it originally used to check whether monitor mode was supported <em>without</em> actually attempting to put the interface into monitor mode said monitor mode <em>is</em> supported).</p>
</li>
</ol>
<p>I've checked into the trunk and 1.6 branches a fix for the third problem; it should now pop up an error message box if you try to check the monitor mode checkbox on platforms with the libpcap problems in question.  The error message will refer you to the <a href="http://wiki.wireshark.org/CaptureSetup/WLAN">CaptureSetup/WLAN</a> page in the Wireshark Wiki, but it should really specifically refer you to <a href="http://wiki.wireshark.org/CaptureSetup/WLAN#Linux">the Linux section of that page</a>.  I'll fix it to do so later.  The 1.6 branch changes should also go into 1.4, so they show up in the next 1.4.x release as well as the next 1.6.x release.</p>
<p>I've checked into the libpcap trunk and 1.2 branches a fix for the second problem, so they should show up in any future 1.2.x release (there are enough bug fixes that tcpdump.org should consider doing a 1.2.x release - and announce it so that various OSes pick it up) as well as any 1.3.0 release when it comes out.  When that'll happen, I don't know, and I don't know whether any of the Linux distributions with this issue would pick it up as an update to existing releases or whether you'd have to wait for a future release. Given that anything short of Sid appears to have Wireshark 1.<em>2</em>.x as the Wireshark version, people who run into this are probably building Wireshark from source anyway, so they might end up picking up the fix for the third problem - monitor mode won't work well with the checkbox or the <code>-I</code> option, but at least it'll let you know something went wrong and point you at the Wireshark Wiki, which suggests using airmon-ng in that case.</p>
<p>I've sent mail to Romain Francoise, the Debian maintainer for libpcap, about the first problem.  Hopefully the fix is as simple as declaring libnl to be one of libpcap's dependencies.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/7814/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>06 Dec '11, 22:42</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=32&amp;d=identicon&amp;r=g" alt="Guy%20Harris's gravatar image" />
    <p><a href="/users/79/guy-harris">Guy Harris ♦♦</a><br/>
    <span class="score" title="17443 reputation points"><span class="">17.4k</span></span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="35 badges"><span class="silver">&#9679;</span><span class="badgecount">35</span></span><span title="196 badges"><span class="bronze">&#9679;</span><span class="badgecount">196</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Guy Harris has 216 accepted answers">19&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-7814">
    
</div>
<div id="comment-tools-7814" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-7814-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/7618/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='MrTJprhPCqI1oM8DRfqBWkeS0wzpEvJ0' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/7618/monitor-mode-checkbox-not-working-on-debian-sid?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/capture/"
            class="tag-link-capture"
            title="see questions tagged'capture'using tags"
            rel="tag">capture</a> <span class="tag-number">&#215;549</span><br/>
        
        <a href="/tags/monitor/"
            class="tag-link-monitor"
            title="see questions tagged'monitor'using tags"
            rel="tag">monitor</a> <span class="tag-number">&#215;86</span><br/>
        
        <a href="/tags/options/"
            class="tag-link-options"
            title="see questions tagged'options'using tags"
            rel="tag">options</a> <span class="tag-number">&#215;16</span><br/>
        
        <a href="/tags/debian/"
            class="tag-link-debian"
            title="see questions tagged'debian'using tags"
            rel="tag">debian</a> <span class="tag-number">&#215;12</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Nov. 24, 2011, 5:38 p.m.">24 Nov '11, 17:38</strong>
    </p>
    <p> 
     	question was seen: <strong>7,295 times</strong>
    </p>
    <p> 
        last updated: <strong title="Jan. 1, 2012, 6:19 p.m.">01 Jan '12, 18:19</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/42385/monitor-device">Monitor Device</a>
        </p>
        
        <p>
            <a href="/questions/19973/promiscuous-mode-on-wlan">promiscuous mode on WLAN</a>
        </p>
        
        <p>
            <a href="/questions/54074/capture-5ghz-wifi-traffic-for-a-40mhz-width-channel">Capture 5GHz WiFi traffic for a 40MHz width channel.</a>
        </p>
        
        <p>
            <a href="/questions/39127/cannot-capture-android-http-traffic">Cannot capture Android http traffic</a>
        </p>
        
        <p>
            <a href="/questions/2735/capture-filter-remains-in-capture-options-after-removingreinstalling">Capture filter remains in capture options after removing/reinstalling</a>
        </p>
        
        <p>
            <a href="/questions/49615/not-capturing-any-data-packets-in-monitor-mode">Not capturing any data packets in monitor mode</a>
        </p>
        
        <p>
            <a href="/questions/49699/how-can-a-dissector-or-tap-recognize-if-data-is-from-live-capture-or-loading-a-file">How can a dissector or tap recognize if data is from live capture or loading a file?</a>
        </p>
        
        <p>
            <a href="/questions/41465/unable-to-monitor-http-packets-over-the-network">Unable to monitor http packets over the network</a>
        </p>
        
        <p>
            <a href="/questions/1882/capture-data-from-other-computers-in-the-network">Capture data from other computers in the network?</a>
        </p>
        
        <p>
            <a href="/questions/16139/capture-session-could-not-be-initiated-but-then-it-can-be">&quot;Capture session could not be initiated&quot;, but then it can be</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
