<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Are there conditions that can cause Wireshark to &quot;drop&quot; packets? - Wireshark Q&amp;A</title>
        <meta name="description" content="Hi, I&#39;m using Wireshark 1.8.9 on SLES11 SP1. The environment it is being used in is a lab with very low latencies (~3ms). I&#39;m capturing sequences of packets that consist of sending a single ping to the outside world through 8 sequential collection points, expecting the result of the capture to alway..." />
        <meta name="keywords" content="intermittent,refresh,packetloss" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='ztNhHqNDJivpLV3DeOMZtq6RyBVgBV2K' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets">Are there conditions that can cause Wireshark to &quot;drop&quot; packets?</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-25391-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/25391/up/" rel="nofollow"> </a>
<div id="post-25391-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-25391-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/25391/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/25391/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hi,</p>
<p>I'm using Wireshark 1.8.9 on SLES11 SP1.
The environment it is being used in is a lab with very low latencies (~3ms). I'm capturing sequences of packets that consist of sending a single ping to the outside world through 8 sequential collection points, expecting the result of the capture to always consist of 16 packets. Wireshark is reading directly from a single NIC which is supplying the traffic from the 8 collection points.</p>
<p>After a lot of testing, I've discovered that I don't always collect 16 packets in Wireshark. In a typical test run of 300 pings, I might only get ~450 packets instead of the expected 480. This seems to happen ~80% of the time.</p>
<p>However, if I switch to using "tcpdump -n -s 0 -i NIC -w File.pcap", I find that I consistently capture all 480 packets.</p>
<p>Can someone explain, or speculate, on what might cause this?</p>
<p>I've already tried turning promiscuous mode on/off as well as delaying the display of packets until the end of the capture.</p>
<p>Thanks!</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/intermittent/" class="post-tag tag-link-intermittent"
                                        title="see questions tagged 'intermittent'" rel="tag">intermittent</a>
                                
                                    <a href="/tags/refresh/" class="post-tag tag-link-refresh"
                                        title="see questions tagged 'refresh'" rel="tag">refresh</a>
                                
                                    <a href="/tags/packetloss/" class="post-tag tag-link-packetloss"
                                        title="see questions tagged 'packetloss'" rel="tag">packetloss</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>30 Sep '13, 08:26</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/bddcc1f355a85cf062d811abe24cd285?s=32&amp;d=identicon&amp;r=g" alt="mlampell's gravatar image" />
    <p><a href="/users/327/mlampell">mlampell</a><br/>
    <span class="score" title="21 reputation points">21</span><span title="2 badges"><span class="badge1">&#9679;</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">&#9679;</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mlampell has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-25391">
    
        <a name="25395"></a>
        <div class="comment" id="comment-25395">
            <div id="post-25395-score" class="comment-score">1</div>
            <div class="comment-text"><p>Do you lose packets if you use dumpcap directly to do the capture ?</p>

<p>Dumpcap is the 'capture' part of Wireshark. It just captures to a file w/o doing any dissection; The file can then be read by Wireshark.</p>

<p>See the dumpcap man page for all the details as to command-line options, etc.</p>

<pre><code>"dumpcap -i NIC -P -w file.pcap"
</code></pre>

<p>will create a .pcap file.  (-P forces pcap format instead of pcapng format).</p>

<p>Also: what is the speed of your network ?</p></div>
            <div class="comment-info" id="comment-25395-info">
                
                
                
                

                

                <span class="comment-age">(30 Sep '13, 08:45)</span>
                <a class="comment-user userinfo" href="/users/22/bill-meier">Bill Meier ♦♦</a>
                
            </div>
        </div>
    
        <a name="25423"></a>
        <div class="comment" id="comment-25423">
            <div id="post-25423-score" class="comment-score">1</div>
            <div class="comment-text"><blockquote>
<p>I might only get ~450 packets instead of the expected 480.</p>
</blockquote>

<p>those missing packets: Are they at the beginning, at the end or just randomly distributed in the capture file?</p>

<blockquote>
<p>I'm using Wireshark 1.8.9 on SLES11 SP1.</p>
</blockquote>

<p>Is that real hardware or a virtual machine?</p></div>
            <div class="comment-info" id="comment-25423-info">
                
                
                
                

                

                <span class="comment-age">(30 Sep '13, 14:56)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25432"></a>
        <div class="comment" id="comment-25432">
            <div id="post-25432-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for both comments. Here are some answers:</p>

<ul>
<li>
<p>yes, I lose packets with dumpcap, both with -p and without -p. The pattern is similar to that which I get using wireshark directly. The only application that doesn't appear to lose any packets is tcpdump.</p>
</li>
<li>
<p>the network is running at 1 Gbps. The timing between the packets is very close, to within a few tens of microseconds, e.g:</p>
</li>
</ul>

<p>1  2013-09-30 19:36:47.857667000</p>

<p>2  2013-09-30 19:36:47.857755000</p>

<p>3  2013-09-30 19:36:47.858032000</p>

<p>4  2013-09-30 19:36:47.858360000</p>

<p>5  2013-09-30 19:36:47.858409000</p>

<p>6  2013-09-30 19:36:47.858605000</p>

<p>7  2013-09-30 19:36:47.873108000</p>

<p>8  2013-09-30 19:36:47.873142000</p>

<p>9  2013-09-30 19:36:47.873452000</p>

<p>10 2013-09-30 19:36:47.873528000</p>

<ul>
<li>
<p>the "missing" packets are occurring throughout the capture, they don't appear to occur in any pattern</p>
</li>
<li>
<p>this is real hardware, not a VM</p>
</li>
</ul>

<p>And a question/theory:</p>

<p>Is it possible that the times are so close that some of the messages are being interpreted by Wireshark/dumpcap as occurring <em>in the past</em> and therefore being discarded by Wireshark?</p>

<p>If so, why would this behavior not happen with tcpdump?</p>

<p>Thanks for your help!</p></div>
            <div class="comment-info" id="comment-25432-info">
                
                
                
                

                

                <span class="comment-age">(30 Sep '13, 18:19)</span>
                <a class="comment-user userinfo" href="/users/327/mlampell">mlampell</a>
                
            </div>
        </div>
    
        <a name="25454"></a>
        <div class="comment" id="comment-25454">
            <div id="post-25454-score" class="comment-score">2</div>
            <div class="comment-text"><blockquote>
<p>yes, I lose packets with dumpcap, </p>
</blockquote>

<p>does dumpcap print any message about dropped packets after you stopped it? Can you please post that message?</p>

<blockquote>
<p>Is it possible that the times are so close that some of the messages are being interpreted by Wireshark/dumpcap as occurring in the past and therefore being discarded by Wireshark?</p>
</blockquote>

<p>No, Wireshark will not throw away any packet due to that reason.</p>

<blockquote>
<p>If so, why would this behavior not happen with tcpdump?</p>
</blockquote>

<p>That's the key question here. Maybe your dumpcap is linked to a different libpcap. </p>

<p>Can you please post the output of the following commands?</p>

<blockquote>
<p>ldd `which tcpdump`<br>
ldd `which dumpcap`</p>
</blockquote></div>
            <div class="comment-info" id="comment-25454-info">
                
                
                
                

                

                <span class="comment-age">(01 Oct '13, 03:15)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25475"></a>
        <div class="comment" id="comment-25475">
            <div id="post-25475-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/327/mlampell"></a><a href="/users/327/mlampell"></a><a href="/users/327/mlampell"></a><a href="/users/327/mlampell">@mlampell</a>: Please add a dummy comment (just a few words). I will paste the ldd output you sent me into that comment.</p>

<p>O.K. I'm posting this on behalf of <a href="/users/327/mlampell"></a><a href="/users/327/mlampell"></a><a href="/users/327/mlampell"></a><a href="/users/327/mlampell">@mlampell</a> as the system treats him as spammer right now (maybe to many tries to post a link !?!)</p>

<p></p><hr>
<pre>Output when I stop dumpcap:
&gt;dumpcap -iVNIC3 -s0 -w 300dumpcap3.pcap Capturing on VNIC3
File: 300dumpcap3.pcap
Packets captured: 4662
Packets received/<b>dropped</b> on interface VNIC3: 4662/<b>138</b> (97.1%)<p></p>
<p>Output from the ldd commands:
&gt; ldd <code>which tcpdump</code>
        linux-vdso.so.1 =&gt;  (0x00007fff2ddff000)
        libpcap.so.0 =&gt; /usr/lib64/libpcap.so.0 (0x00007fc8d8514000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007fc8d81b6000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fc8d874a000) </p>
<p>&gt; ldd <code>which dumpcap</code>
        linux-vdso.so.1 =&gt;  (0x00007fff8c1ff000)
        libwsutil.so.2 =&gt; /usr/local/lib/libwsutil.so.2 (0x00007f65afae5000)
        libgthread-2.0.so.0 =&gt; /usr/lib64/libgthread-2.0.so.0 (0x00007f65af8e0000)
        libglib-2.0.so.0 =&gt; /usr/lib64/libglib-2.0.so.0 (0x00007f65af61a000)
        libpcap.so.0 =&gt; /usr/lib64/libpcap.so.0 (0x00007f65af3e4000)
        libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f65af1ce000)
        libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f65aefb1000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f65aec53000)
        librt.so.1 =&gt; /lib64/librt.so.1 (0x00007f65aea4a000)
        libgmodule-2.0.so.0 =&gt; /usr/lib64/libgmodule-2.0.so.0 (0x00007f65ae846000)
        libpcre.so.0 =&gt; /usr/lib64/libpcre.so.0 (0x00007f65ae616000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f65afceb000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f65ae412000)
</p></pre><p></p></div>
            <div class="comment-info" id="comment-25475-info">
                
                
                
                

                

                <span class="comment-age">(01 Oct '13, 08:30)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25476"></a>
        <div class="comment not_top_scorer" id="comment-25476">
            <div id="post-25476-score" class="comment-score"></div>
            <div class="comment-text"><p>O.K. The path to libpcap is that same, so the difference between the behavior of tcpdump and dumpcap is probably not related to that.</p>

<p>As you can see, dumpcap indeed drops packets. Maybe there is simply too much traffic, so dumpcap was not able to write every frame to disk. Please use capture filters to reduce the amount a captured packets. The capture filter syntax is the same as with tcpdump.</p>

<blockquote>
<p>dumpcap -ni VNIC3 -s0 -w 300dumpcap3.pcap -f "host x.x.x.x and port yyyy"</p>
</blockquote>

<p>BTW: What is VNIC3? How is that interface defined on your system?</p></div>
            <div class="comment-info" id="comment-25476-info">
                
                
                
                

                

                <span class="comment-age">(01 Oct '13, 08:40)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25511"></a>
        <div class="comment not_top_scorer" id="comment-25511">
            <div id="post-25511-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>Re: Kurt\'s suggestion, I can\'t limit the traffic any further; the only traffic being captured is the 16 ping messages.</p>
</blockquote>

<p>O.K. if I look at the output of dumpcap, there is no plausible reason why it drops 3% of the packets if there are only 4662 packtes !?!</p>

<blockquote>
<p>Packets received/dropped on interface VNIC3: 4662/138 (97.1%)</p>
</blockquote></div>
            <div class="comment-info" id="comment-25511-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 07:18)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25515"></a>
        <div class="comment not_top_scorer" id="comment-25515">
            <div id="post-25515-score" class="comment-score"></div>
            <div class="comment-text"><p>The only reason I can imagine for the dropped packets: Some of those 4662 frames are hitting the sniffer interface in a very, very short period of time and thus flooding the capture buffer. If you look at the IO graphs, do you see a (large) spike somewhere?</p></div>
            <div class="comment-info" id="comment-25515-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 07:44)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25517"></a>
        <div class="comment not_top_scorer" id="comment-25517">
            <div id="post-25517-score" class="comment-score"></div>
            <div class="comment-text"><p>Hello Kurt, thanks for the input. By the way, I created a new login, mlampell2, to allow me to continue posting...</p>

<p>I don't see any spikes, and I'm still confused about why now both tcpdump and dumpcap are capturing all the packets, yet some are lost during the "transfer" to the Wireshark GUI. Any ideas for how to troubleshoot this further?</p></div>
            <div class="comment-info" id="comment-25517-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 07:52)</span>
                <a class="comment-user userinfo" href="/users/5797/mlampell2">mlampell2</a>
                
            </div>
        </div>
    
        <a name="25536"></a>
        <div class="comment not_top_scorer" id="comment-25536">
            <div id="post-25536-score" class="comment-score"></div>
            <div class="comment-text"><p>I'll convert some comments to answers. Plesse accept the answer of Bill Meier. If you like, you can up vote my answer.</p></div>
            <div class="comment-info" id="comment-25536-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 09:36)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-25391" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 10
        </span>
        <a href="#" class="show-all-comments-link">show 5 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-25391-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="25478"></a>
                    <div id="answer-container-25478" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-25478-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/25478/up/" rel="nofollow"> </a>
<div id="post-25478-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-25478-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/25478/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Do you get a better result with dumpcap if you use a larger 'kernel buffer size' ?</p>
<pre><code>dumpcap ... -B 6 ...
</code></pre>
<p>The default size for dumpcap 1.8 is apparently 1MB (according to the help):</p>
<p>...
   -B &lt;buffer size=""&gt;         size of kernel buffer (def: 1MB)
   ...</p>
<p>(The development dumpcap help says</p>
<p>-B &lt;buffer size=""&gt;         size of kernel buffer in MB (def: 2MB)</p>
<p>Looking at the code, the buffer size is also specified in MB  for dumpcap 1.8</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/25478/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>01 Oct '13, 09:26</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/bfb20acfe44690473b10c7963b5d4a18?s=32&amp;d=identicon&amp;r=g" alt="Bill%20Meier's gravatar image" />
    <p><a href="/users/22/bill-meier">Bill Meier ♦♦</a><br/>
    <span class="score" title="3180 reputation points"><span class="">3.2k</span></span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="8 badges"><span class="silver">&#9679;</span><span class="badgecount">8</span></span><span title="50 badges"><span class="bronze">&#9679;</span><span class="badgecount">50</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Bill Meier has 31 accepted answers">17&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-25478">
    
        <a name="25510"></a>
        <div class="comment" id="comment-25510">
            <div id="post-25510-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks Kurt and Bill both.</p>

<p>Re: Kurt's suggestion, I can't limit the traffic any further; the only traffic being captured is the 16 ping messages.</p>

<p>The VNIC3 is a virtual NIC that is aggregating the traffic from one or more physical NICs. So far I have not considered the VNIC3 to be suspect since all the traffic is being captured with tcpdump.</p>

<p>It appears that Bill has found a partial answer (thanks Bill!) By increasing the size of the kernel buffer to 6 (from the default 1), I am now capturing all 4800 packets using dumpcap -B6. However, when I switched to wireshark, I did not get all the packets all the time, even with this option. I tried as high as -B30 but I still lost 148/4800 packets.</p>

<p>I also tried using the Wireshark option to <em>not display packets in real time</em>. In this mode Wireshark shows a blank screen until I stop the capture and then shows all the captured packets. Using this option I still lost 147 packets.</p>

<p>Any suggestions for how to get wireshark to display <em>ALL</em> packets now that dumpcap seems to be capturing all of them?</p></div>
            <div class="comment-info" id="comment-25510-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 07:17)</span>
                <a class="comment-user userinfo" href="/users/5797/mlampell2">mlampell2</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-25478" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-25478-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="25520"></a>
                    <div id="answer-container-25520" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-25520-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/25520/up/" rel="nofollow"> </a>
<div id="post-25520-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-25520-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/25520/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Did you change the buffer size in Wireshark as well? </p>
<blockquote>
<p>Edit -&gt; Preferences -&gt; Capture -&gt; Interfaces Edit [Button]</p>
</blockquote>
<p>Select the interface then check the field: Default Buffer size</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/25520/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>02 Oct '13, 08:04</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" alt="Kurt%20Knochner's gravatar image" />
    <p><a href="/users/2593/kurt-knochner">Kurt Knochner ♦</a><br/>
    <span class="score" title="24767 reputation points"><span class="">24.8k</span></span><span title="10 badges"><span class="badge1">&#9679;</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">&#9679;</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">&#9679;</span><span class="badgecount">237</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Kurt Knochner has 344 accepted answers">15&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-25520">
    
        <a name="25524"></a>
        <div class="comment" id="comment-25524">
            <div id="post-25524-score" class="comment-score"></div>
            <div class="comment-text"><p>On my version of Wireshark, 1.8.9, on SLES 11 sp1, I don't see an option on that interface to change the default buffer size. Instead, I was using the option "-B 30" when invoking wireshark from the command line, and this is not solving the problem.</p></div>
            <div class="comment-info" id="comment-25524-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 08:16)</span>
                <a class="comment-user userinfo" href="/users/5797/mlampell2">mlampell2</a>
                
            </div>
        </div>
    
        <a name="25530"></a>
        <div class="comment" id="comment-25530">
            <div id="post-25530-score" class="comment-score"></div>
            <div class="comment-text"><p>O.K. in 1.8.x the option is in a different menu.</p>

<blockquote>
<p>Capture -&gt; Options </p>
</blockquote>

<p>Double click the interface and you'll see the buffer size.</p></div>
            <div class="comment-info" id="comment-25530-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 08:31)</span>
                <a class="comment-user userinfo" href="/users/2593/kurt-knochner">Kurt Knochner ♦</a>
                
            </div>
        </div>
    
        <a name="25532"></a>
        <div class="comment" id="comment-25532">
            <div id="post-25532-score" class="comment-score"></div>
            <div class="comment-text"><p>Wow, that did the trick! Thanks very much. Don't know why passing the -B option on the command line isn't doing the same thing, but at least I have a usable workaround.</p>

<p>How do I turn this into the official answer for the question? Plus, if possible I would like to acknowledge both Kurt Knochner and Bill Meier, since Bill originally put me on the path to investigate the -B option.</p>

<p>Thanks again!</p></div>
            <div class="comment-info" id="comment-25532-info">
                
                
                
                

                

                <span class="comment-age">(02 Oct '13, 08:59)</span>
                <a class="comment-user userinfo" href="/users/5797/mlampell2">mlampell2</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-25520" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-25520-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/25391/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='ztNhHqNDJivpLV3DeOMZtq6RyBVgBV2K' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/25391/are-there-conditions-that-can-cause-wireshark-to-drop-packets?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/packetloss/"
            class="tag-link-packetloss"
            title="see questions tagged'packetloss'using tags"
            rel="tag">packetloss</a> <span class="tag-number">&#215;45</span><br/>
        
        <a href="/tags/intermittent/"
            class="tag-link-intermittent"
            title="see questions tagged'intermittent'using tags"
            rel="tag">intermittent</a> <span class="tag-number">&#215;7</span><br/>
        
        <a href="/tags/refresh/"
            class="tag-link-refresh"
            title="see questions tagged'refresh'using tags"
            rel="tag">refresh</a> <span class="tag-number">&#215;1</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Sept. 30, 2013, 8:26 a.m.">30 Sep '13, 08:26</strong>
    </p>
    <p> 
     	question was seen: <strong>11,850 times</strong>
    </p>
    <p> 
        last updated: <strong title="Oct. 2, 2013, 9:43 a.m.">02 Oct '13, 09:43</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/1975/capture-interface-comes-and-goes">Capture interface &quot;comes and goes&quot;</a>
        </p>
        
        <p>
            <a href="/questions/32231/exchange-over-vpn-suddenly-takes-a-nose-dive-packet-loss-but-where">Exchange over VPN suddenly takes a nose dive, packet loss but where</a>
        </p>
        
        <p>
            <a href="/questions/44474/hostel-lan-tcp-retransmission-and-dupack-problem">Hostel lan TCP retransmission and DupACK problem</a>
        </p>
        
        <p>
            <a href="/questions/61610/monitor-mode-and-packet-error-rate">Monitor mode and packet error rate?</a>
        </p>
        
        <p>
            <a href="/questions/16866/unable-to-download-file-in-https">Unable to download file in HTTPS</a>
        </p>
        
        <p>
            <a href="/questions/33605/monitor-packet-losses-using-wireshark">Monitor packet losses using Wireshark</a>
        </p>
        
        <p>
            <a href="/questions/44961/need-to-know-is-there-any-packet-loss-in-metioned-trace-httpswwwcloudsharkorgcapturesa940326cf88b">Need to  know is there any packet loss in metioned trace : https://www.cloudshark.org/captures/a940326cf88b</a>
        </p>
        
        <p>
            <a href="/questions/62734/summary-wireshark">Summary wireshark</a>
        </p>
        
        <p>
            <a href="/questions/28548/ssl-request-hangs-intermittently-with-amazon-lb-ssl-capture-included">SSL request hangs intermittently with Amazon LB SSL (Capture Included)</a>
        </p>
        
        <p>
            <a href="/questions/37154/tcp-loss-display-in-column-field">TCP loss display in column field</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
