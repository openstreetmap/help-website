<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>mac capture monitor-mode - Wireshark Q&amp;A</title>
        <meta name="description" content="I have a network, which has 2 nodes (a phone, a MacBook) both are connected to same wireless network, I know the SSID and password for the wireless network password: mypassword ssid: myssid security: WPA2 Personal  I am currently running Wireshark on MacBook with following settings: Edit &amp;gt; Prefer..." />
        <meta name="keywords" content="wireless,sniffing,monitor-mode,wireshark" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/40138/mac-capture-monitor-mode" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/40138/mac-capture-monitor-mode?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='rs0WFYqDq1MmOz6lCWCvTYGHHrYoRsfo' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/40138/mac-capture-monitor-mode">mac capture monitor-mode</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-40138-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40138/up/" rel="nofollow"> </a>
<div id="post-40138-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-40138-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40138/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/40138/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>I have a network, which has 2 nodes (a phone, a MacBook) both are connected to same wireless network, I know the SSID and password for the wireless network</p>
<pre><code>password: mypassword
ssid: myssid
security: WPA2 Personal
</code></pre>
<p>I am currently running Wireshark on MacBook with following settings:</p>
<p><code>Edit &gt; Preference &gt; Capture &gt; Interfaces &gt; Edit</code></p>
<pre><code>default buffer size `2048MiB`
default link layer header type: 802.11
monitor mode: checked
</code></pre>
<p><img alt="" src="http://i.imgur.com/a5iZw9d.png"></p>
<p>and to decrypt traffic under</p>
<p><code>Edit &gt; Preference &gt; Protocols &gt; IEEE 802.11</code></p>
<pre><code>Reassemble fragmented 802.11 datagram packets: checked
ignore vendor specific HT elements: unchecked
call subredisetor for retransmitted 802.11 frames: checked
assume packets have FCS: unchecked
Ignore the protection bit: Yes with IV
Enable decryption: checked
decryption keys: 
     key type: wpa-pwd
     key: mypassword:myssid
</code></pre>
<p><img alt="" src="http://i.imgur.com/87kpia3.png"></p>
<p>I start it in capture mode: I make a http call to foobar.com from my phone, and I expected wireshark to pick it up and display in sniffed data, I don't see it there.</p>
<p>However, if I make same HTTP call to foobar.com from my mac, I can see it being listed.</p>
<p><strong>Edit:</strong></p>
<p>After that I see EAPOL handshake captured</p>
<p><img alt="enter image description here" src="http://i.stack.imgur.com/8MYVf.png"></p>
<p>but still it is not able to decrypt packets captured for that source (Lg_Electr_41), also attached protocol preference</p>
<p><img alt="enter image description here" src="http://i.stack.imgur.com/mJDbU.png"></p>
<p>good capture of EAPOL</p>
<p><img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/Screen_Shot_2015-03-01_at_9.23.43_PM_UwS84kt.png"></p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/wireless/" class="post-tag tag-link-wireless"
                                        title="see questions tagged 'wireless'" rel="tag">wireless</a>
                                
                                    <a href="/tags/sniffing/" class="post-tag tag-link-sniffing"
                                        title="see questions tagged 'sniffing'" rel="tag">sniffing</a>
                                
                                    <a href="/tags/monitor-mode/" class="post-tag tag-link-monitor-mode"
                                        title="see questions tagged 'monitor-mode'" rel="tag">monitor-mode</a>
                                
                                    <a href="/tags/wireshark/" class="post-tag tag-link-wireshark"
                                        title="see questions tagged 'wireshark'" rel="tag">wireshark</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>27 Feb '15, 10:59</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/949c0d7b65a57fcf78b7d0116898c18f?s=32&amp;d=identicon&amp;r=g" alt="annonymous's gravatar image" />
    <p><a href="/users/14797/annonymous">annonymous</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="6 badges"><span class="bronze">&#9679;</span><span class="badgecount">6</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="annonymous has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/40138/">
                edited
                <strong>01 Mar '15, 21:34</strong>
            </a>
        </p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-40138">
    
</div>
<div id="comment-tools-40138" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-40138-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/40138/mac-capture-monitor-mode?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40138/mac-capture-monitor-mode?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40138/mac-capture-monitor-mode?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/40138/mac-capture-monitor-mode?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="40162"></a>
                    <div id="answer-container-40162" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-40162-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/40162/up/" rel="nofollow"> </a>
<div id="post-40162-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-40162-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/40162/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="annonymous has selected this answer as the correct answer"
        href="/accept_answer/40162/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Could it be that you forget to disconnect the phone after you started Wireshark?
Wireshark can only decrypt the traffic of any other device in the wireless network if Wireshark could sniff the EAPOL packets of this device.
In the eapol packets the session key of the device (your phone e.g.) and the AP is handled.
If your phone is connected with the AP and then you start Wireshark after, there is no way to read the traffic you will only be able to capture the raw and encrypted packets.</p>
<p>So if this was the case (that no eapol packets were sniffed), disconnect your phone, start wireshark, connect your phone to the AP, look if Wireshark got the 4 eapol packets (you can filter them), and only then you can read the traffic of your phone.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/40162/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>28 Feb '15, 23:34</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/932f872b04b352a8f3d81288805f08be?s=32&amp;d=identicon&amp;r=g" alt="franc's gravatar image" />
    <p><a href="/users/5878/franc">franc</a><br/>
    <span class="score" title="96 reputation points">96</span><span title="3 badges"><span class="badge1">&#9679;</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">&#9679;</span><span class="badgecount">4</span></span><span title="9 badges"><span class="bronze">&#9679;</span><span class="badgecount">9</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="franc has 2 accepted answers">40&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-40162">
    
        <a name="40168"></a>
        <div class="comment not_top_scorer" id="comment-40168">
            <div id="post-40168-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for your reply franc, I was able to capture EAPOL packets, still it is not able to decrypt rest of the packets, please see edit in question</p></div>
            <div class="comment-info" id="comment-40168-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '15, 15:26)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40169"></a>
        <div class="comment" id="comment-40169">
            <div id="post-40169-score" class="comment-score">1</div>
            <div class="comment-text"><p>Did you see all 4 EAPOL Handshake packets?
Also the "Malformed Packet" irritates me.</p></div>
            <div class="comment-info" id="comment-40169-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '15, 16:14)</span>
                <a class="comment-user userinfo" href="/users/5878/franc">franc</a>
                
            </div>
        </div>
    
        <a name="40170"></a>
        <div class="comment not_top_scorer" id="comment-40170">
            <div id="post-40170-score" class="comment-score"></div>
            <div class="comment-text"><p>Yes I saw 5 one of them was malformed, it was able to capture all 4 good packets</p></div>
            <div class="comment-info" id="comment-40170-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '15, 19:11)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40171"></a>
        <div class="comment" id="comment-40171">
            <div id="post-40171-score" class="comment-score">1</div>
            <div class="comment-text"><p>In monitor mode, even packets with a bad FCS are handed to the host, and perhaps one of the EAPOL packets was damaged by the microwave oven or something such as that. :-)  If the malformed packet shows a bad FCS, that's probably what happened.</p></div>
            <div class="comment-info" id="comment-40171-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '15, 20:18)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40172"></a>
        <div class="comment not_top_scorer" id="comment-40172">
            <div id="post-40172-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/79/guy-harris"></a><a href="/users/79/guy-harris">@Guy</a> Thanks a lot for your help across stackexchange and in here - You are the man,
 This time I turned off microwave, also asked neighbors to turned off theirs ;) - recaptured EAPOL and updated screenshots</p></div>
            <div class="comment-info" id="comment-40172-info">
                
                
                
                

                

                <span class="comment-age">(01 Mar '15, 21:27)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40187"></a>
        <div class="comment not_top_scorer" id="comment-40187">
            <div id="post-40187-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/79/guy-harris"></a><a href="/users/79/guy-harris">@Guy</a> I verified on different network, it works there with same setup, only thing I see difference is security type is : wpa2 psk, and in the network where I was trying it was: WPA2 Personal, reported by client, not sure what is the difference and does it actually help</p></div>
            <div class="comment-info" id="comment-40187-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 12:09)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40188"></a>
        <div class="comment" id="comment-40188">
            <div id="post-40188-score" class="comment-score">1</div>
            <div class="comment-text"><p>In your edited screenshot I only see one eapol: "Message 1 of 4" but not the rest of the four neccessary eapol packets.
Means that you need 1 of 4, 2 of 4, 3 of 4 and 4 of 4 to have captured all needed eapol packets. Thats how it shows in my wireshark on my mac, if i successfully capture the eapol.</p></div>
            <div class="comment-info" id="comment-40188-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 12:17)</span>
                <a class="comment-user userinfo" href="/users/5878/franc">franc</a>
                
            </div>
        </div>
    
        <a name="40189"></a>
        <div class="comment" id="comment-40189">
            <div id="post-40189-score" class="comment-score">1</div>
            <div class="comment-text"><p>At least according to the Wikipedia, <a href="https://en.wikipedia.org/wiki/Wi-Fi_Protected_Access#Target_users_.28authentication_key_distribution.29">WPA-Personal and WPA-PSK are the same thing</a>.</p></div>
            <div class="comment-info" id="comment-40189-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 12:21)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40193"></a>
        <div class="comment not_top_scorer" id="comment-40193">
            <div id="post-40193-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/5878/franc">@franc</a> I will try to capture it again and update here, thanks for your help Guy, franc, could you brief me about how EAPOL thing plays part in encryption between router and node ?</p></div>
            <div class="comment-info" id="comment-40193-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 13:50)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40194"></a>
        <div class="comment" id="comment-40194">
            <div id="post-40194-score" class="comment-score">1</div>
            <div class="comment-text"><p>This is maybe a good explanation: <a href="http://en.wikipedia.org/wiki/IEEE_802.1X#Typical_authentication_progression">http://en.wikipedia.org/wiki/IEEE_802.1X#Typical_authentication_progression</a></p></div>
            <div class="comment-info" id="comment-40194-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 15:42)</span>
                <a class="comment-user userinfo" href="/users/5878/franc">franc</a>
                
            </div>
        </div>
    
        <a name="40195"></a>
        <div class="comment not_top_scorer" id="comment-40195">
            <div id="post-40195-score" class="comment-score">1</div>
            <div class="comment-text"><p>And, for details on the 4-way EAPOL handshake, see <a href="https://tools.ietf.org/html/rfc4764">RFC 4764</a> - that's an RFC, so perhaps not as good a tutorial as you might like, so see also <a href="http://security.stackexchange.com/questions/17767/four-way-handshake-in-wpa-personal-wpa-psk">this StackExchange question and its answers</a>.</p></div>
            <div class="comment-info" id="comment-40195-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 16:02)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40199"></a>
        <div class="comment not_top_scorer" id="comment-40199">
            <div id="post-40199-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/4856/guy">@Guy</a> another difference I noted was, my phone gets connected to 2.4Ghz and my Mac gets connected over 5Ghz band, does it make difference ?</p></div>
            <div class="comment-info" id="comment-40199-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 22:24)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40200"></a>
        <div class="comment not_top_scorer" id="comment-40200">
            <div id="post-40200-score" class="comment-score"></div>
            <div class="comment-text"><p>forced phone to join 5Ghz and still it is not able to decrypt HTTP protocols, some of the packets sourced from phone are decrypted with protocol=SSDP and it is making HTTP request to some where (not to foobar.com), another difference noted was: phone was listed under mode : <code>802.11ac</code> in router's web console, and mac was listed under <code>802.11an</code>, both at 5Ghz</p></div>
            <div class="comment-info" id="comment-40200-info">
                
                
                
                

                

                <span class="comment-age">(02 Mar '15, 23:01)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40232"></a>
        <div class="comment not_top_scorer" id="comment-40232">
            <div id="post-40232-score" class="comment-score">1</div>
            <div class="comment-text"><blockquote>
<p>another difference I noted was, my phone gets connected to 2.4Ghz and my Mac gets connected over 5Ghz band, does it make difference</p>
</blockquote>

<p>Yes, just as if you tune your FM radio to 89.7 MHz, it's not going to play a radio station broadcasting at 94.1 MHz.  A Wi-Fi adapter includes a radio, and it will only receive signals in the right frequency band.  I don't know whether any Wi-Fi adapters exist that can receive on more than one band simultaneously, capturing packets on both the 2.4 GHz and the 5 GHz band.</p></div>
            <div class="comment-info" id="comment-40232-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 14:54)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40233"></a>
        <div class="comment not_top_scorer" id="comment-40233">
            <div id="post-40233-score" class="comment-score"></div>
            <div class="comment-text"><p>ok and do you think 802.11ac and 802.11an makes difference ?</p></div>
            <div class="comment-info" id="comment-40233-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 15:01)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40235"></a>
        <div class="comment not_top_scorer" id="comment-40235">
            <div id="post-40235-score" class="comment-score"></div>
            <div class="comment-text"><p>Don't force your phone to join the 5 GHz channel, but force your Mac to join the 2.4 Wifi Channels, let them both traffic under 2.4 GHz. Maybe Wireshark doesn't work well on the 5 GHz, but it is working on 2.4 GHz so test this first.</p></div>
            <div class="comment-info" id="comment-40235-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 15:04)</span>
                <a class="comment-user userinfo" href="/users/5878/franc">franc</a>
                
            </div>
        </div>
    
        <a name="40238"></a>
        <div class="comment not_top_scorer" id="comment-40238">
            <div id="post-40238-score" class="comment-score">1</div>
            <div class="comment-text"><p>Wireshark doesn't care about 2.4 GHz vs. 5 GHz, so that's not the issue.</p>

<p>However, the <em>adapter</em> may care about <a href="https://en.wikipedia.org/wiki/IEEE_802.11ac">802.11ac</a> vs. <a href="https://en.wikipedia.org/wiki/IEEE_802.11a-1999">802.11a</a>/<a href="https://en.wikipedia.org/wiki/IEEE_802.11n-2009">802.11n</a>.  802.11ac only operates in the 5 GHz band, as does 802.11a; 802.11n can operate in either the 2.4 GHz or 5 GHz band.</p>

<p>Hardware that supports 802.11n but not 802.11ac will not be able to receive any 802.11ac traffic and thus will not be able to sniff any 802.11ac traffic; I don't know whether your MacBook can support 802.11ac or not (according to <a href="https://en.wikipedia.org/wiki/MacBook_Pro">the Wikipedia MacBook Pro article</a>, 11ac support first showed up in October 2013, so earlier MacBook Pros wouldn't support it, and the <a href="https://en.wikipedia.org/wiki/MacBook_Air">MacBook Air article</a> indicates that 11ac support also showed up in mid-2013).</p>

<p>Switching to the 2.4 MHz band should, it appears, force the phone to use 802.11n, so that might allow the Mac to receive its traffic.</p></div>
            <div class="comment-info" id="comment-40238-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 16:04)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40240"></a>
        <div class="comment not_top_scorer" id="comment-40240">
            <div id="post-40240-score" class="comment-score"></div>
            <div class="comment-text"><p>I will give it a test from longer distance (to force mac use 2.4Ghz) and see if it switches to use <code>ac</code>, and update you guys soon, thank you so much again</p></div>
            <div class="comment-info" id="comment-40240-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 20:00)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
        <a name="40243"></a>
        <div class="comment not_top_scorer" id="comment-40243">
            <div id="post-40243-score" class="comment-score">1</div>
            <div class="comment-text"><blockquote>
<p>sorry i correcct it, mac book is on ac, phone is on an, both at 5 Ghz</p>
</blockquote>

<p>That comment appears to have disappeared, but, if it's true that the MacBook was on 802.11ac and the phone was on 802.11a/802.11n (there's no "802.11an"; "an" refers to 802.11a and 802.11n, the first of which uses only the 5 GHz band and the latter of which can use either the 2.4 GHz or the 5 GHz band), then the MacBook should be able to capture the phone's traffic as long as they're both using the same band and channel within that band.</p>

<p>If the <em>phone</em> was using ac and the <em>MacBook</em> was using a or n, then the MacBook probably wouldn't be able to capture the phone's traffic.</p></div>
            <div class="comment-info" id="comment-40243-info">
                
                
                
                

                

                <span class="comment-age">(03 Mar '15, 21:41)</span>
                <a class="comment-user userinfo" href="/users/79/guy-harris">Guy Harris ♦♦</a>
                
            </div>
        </div>
    
        <a name="40298"></a>
        <div class="comment not_top_scorer" id="comment-40298">
            <div id="post-40298-score" class="comment-score"></div>
            <div class="comment-text"><p>I couldn't force switch mac to use particular protocol, it is working on another network, I assume the culprit is only this protocol difference, I will mark it as accepted, Thanks a lot for your help <a href="/users/4856/guy">@Guy</a> <a href="/users/5878/franc">@franc</a></p></div>
            <div class="comment-info" id="comment-40298-info">
                
                
                
                

                

                <span class="comment-age">(05 Mar '15, 11:00)</span>
                <a class="comment-user userinfo" href="/users/14797/annonymous">annonymous</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-40162" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 20
        </span>
        <a href="#" class="show-all-comments-link">show 15 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-40162-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/40138/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='rs0WFYqDq1MmOz6lCWCvTYGHHrYoRsfo' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40138/mac-capture-monitor-mode?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/40138/mac-capture-monitor-mode?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/wireshark/"
            class="tag-link-wireshark"
            title="see questions tagged'wireshark'using tags"
            rel="tag">wireshark</a> <span class="tag-number">&#215;1,620</span><br/>
        
        <a href="/tags/wireless/"
            class="tag-link-wireless"
            title="see questions tagged'wireless'using tags"
            rel="tag">wireless</a> <span class="tag-number">&#215;139</span><br/>
        
        <a href="/tags/sniffing/"
            class="tag-link-sniffing"
            title="see questions tagged'sniffing'using tags"
            rel="tag">sniffing</a> <span class="tag-number">&#215;73</span><br/>
        
        <a href="/tags/monitor-mode/"
            class="tag-link-monitor-mode"
            title="see questions tagged'monitor-mode'using tags"
            rel="tag">monitor-mode</a> <span class="tag-number">&#215;36</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Feb. 27, 2015, 10:59 a.m.">27 Feb '15, 10:59</strong>
    </p>
    <p> 
     	question was seen: <strong>7,778 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 5, 2015, 11 a.m.">05 Mar '15, 11:00</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/27464/how-to-decrypt-wpa2-psk-captured-traffic-on-wireshark-what-is-the-expected-traffic-to-be-captured-in-wpa2-psk-setup">How to decrypt WPA2-PSK captured traffic on Wireshark? What is the expected traffic to be captured in WPA2-PSK setup?</a>
        </p>
        
        <p>
            <a href="/questions/29788/pcapng-and-wireless-data">PcapNg and Wireless Data</a>
        </p>
        
        <p>
            <a href="/questions/38717/wifi-sniffing-only-outgoing-packets">Wifi sniffing only outgoing packets</a>
        </p>
        
        <p>
            <a href="/questions/31378/sniffing-packets-from-mobile-devices-what-wifi-card-to-use">Sniffing packets from mobile devices, what wifi card to use?</a>
        </p>
        
        <p>
            <a href="/questions/32951/cant-seem-to-capture-only-http-traffic-with-wireless-card">Can&#39;t seem to capture only http traffic with wireless card</a>
        </p>
        
        <p>
            <a href="/questions/25258/can-only-see-a-bit-of-iphone-traffic-but-can-see-all-macbook-traffic-on-third-computer">Can only see a bit of iphone traffic, but can see all macbook traffic on third computer</a>
        </p>
        
        <p>
            <a href="/questions/60702/very-little-data-packets-in-monitor-mode">Very little data packets in monitor mode.</a>
        </p>
        
        <p>
            <a href="/questions/12032/wireshark-reporting-different-parameters-in-different-machines">Wireshark reporting different parameters in different machines</a>
        </p>
        
        <p>
            <a href="/questions/37886/wireshark-with-proxy">wireshark with proxy?</a>
        </p>
        
        <p>
            <a href="/questions/38741/decrypt-only-outgoing-packets-promiscuous-mode">Decrypt only outgoing packets - promiscuous mode.</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
