<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>TCP Retransmission with a delay time of two seconds - Wireshark Q&amp;A</title>
        <meta name="description" content="Hello, I have a VNC client (192.168.0.66) and a VNC server (192.168.0.10) in my network. On the client runs Windows CE 5.0 and on the server VxWorks. The problem is, that the respnse to a touch click on the client is in some cases delayed. The delay time is 500 ms to two seconds. For problem analysi..." />
        <meta name="keywords" content="retransmissions" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='WIqrUIZEpVyS3SzybwFtKl1dvMSGs4Av' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds">TCP Retransmission with a delay time of two seconds</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-24275-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/24275/up/" rel="nofollow"> </a>
<div id="post-24275-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-24275-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/24275/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/24275/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello,</p>
<p>I have a VNC client (192.168.0.66) and a VNC server (192.168.0.10) in my network. On the client runs Windows CE 5.0 and on the server VxWorks.
The problem is, that the respnse to a touch click on the client is in some cases delayed. The delay time is 500 ms to two seconds.<br>
For problem analysis, I made a capture with wireshark. In the capture you can see that the clients reports to the server several zero windows (packet 185, 202, 211, 220,...). With packet 239 start the first Retransmission, then follows many ZeroWindow and Out-of-Order packets. The problematic retransmission is the packet 297. It retransmit packet 240 after 500 ms.<br>
I am surprised that the server send the retransmission after 500 ms and not faster. Can I found an explanation for this reason in my capture?</p>
<p><a href="https://www.cloudshark.org/captures/f96096f08bc1">Capture</a></p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/retransmissions/" class="post-tag tag-link-retransmissions"
                                        title="see questions tagged 'retransmissions'" rel="tag">retransmissions</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>02 Sep '13, 01:43</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/3bd5ba636e4069926bbf664c132adb40?s=32&amp;d=identicon&amp;r=g" alt="parfant's gravatar image" />
    <p><a href="/users/5571/parfant">parfant</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="parfant has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-24275">
    
</div>
<div id="comment-tools-24275" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-24275-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    3 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="24294"></a>
                    <div id="answer-container-24294" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-24294-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/24294/up/" rel="nofollow"> </a>
<div id="post-24294-score" class="post-score"
    title="current number of votes">
    2
</div>
<a id="post-24294-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/24294/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Hello, the server <strong>did</strong> "fast retransmit"  (2) after the third duplicate ack but the client still didn't acknowledge the segment. So it waited for the retransmit timer to pop and 'Slow Retransmit'-ed the segment (3). Unfortunately wireshark tells us the "fast retransmit" is an out-of-order segment which I think is incorrect: See <a href="http://ask.wireshark.org/questions/24172/pmtud-and-retransmission-out-of-order">pmtud-and-retransmission-out-of-order</a></p>
<p>The question is why does WIN_CE not ack the packet. It might be due to the zero window condition keeping the stack too busy.</p>
<p>The trace shows that the client is not offering higher windowsizes than 6 MSS. So to avoid the zero window conditions, you need to speed up your client application (VNC client) or increase the tcp receive buffer to a more appropriate value. </p>
<p>Here is the link to Microsofts document: <a href="http://msdn.microsoft.com/en-us/library/ms884973.aspx">TCP/IP Registry Settings (Windows CE 5.0)</a></p>
<p><img alt="alt text" src="https://osqa-ask.wireshark.org/upfiles/Selection_074.png"></p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/24294/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>02 Sep '13, 23:18</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5500bd1decb766660522dfb347eedc49?s=32&amp;d=identicon&amp;r=g" alt="mrEEde's gravatar image" />
    <p><a href="/users/4668/mreede">mrEEde</a><br/>
    <span class="score" title="3892 reputation points"><span class="">3.9k</span></span><span title="15 badges"><span class="badge1">&#9679;</span><span class="badgecount">15</span></span><span title="22 badges"><span class="silver">&#9679;</span><span class="badgecount">22</span></span><span title="70 badges"><span class="bronze">&#9679;</span><span class="badgecount">70</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mrEEde has 48 accepted answers">20&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/24294/">
                edited
                <strong>03 Sep '13, 22:23</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-24294">
    
        <a name="24297"></a>
        <div class="comment" id="comment-24297">
            <div id="post-24297-score" class="comment-score"></div>
            <div class="comment-text"><p>mrEEde is right in pointing out the already fired Fast Retransmission (in frame 249 to be found btw)</p>

<p><a href="/users/5571/parfant">@parfant</a>:
What you have in this specific situation is very interesting: </p>

<p>Please observe that in packets 249 to 253, the server is resending its data packets although the client signals constant Zero Window. A regular TCP stack must not send data during Zero Window periods, so I'm wondering if that's really the server misbehaving or some device inbetween.</p>

<p>Anyways - the zero window periods from your client signal a massive performance problem at the client device in handling network data, which for me is an obvious indicator of the slow behaviour you are analysing.</p></div>
            <div class="comment-info" id="comment-24297-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '13, 00:12)</span>
                <a class="comment-user userinfo" href="/users/146/landi">Landi</a>
                
            </div>
        </div>
    
        <a name="24300"></a>
        <div class="comment" id="comment-24300">
            <div id="post-24300-score" class="comment-score"></div>
            <div class="comment-text"><p>Thank you for your fast and detailed answers!</p>

<p><a href="/users/146/landi">@Landi</a>: I agree with you, the client has only few performance, it is an ARM PXA270 CPU.
Did you also agree with me, that the slow client is not the sole problem? The server sends also data packets when the client reports a zero window. This unneccessary data packets are recived by the client and generate additional system load, that aggravate the problem. In my opinion, the server shouldn't send data packets on reported zero window by the client.
In frame 254 reports the client zero window and makes a retranssmission of frame 205. Is the reason of this retransmission, that the client is so busy and haven't handled the ack for this packet yet?</p></div>
            <div class="comment-info" id="comment-24300-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '13, 03:50)</span>
                <a class="comment-user userinfo" href="/users/5571/parfant">parfant</a>
                
            </div>
        </div>
    
        <a name="24321"></a>
        <div class="comment" id="comment-24321">
            <div id="post-24321-score" class="comment-score"></div>
            <div class="comment-text"><p>The server does not send any new data segments when the zero window condition is reported. The problem is that it treats the zero window packets as duplicate ACKs and triggers fast retransmission. This might not be beneficial for THIS scenario.</p>

<p>What would be the alternative? NOT to fast retransmit - and rely on the retransmission timer to pop. </p>

<p>Would that make it any better? You would not see the zero window condition that often but in the end you'd have to wait for RTO. (Your initial query was about the server retransmitting after 500 ms and higher!) </p>

<p>So the server's decision here was to fast retransmit after the third dup_ack even though the window is closed.  For better performing clients - where a zero window condition is only a rare and temporary condition - there is a good chance that the application reads the data while the retransmitted data is in transit and the window might open up.</p>

<p>So, to summarize: If you fix the client (increasing the rwin to more than 6 MSS) the problem should go away</p></div>
            <div class="comment-info" id="comment-24321-info">
                
                
                
                

                

                <span class="comment-age">(03 Sep '13, 21:10)</span>
                <a class="comment-user userinfo" href="/users/4668/mreede">mrEEde</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-24294" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-24294-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="24355"></a>
                    <div id="answer-container-24355" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-24355-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/24355/up/" rel="nofollow"> </a>
<div id="post-24355-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-24355-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/24355/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Ok, here my interpretation of the new trace:</p>
<p>Let's look at frames 67/68. Notice that Frame 67 (ip.id==0xc927) arrives before frame 68 (ip.id==c926) 
so those packets are arriving out-of-order and #68 is NOT a retransmission as wireshark tells us.<br>
67 is a naked ACK acknowledging everything up to frame 66. The windowsize shrank to 20 bytes below the MSS of 1426
That does not impress the server and within 33 Âµs it keeps on sending its 5 full  MSS segments + 1 smaller segment - all data that had been sitting on the send_queue.</p>
<p>The client acks just the part of the first segment (MSS- 20 bytes: tcp.ack==65577) when the server was expecting to see an ack of 65597.
All follow on ack numbers stay at 65577 but do not lead to a fast retransmission (due to a mismatch of tcp.ack and tcp.next_seq?) . 
After the retransmission timer pops, only one segment is being retransmitted. </p>
<p>The VxWorks TCP stack obviously does not handle "out of segment boundary" acknowledgments and only retransmits one segment off the rxmit-queue after a fixed RTO of ~500 ms . This is why you see increasing RTOs. </p>
<p>A note to your comment on using a small windowsize on a weak CPU. </p>
<p>The smaller the receive window is, the more read() activity is generated at the receiver causing a higher CPU load than necessary. So if you really mean to get as efficient as possible (= to save CPU cycles), you should make sure that a single read() can get as much data as possible from the receive buffer. </p>
<p>I'd try to eliminate the "less-than-1-MSS-window-size" scenario that is triggering this sub-optimal behaviour of the VxWorks TCP stack by increasing the receive buffer in WinCE even more. With RTTs going as high as 4.7ms due to the weak CPU you would need 58k at a 100Mbps bandwith, if you're on 1GbE you need TCP1323Opts enabled to get higher than 64k.</p>
<p>In addition to that it might be worth disabling SACK <a href="http://msdn.microsoft.com/en-us/library/ms884977.aspx">SackOpts = 0</a> at WinCE and see if this changes the retransmission behaviour at the sender.</p>
<p>Regards Matthias</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/24355/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>04 Sep '13, 14:00</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/5500bd1decb766660522dfb347eedc49?s=32&amp;d=identicon&amp;r=g" alt="mrEEde's gravatar image" />
    <p><a href="/users/4668/mreede">mrEEde</a><br/>
    <span class="score" title="3892 reputation points"><span class="">3.9k</span></span><span title="15 badges"><span class="badge1">&#9679;</span><span class="badgecount">15</span></span><span title="22 badges"><span class="silver">&#9679;</span><span class="badgecount">22</span></span><span title="70 badges"><span class="bronze">&#9679;</span><span class="badgecount">70</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="mrEEde has 48 accepted answers">20&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/24355/">
                edited
                <strong>04 Sep '13, 20:37</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-24355">
    
</div>
<div id="comment-tools-24355" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-24355-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="24337"></a>
                    <div id="answer-container-24337" class="answer answered-by-owner">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-24337-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/24337/up/" rel="nofollow"> </a>
<div id="post-24337-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-24337-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/24337/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>I set the window size to 8k, because the network performance of short packets (1 - 2k) is much better on this weak cpu with a smal window size.</p>
<p>I set the window size back to 32k and made a new trace:<br>
<a href="https://www.cloudshark.org/captures/464a55bb7289">Capture</a></p>
<p>There are also ZeroWindow packets and more and longer retransmissions. The retransmission time of frame 232 is 2,99 seconds!</p>
<p>It is unclear to me, why the server waits 500 ms for each retransmission. In the meantime, the server sent window updates to the server, so the server should know, that the client can recive new packets. </p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/24337/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>04 Sep '13, 01:59</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/3bd5ba636e4069926bbf664c132adb40?s=32&amp;d=identicon&amp;r=g" alt="parfant's gravatar image" />
    <p><a href="/users/5571/parfant">parfant</a><br/>
    <span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">&#9679;</span><span class="badgecount">4</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="parfant has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/24337/">
                edited
                <strong>04 Sep '13, 02:00</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-24337">
    
</div>
<div id="comment-tools-24337" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-24337-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/24275/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='WIqrUIZEpVyS3SzybwFtKl1dvMSGs4Av' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/24275/tcp-retransmission-with-a-delay-time-of-two-seconds?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/retransmissions/"
            class="tag-link-retransmissions"
            title="see questions tagged'retransmissions'using tags"
            rel="tag">retransmissions</a> <span class="tag-number">&#215;104</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Sept. 2, 2013, 1:43 a.m.">02 Sep '13, 01:43</strong>
    </p>
    <p> 
     	question was seen: <strong>12,014 times</strong>
    </p>
    <p> 
        last updated: <strong title="Sept. 4, 2013, 8:37 p.m.">04 Sep '13, 20:37</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/354/suspected-retransmissions">Suspected Retransmissions</a>
        </p>
        
        <p>
            <a href="/questions/17420/losing-packets">Losing Packets??</a>
        </p>
        
        <p>
            <a href="/questions/25563/all-re-transmissions-coming-from-a-single-source-going-in-one-direction">All re-transmissions coming from a single source going in one direction.</a>
        </p>
        
        <p>
            <a href="/questions/36153/why-ack-not-sent-back">Why ACK not sent back</a>
        </p>
        
        <p>
            <a href="/questions/43475/4-errors-in-expert-infos">4 Errors in Expert Infos</a>
        </p>
        
        <p>
            <a href="/questions/50170/tcp-dups-on-virtually-every-ssl-package-but-not-on-regular-tcp-where-to-look">TCP DUPs on virtually every SSL package, but not on regular TCP. Where to look?</a>
        </p>
        
        <p>
            <a href="/questions/59906/tcp-retransmission-issue-2">TCP Retransmission Issue (2)</a>
        </p>
        
        <p>
            <a href="/questions/562/lots-of-retransmissions-and-out-of-order-frames">Lots of retransmissions and out of order frames</a>
        </p>
        
        <p>
            <a href="/questions/17730/retransmissions">Retransmissions</a>
        </p>
        
        <p>
            <a href="/questions/27294/conversations-with-dup-or-retransmission">Conversations with DUP or Retransmission</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
