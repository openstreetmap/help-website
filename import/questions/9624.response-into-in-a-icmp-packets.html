<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Response In/To in a icmp packets - Wireshark Q&amp;A</title>
        <meta name="description" content="Hello, I used wireshark to resolv a problem! pings goes lost sometimes on my network... I&#39;ve see following packets on wireshark and I need to known is this normal or not! For one ping the are four packet, two with request and two with reply ( I means so because the four packets are same sequence num..." />
        <meta name="keywords" content="icmp" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/9624/response-into-in-a-icmp-packets" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/9624/response-into-in-a-icmp-packets?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='ie71EOtIwiBUsqVWGAbwSC1TKO5UeprA' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/9624/response-into-in-a-icmp-packets">Response In/To in a icmp packets</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-9624-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/9624/up/" rel="nofollow"> </a>
<div id="post-9624-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-9624-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/9624/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/9624/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello,</p>
<p>I used wireshark to resolv a problem! pings goes lost sometimes on my network...</p>
<p>I've see following packets on wireshark and I need to known is this normal or not!
For one ping the are four packet, two with request and two with reply ( I means so because the four packets are same sequence number ):
<code>
393 53.000650   192.168.141.100 10.151.56.99    ICMP    98  Echo (ping) request  id=0x8132, seq=1008/61443, ttl=53
394 53.000720   192.168.141.100 10.151.56.99    ICMP    98  Echo (ping) request  id=0x8132, seq=1008/61443, ttl=53
395 53.000782   10.151.56.99    192.168.141.100 ICMP    98  Echo (ping) reply    id=0x8132, seq=1008/61443, ttl=64
396 53.000808   10.151.56.99    192.168.141.100 ICMP    98  Echo (ping) reply    id=0x8132, seq=1008/61443, ttl=64</code></p>
<p>BUT the following is strange for me :
Only two packets have [Response In: &lt;number&gt;] in the ICMP header like :
<code>
Internet Control Message Protocol
 Type: 8
 Code: 0
 ...
 [Response In: 395]
</code>
and
<code>
Internet Control Message Protocol
 Type: 0
 Code: 0
 ...
 [Response To: 394]
 [Response Time: 0.062 ms]
</code></p>
<p>The two other packets (393 request / 396 reply) don't have this  [Response To/In].</p>
<p><u>It's means a problem
</u>?
Could please someone help me?</p>
<p>Thanks in advance</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/icmp/" class="post-tag tag-link-icmp"
                                        title="see questions tagged 'icmp'" rel="tag">icmp</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>20 Mar '12, 01:42</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/9fee3787e28cea6f6865f829b78c6f13?s=32&amp;d=identicon&amp;r=g" alt="nymus7's gravatar image" />
    <p><a href="/users/2389/nymus7">nymus7</a><br/>
    <span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">&#9679;</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">&#9679;</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">&#9679;</span><span class="badgecount">3</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="nymus7 has no accepted answers">0&#37;</span>
    </p>
</div>


                            </div>
                            




<div class="comments-container" id="comments-container-9624">
    
</div>
<div id="comment-tools-9624" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-9624-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    One Answer:
                    </div>
                    
<div class="tabsA"><a href="/questions/9624/response-into-in-a-icmp-packets?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/9624/response-into-in-a-icmp-packets?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/9624/response-into-in-a-icmp-packets?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/9624/response-into-in-a-icmp-packets?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="9631"></a>
                    <div id="answer-container-9631" class="answer accepted-answer">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-9631-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/9631/up/" rel="nofollow"> </a>
<div id="post-9631-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-9631-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/9631/down/" rel="nofollow"> </a>

                                        


    
      <a class="accept-answer on"
        title="nymus7 has selected this answer as the correct answer"
        href="/accept_answer/9631/" rel="nofollow">
      </a>
    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>It just means that Wireshark was only able to match one request to a reply, and is not a problem, at least not one of your network. </p>
<p>One can argue if Wireshark should be able to match the other two packets as well. But I suspect you have duplicates in your trace, meaning that there was only one request and one reply you recorded twice. That's probably a result of your capture method, for example if you span/mirror more than one port (usually both target and destination ports, and both of them ingress AND egress). And if there's a duplicate Wireshark will only match the ping packets once, because it will probably keep the last echo request id in mind until it finds a reply.</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/9631/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>20 Mar '12, 04:06</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/c578ba2967741f25aebd6afef702f432?s=32&amp;d=identicon&amp;r=g" alt="Jasper's gravatar image" />
    <p><a href="/users/145/jasper">Jasper ♦♦</a><br/>
    <span class="score" title="23806 reputation points"><span class="">23.8k</span></span><span title="5 badges"><span class="badge1">&#9679;</span><span class="badgecount">5</span></span><span title="51 badges"><span class="silver">&#9679;</span><span class="badgecount">51</span></span><span title="284 badges"><span class="bronze">&#9679;</span><span class="badgecount">284</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="Jasper has 263 accepted answers">18&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-9631">
    
        <a name="9638"></a>
        <div class="comment" id="comment-9638">
            <div id="post-9638-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for your answer!
So, I've redirect a specific vlan (virtual interface from switch) into a interface where my laptop with wireshark was plugged. The capture method was by default whitout change anything!
Perhaps my traces are duplicated? do you really means that's not a problem?</p></div>
            <div class="comment-info" id="comment-9638-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 06:53)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9639"></a>
        <div class="comment" id="comment-9639">
            <div id="post-9639-score" class="comment-score"></div>
            <div class="comment-text"><p>I guessed as much - redirecting a VLAN will result in duplicates if two nodes send messages to each other, because both the node sending and the node receiving will lead to a copy of the packet in the trace. So not your whole trace is duplicated, but just the packets of nodes talking to each other within the VLAN you redirected.</p></div>
            <div class="comment-info" id="comment-9639-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 06:58)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9640"></a>
        <div class="comment" id="comment-9640">
            <div id="post-9640-score" class="comment-score"></div>
            <div class="comment-text"><p>So, first of all, the "Response To/In" issue is not a problem. The duplicates are a problem, because for TCP communications you might see tons of retransmissions when they're just duplicates. You should use <strong>editcap -d &lt;yourcapturefile&gt; &lt;deduplicatedfile&gt;</strong> to deduplicate your trace before analysis (editcap comes with Wireshark and is a command line tool).</p></div>
            <div class="comment-info" id="comment-9640-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 07:00)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9641"></a>
        <div class="comment" id="comment-9641">
            <div id="post-9641-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/2389/nymus7">@nymus7</a>, can you post a capture file to wireshark-dev with the 4 ICMP packets in it?  It may be possible to modify the ICMP conversation handling to better account for duplicates.</p></div>
            <div class="comment-info" id="comment-9641-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 07:45)</span>
                <a class="comment-user userinfo" href="/users/402/cmaynard">cmaynard ♦♦</a>
                
            </div>
        </div>
    
        <a name="9642"></a>
        <div class="comment" id="comment-9642">
            <div id="post-9642-score" class="comment-score"></div>
            <div class="comment-text"><p>Chris, I wouldn't put too much work into it, otherwise you'll have to handle all the other sideeffects of duplicate packets as well... retransmissions etc, tons of work ;-)</p>

<p>Without having looked at the code I guess the ICMP dissector is "dragging" a variable with the last echo request identifier for that IP pair along and tries to match it with a reply. Which is why in a duplicated packet the second will be kept and matched while the first is lost. To extend that for multiple instances of the same duplicate packet will be no fun and too complicated - let people dedupe their traces instead ;-)</p></div>
            <div class="comment-info" id="comment-9642-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 07:54)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9644"></a>
        <div class="comment not_top_scorer" id="comment-9644">
            <div id="post-9644-score" class="comment-score"></div>
            <div class="comment-text"><p>Ok! this is the trames :
<code>
No.     Time        Source                Destination           Protocol Length Info
    434 59.000605   192.168.141.100       10.151.56.99          ICMP     98     Echo (ping) request  id=0x8132, seq=1014/62979, ttl=53</code></p>

<p><code>
</code></p><p><code>Frame 434: 98 bytes on wire (784 bits), 98 bytes captured (784 bits)
    Arrival Time: Mar 19, 2012 14:35:23.463877000 Mitteleuropäische Zeit
    Epoch Time: 1332164123.463877000 seconds
    [Time delta from previous captured frame: 0.961062000 seconds]
    [Time delta from previous displayed frame: 0.961062000 seconds]
    [Time since reference or first frame: 59.000605000 seconds]
    Frame Number: 434
    Frame Length: 98 bytes (784 bits)
    Capture Length: 98 bytes (784 bits)
    [Frame is marked: True]
    [Frame is ignored: False]
    [Protocols in frame: eth:ip:icmp:data]
    [Coloring Rule Name: ICMP]
    [Coloring Rule String: icmp || icmpv6]
Ethernet II, Src: Cisco_08:e3:43 (f0:f7:55:08:e3:43), Dst: Vmware_a6:57:e5 (00:50:56:a6:57:e5)
Internet Protocol Version 4, Src: 192.168.141.100 (192.168.141.100), Dst: 10.151.56.99 (10.151.56.99)
Internet Control Message Protocol
    Type: 8 (Echo (ping) request)
    Code: 0
    Checksum: 0x6bbc [correct]
    Identifier (BE): 33074 (0x8132)
    Identifier (LE): 12929 (0x3281)
    Sequence number (BE): 1014 (0x03f6)
    Sequence number (LE): 62979 (0xf603)
    Data (56 bytes)</code></p><code>
<p>0000  1b 36 67 4f 00 00 00 00 bb c2 0a 00 00 00 00 00   .6gO............
0010  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f   ................
0020  20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f    !"#$%&amp;'()<em>+,-./
0030  30 31 32 33 34 35 36 37                           01234567
        Data: 1b36674f00000000bbc20a00000000001011121314151617...
        [Length: 56]</em></p><em>
<p>No.     Time        Source                Destination           Protocol Length Info
    435 59.000658   192.168.141.100       10.151.56.99          ICMP     98     Echo (ping) request  id=0x8132, seq=1014/62979, ttl=53</p>
<p>Frame 435: 98 bytes on wire (784 bits), 98 bytes captured (784 bits)
    Arrival Time: Mar 19, 2012 14:35:23.463930000 Mitteleuropäische Zeit
    Epoch Time: 1332164123.463930000 seconds
    [Time delta from previous captured frame: 0.000053000 seconds]
    [Time delta from previous displayed frame: 0.000053000 seconds]
    [Time since reference or first frame: 59.000658000 seconds]
    Frame Number: 435
    Frame Length: 98 bytes (784 bits)
    Capture Length: 98 bytes (784 bits)
    [Frame is marked: True]
    [Frame is ignored: False]
    [Protocols in frame: eth:ip:icmp:data]
    [Coloring Rule Name: ICMP]
    [Coloring Rule String: icmp || icmpv6]
Ethernet II, Src: Cisco_08:e3:43 (f0:f7:55:08:e3:43), Dst: Vmware_a6:57:e5 (00:50:56:a6:57:e5)
Internet Protocol Version 4, Src: 192.168.141.100 (192.168.141.100), Dst: 10.151.56.99 (10.151.56.99)
Internet Control Message Protocol
    Type: 8 (Echo (ping) request)
    Code: 0
    Checksum: 0x6bbc [correct]
    Identifier (BE): 33074 (0x8132)
    Identifier (LE): 12929 (0x3281)
    Sequence number (BE): 1014 (0x03f6)
    Sequence number (LE): 62979 (0xf603)
    [Response In: 436]
    Data (56 bytes)</p>
</em><p><em>0000  1b 36 67 4f 00 00 00 00 bb c2 0a 00 00 00 00 00   .6gO............
0010  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f   ................
0020  20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f    !"#$%&amp;'()</em>+,-./
0030  30 31 32 33 34 35 36 37                           01234567
        Data: 1b36674f00000000bbc20a00000000001011121314151617...
        [Length: 56]</p>
<p>No.     Time        Source                Destination           Protocol Length Info
    436 59.000715   10.151.56.99          192.168.141.100       ICMP     98     Echo (ping) reply    id=0x8132, seq=1014/62979, ttl=64</p>
<p>Frame 436: 98 bytes on wire (784 bits), 98 bytes captured (784 bits)
    Arrival Time: Mar 19, 2012 14:35:23.463987000 Mitteleuropäische Zeit
    Epoch Time: 1332164123.463987000 seconds
    [Time delta from previous captured frame: 0.000057000 seconds]
    [Time delta from previous displayed frame: 0.000057000 seconds]
    [Time since reference or first frame: 59.000715000 seconds]
    Frame Number: 436
    Frame Length: 98 bytes (784 bits)
    Capture Length: 98 bytes (784 bits)
    [Frame is marked: True]
    [Frame is ignored: False]
    [Protocols in frame: eth:ip:icmp:data]
    [Coloring Rule Name: ICMP]
    [Coloring Rule String: icmp || icmpv6]
Ethernet II, Src: Vmware_a6:57:e5 (00:50:56:a6:57:e5), Dst: All-HSRP-routers_01 (00:00:0c:07:ac:01)
Internet Protocol Version 4, Src: 10.151.56.99 (10.151.56.99), Dst: 192.168.141.100 (192.168.141.100)
Internet Control Message Protocol
    Type: 0 (Echo (ping) reply)
    Code: 0
    Checksum: 0x73bc [correct]
    Identifier (BE): 33074 (0x8132)
    Identifier (LE): 12929 (0x3281)
    Sequence number (BE): 1014 (0x03f6)
    Sequence number (LE): 62979 (0xf603)
    [Response To: 435]
    [Response Time: 0.057 ms]
    Data (56 bytes)</p>
<p>0000  1b 36 67 4f 00 00 00 00 bb c2 0a 00 00 00 00 00   .6gO............
0010  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f   ................
0020  20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f    !"#$%&amp;'()<em>+,-./
0030  30 31 32 33 34 35 36 37                           01234567
        Data: 1b36674f00000000bbc20a00000000001011121314151617...
        [Length: 56]</em></p><em>
<p>No.     Time        Source                Destination           Protocol Length Info
    437 59.000739   10.151.56.99          192.168.141.100       ICMP     98     Echo (ping) reply    id=0x8132, seq=1014/62979, ttl=64</p>
<p>Frame 437: 98 bytes on wire (784 bits), 98 bytes captured (784 bits)
    Arrival Time: Mar 19, 2012 14:35:23.464011000 Mitteleuropäische Zeit
    Epoch Time: 1332164123.464011000 seconds
    [Time delta from previous captured frame: 0.000024000 seconds]
    [Time delta from previous displayed frame: 0.000024000 seconds]
    [Time since reference or first frame: 59.000739000 seconds]
    Frame Number: 437
    Frame Length: 98 bytes (784 bits)
    Capture Length: 98 bytes (784 bits)
    [Frame is marked: True]
    [Frame is ignored: False]
    [Protocols in frame: eth:ip:icmp:data]
    [Coloring Rule Name: ICMP]
    [Coloring Rule String: icmp || icmpv6]
Ethernet II, Src: Vmware_a6:57:e5 (00:50:56:a6:57:e5), Dst: All-HSRP-routers_01 (00:00:0c:07:ac:01)
Internet Protocol Version 4, Src: 10.151.56.99 (10.151.56.99), Dst: 192.168.141.100 (192.168.141.100)
Internet Control Message Protocol
    Type: 0 (Echo (ping) reply)
    Code: 0
    Checksum: 0x73bc [correct]
    Identifier (BE): 33074 (0x8132)
    Identifier (LE): 12929 (0x3281)
    Sequence number (BE): 1014 (0x03f6)
    Sequence number (LE): 62979 (0xf603)
    Data (56 bytes)</p>
</em></code><p><em><code>0000  1b 36 67 4f 00 00 00 00 bb c2 0a 00 00 00 00 00   .6gO............
0010  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f   ................
0020  20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f    !"#$%&amp;'()</code></em><code>+,-./
0030  30 31 32 33 34 35 36 37                           01234567
        Data: 1b36674f00000000bbc20a00000000001011121314151617...
        [Length: 56]
</code></p>
<p>All the ICMP frames look like this four!</p>
<p>Thank you very much for your help!</p><p></p></div>
            <div class="comment-info" id="comment-9644-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 08:10)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9649"></a>
        <div class="comment not_top_scorer" id="comment-9649">
            <div id="post-9649-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/145/jasper"></a><a href="/users/145/jasper">@Jasper</a>, +1 for not putting effort in making dissectors handle duplicate packets. If at all handling duplicates, make the frame dissector mark them as a duplicate to prevent them from being processed by upper layer dissectors.</p>

<p><a href="/users/145/jasper"></a><a href="/users/145/jasper">@Jasper</a>, when you span a vlan (both TX and RX) you will always get duplicates, even if one system is outside the vlan. The packet has to leave the vlan towards the routing engine, so it egresses the vlan in that scenario too. Although IIRC, I have seen switches not duplicate them in that case. Oh well... I always use RX only and check whether I get both flows!</p></div>
            <div class="comment-info" id="comment-9649-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 11:15)</span>
                <a class="comment-user userinfo" href="/users/5/syn-bit">SYN-bit ♦♦</a>
                
            </div>
        </div>
    
        <a name="9661"></a>
        <div class="comment not_top_scorer" id="comment-9661">
            <div id="post-9661-score" class="comment-score"></div>
            <div class="comment-text"><p>I wanted to see if the packets were truly duplicates or if there might be something to distinguish them.  When I added the ICMP conversation tracking, I had performed some testing with capturing on the "any" interface and found problems when GRE tunnels were involved because I would see both the pre- and post-encapsulated ICMP echo request/reply packets.  In that case, I was able to modify things slightly in order to distinguish between them.  But in this case, it looks like the packets are truly duplicates, so de-duping is the way to go.</p></div>
            <div class="comment-info" id="comment-9661-info">
                
                
                
                

                

                <span class="comment-age">(20 Mar '12, 13:43)</span>
                <a class="comment-user userinfo" href="/users/402/cmaynard">cmaynard ♦♦</a>
                
            </div>
        </div>
    
        <a name="9671"></a>
        <div class="comment not_top_scorer" id="comment-9671">
            <div id="post-9671-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks for your help!</p>

<p><a href="http://ask.wireshark.org/users/402/cmaynard"></a><a href="/users/402/cmaynard"></a><a href="/users/402/cmaynard">@cmaynard</a> Ok, if you means that these packets truly duplicate and I must to de-duping this one, should I use this command: <b><code> editcap -d "yourcapturefile" "duplicatedfile"</code></b> to do that? My question is which file is the <b><code>"deduplicatedfile"</code></b> ? because I've only one : <b><code>"yourcapturefile"</code></b></p></div>
            <div class="comment-info" id="comment-9671-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 01:23)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9672"></a>
        <div class="comment not_top_scorer" id="comment-9672">
            <div id="post-9672-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/2389/nymus7"></a><a href="/users/2389/nymus7">@nymus7</a></p>

<p>I've converted your "answer" to a comment as that's how this site works, see the <a href="http://ask.wireshark.org/faq/">FAQ</a>.</p>

<p>If any answers solve your problem, plese accept them by clicking the "check" symbol.</p></div>
            <div class="comment-info" id="comment-9672-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 03:24)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="9673"></a>
        <div class="comment not_top_scorer" id="comment-9673">
            <div id="post-9673-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/2389/nymus7">@nymus7</a>: the "deduplicatedfile" is the output of the deduplication process. You throw your existing file (with duplicates) into editcap and let it write a new, deduplicated file. It's like a copy process, but with leaving out the duplicates.</p></div>
            <div class="comment-info" id="comment-9673-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 04:26)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9674"></a>
        <div class="comment not_top_scorer" id="comment-9674">
            <div id="post-9674-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="http://ask.wireshark.org/users/145/jasper"></a><a href="/users/145/jasper">@jasper</a>: It doesn't seen any packet! So, perhaps it is a another problem...
</p>

<pre>C:\Program Files\Wireshark&gt;editcap.exe -d d:\TROUBLESHOOTING\VLAN56.pcap -v
0 packets seen, 0 packets skipped with duplicate window of 5 packets.
C:\Program Files\Wireshark&gt;editcap.exe -D 10000 d:\TROUBLESHOOTING\VLAN56.pcap
0 packets seen, 0 packets skipped with duplicate window of 10000 packets.
</pre>

<p></p></div>
            <div class="comment-info" id="comment-9674-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 07:06)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9675"></a>
        <div class="comment not_top_scorer" id="comment-9675">
            <div id="post-9675-score" class="comment-score"></div>
            <div class="comment-text"><p>Is it possible that you upload a trace with just the four ICMP packets to Cloudshark at <a href="http://www.cloudshark.org/,">http://www.cloudshark.org/,</a> and post the link here? So we can take a look at it and see what happens. It's better than posting ASCII exports. You can use the "Save As" function in Wireshark to save only parts of the file, for example by first marking the relevant frames.</p></div>
            <div class="comment-info" id="comment-9675-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 07:19)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9676"></a>
        <div class="comment not_top_scorer" id="comment-9676">
            <div id="post-9676-score" class="comment-score"></div>
            <div class="comment-text"><p>Nice tool! Ok, here's the link : <a href="http://www.cloudshark.org/captures/c97752f1daf0">ICMP_VLAN56</a></p>

<p>Thanks a  lot for your help....</p></div>
            <div class="comment-info" id="comment-9676-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 07:42)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9679"></a>
        <div class="comment not_top_scorer" id="comment-9679">
            <div id="post-9679-score" class="comment-score"></div>
            <div class="comment-text"><p>Here's what happens if I run editcap -d on the exerpt:</p>

<p><strong>[D:\]editcap -d ICMP_VLAN56.pcap deduplicatedfile.pcap
4 packets seen, 2 packets skipped with duplicate window of 5 packets.</strong></p>

<p>Maybe in your original file they're too far apart to be found by the default parameters, which compares the last 5 frames. Try working with the additional -D parameter to increase the search range. I'd go for -D 20 for starters, or maybe -D 50, that should be enough. </p>

<p><strong>editcap -d -D 20 yourcapturefile.pcap deduplicatedfile.pcap</strong></p></div>
            <div class="comment-info" id="comment-9679-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 08:27)</span>
                <a class="comment-user userinfo" href="/users/145/jasper">Jasper ♦♦</a>
                
            </div>
        </div>
    
        <a name="9680"></a>
        <div class="comment not_top_scorer" id="comment-9680">
            <div id="post-9680-score" class="comment-score"></div>
            <div class="comment-text"><p>Now it's work! Thanks a lot for your help...</p>

<p>It was really duplicated's frames!</p></div>
            <div class="comment-info" id="comment-9680-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 08:45)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
        <a name="9681"></a>
        <div class="comment not_top_scorer" id="comment-9681">
            <div id="post-9681-score" class="comment-score"></div>
            <div class="comment-text"><p><a href="/users/2389/nymus7">@nymus7</a></p>

<p>Yet again I've converted your "answers" to a comment, please don't post comments as answers and read the FAQ.</p>

<p>As your question now seems to have been solved please accept the answer.</p></div>
            <div class="comment-info" id="comment-9681-info">
                
                
                
                

                

                <span class="comment-age">(21 Mar '12, 08:54)</span>
                <a class="comment-user userinfo" href="/users/1225/grahamb">grahamb ♦</a>
                
            </div>
        </div>
    
        <a name="9688"></a>
        <div class="comment not_top_scorer" id="comment-9688">
            <div id="post-9688-score" class="comment-score"></div>
            <div class="comment-text"><p>Ok, I've read the FAQ and yes, my questions have been solved!
Thanks a lot!</p></div>
            <div class="comment-info" id="comment-9688-info">
                
                
                
                

                

                <span class="comment-age">(22 Mar '12, 00:45)</span>
                <a class="comment-user userinfo" href="/users/2389/nymus7">nymus7</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-9631" class="comment-tools">
    
        <span class="comments-showing">
            showing 5 of 18
        </span>
        <a href="#" class="show-all-comments-link">show 13 more comments</a>
    
    
</div>




<div class="clear"></div>
<div id="comment-9631-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/9624/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='ie71EOtIwiBUsqVWGAbwSC1TKO5UeprA' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/9624/response-into-in-a-icmp-packets?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/9624/response-into-in-a-icmp-packets?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/icmp/"
            class="tag-link-icmp"
            title="see questions tagged'icmp'using tags"
            rel="tag">icmp</a> <span class="tag-number">&#215;74</span><br/>
        
    </p>
    <p>
        question asked: <strong title="March 20, 2012, 1:42 a.m.">20 Mar '12, 01:42</strong>
    </p>
    <p> 
     	question was seen: <strong>12,315 times</strong>
    </p>
    <p> 
        last updated: <strong title="March 22, 2012, 12:45 a.m.">22 Mar '12, 00:45</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/2094/wireshark-does-not-capture-depending-on-mtu-size">Wireshark does not capture depending on MTU size</a>
        </p>
        
        <p>
            <a href="/questions/16780/can-i-filter-icmp-ping-for-requests-that-never-received-a-reply">Can i filter ICMP PING for requests that never received a Reply?</a>
        </p>
        
        <p>
            <a href="/questions/36767/im-seeing-icmp-traffic-that-i-did-not-commence">I&#39;m seeing ICMP traffic that I did not commence</a>
        </p>
        
        <p>
            <a href="/questions/45882/when-i-do-a-filter-for-my-qos-packets-using-ipdsfielddscp46-i-also-get-dscp-22-packets">When I do a filter for my QoS packets using ip.dsfield.dscp==46 I also get DSCP 22 packets</a>
        </p>
        
        <p>
            <a href="/questions/57550/a-quick-question-about-lack-of-icmp-reply-in-trace">A quick question about lack of ICMP reply in trace</a>
        </p>
        
        <p>
            <a href="/questions/2827/extra-fields-displayed-in-icmp-capture">Extra fields displayed in ICMP capture</a>
        </p>
        
        <p>
            <a href="/questions/17608/can-connect-to-certain-hosts-on-segment-not-others">Can connect to certain hosts on segment, not others</a>
        </p>
        
        <p>
            <a href="/questions/37485/am-i-part-of-a-ddos">am I part of a Ddos</a>
        </p>
        
        <p>
            <a href="/questions/46125/unable-to-see-icmp-packets-wep-128-encryption-on-ubuntu">Unable to see ICMP packets WEP 128 Encryption on Ubuntu</a>
        </p>
        
        <p>
            <a href="/questions/58371/icmp-code-0-means-unreachable">icmp code 0 means unreachable ?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
