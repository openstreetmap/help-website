<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>A question about Window Scaling - Wireshark Q&amp;A</title>
        <meta name="description" content="Hello All I am new to Wireshark, and was watching one of Laura Chappell excellent videos (I love those videos), where she mentioned intermediate devices (router, etc) can mess with your TCP header, for example &#39;Window Size Scaling Factor&#39; So if Computer A says I have a &#39;Window Size&#39; of 256 and by th..." />
        <meta name="keywords" content="windowscaling" />
        
        <link rel="canonical" href="https://osqa-ask.wireshark.org/questions/56586/a-question-about-window-scaling" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/56586/a-question-about-window-scaling?type=rss">


        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        
        <meta name="google-site-verification" content="dqzpAlfsUDYClyC-7mNVrF11yfwuCZ0-uF7C4HApzkU" />
        
        <link rel="shortcut icon" href="/upfiles/favicon-ask_1.ico" />
        <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css" />
        
        <link href="/cstyle.css" rel="stylesheet" type="text/css" />
        
        <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
        <!--[if IE 6]>
        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]-->
        

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
        
        <script type="text/javascript">
        /*<![CDATA[*/
            
            

            var i18nLang = 'en';
            var appUrl = 'https://osqa-ask.wireshark.org'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script>
        <script type="text/javascript" src="/m/default/media/js/osqa.main.js"></script>
        
        <style type="text/css">
            body { margin-top:2.4em; }
        </style>
        <script type="text/javascript">
            $(document).ready(function() {
                var element = $('#validate_email_alert');
                element.click(function(){notify.close(true);})
                notify.show();
            });
        </script>
        
        
            <META name="y_key" content="af3ab95b28a8b14e">
<meta name="msvalidate.01" content="9EAF899765C0DD43A19EEF6EAFFA6A77" />
        
        
        
        <script type='text/javascript' src='/m/default/media/js/osqa.question.js'></script>
        <script type='text/javascript' src='/m/default/media/js/jquery.caret.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/showdown.js'></script>
        <script type='text/javascript' src='/m/default/media/js/wmd/wmd.js'></script>
        <script type='text/javascript' src='/m/default/media/js/html_sanitizer.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css" />

        
        <script type='text/javascript' src='/m/default/media/js/viewbox_min.js'></script>
        <script type='text/javascript' src='/m/default/media/js/youtube.js'></script>
        <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css" />
        
        

        <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script>
        <noscript>
            <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style>
        </noscript>

        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Wireshark Q&amp;A Search" />
        
    </head>
    <body>
        <div class="wrapper">
        
        <!-- template header.html -->


	<div id="roof">
	  
		<div id="logo">
			<a href="/">
				<img src="/upfiles/wsbadge@186x57.png" title="back to home page" alt="Wireshark Q&amp;A logo"/>
			</a>
		</div>
	  
		<div id="top">
		     <a href="/account/signin/" >login</a>  <a href="/about/" >about</a>  <a href="/faq/" >faq</a> 
		</div>

    <div id="nav">
        <a id="nav_questions" class="on" href="/questions/" >questions</a><a id="nav_tags" href="/tags/" >tags</a><a id="nav_users" href="/users/" >users</a><a id="nav_badges" href="/badges/" >badges</a><a id="nav_unanswered" href="/questions/unanswered/" >unanswered</a>
        
    </div>
  </div>

  <div class="clear"></div>
  
	<div id="searchBar">
    <form action="/search/" method="get">
        <input type='hidden' name='csrfmiddlewaretoken' value='Cbx86PLKD3F0bqEOqTPCpqhfLew1T3R0' />
        <div>
            <input type="text" class="searchInput" value="" name="q" id="keywords" />
            <input type="submit" name="Submit" value="search" class="searchBtn" />
        </div>
        <div class="options">
            <input id="type-question" type="radio" value="question" name="t" 
                checked="checked" /><label for="type-question">questions</label>
            <input id="type-tag" type="radio" value="tag" name="t" /><label for="type-tag">tags</label>
            <input id="type-user" type="radio" value="user" name="t" /><label for="type-user">users</label>
        </div>
    </form>	
	</div>

	
  <div id="announcement">
      <div style="padding: 1em; margin-top: 5px; border-radius: 5px; border: 1px solid rgb(107, 43, 40); background: rgb(243, 227, 225);">
This is our old Q&amp;A Site. Please post any new questions and answers at <a href="https://ask.wireshark.org/">ask.wireshark.org</a>.
</div>
  </div>
  

<!-- end template header.html -->

        



<div id="wrapper">
    
    
    <div id="room">
        <div id="CALeft">
            
<div class="headNormal">
    <h1><a href="/questions/56586/a-question-about-window-scaling">A question about Window Scaling</a></h1>
</div>
<div id="main-body" class="">
    <div id="askform">
            <table style="width:100%;" id="question-table" >
                <tr>
                    <td style="width:30px;vertical-align:top">
                        <div class="vote-buttons">
                            

<a id="post-56586-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/56586/up/" rel="nofollow"> </a>
<div id="post-56586-score" class="post-score"
    title="current number of votes">
    0
</div>
<a id="post-56586-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/56586/down/" rel="nofollow"> </a>

                            

<a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)"
    class="ajax-command favorite-mark "
    href="/mark_favorite/56586/" rel="nofollow"> </a>
<div id="favorite-count" class="favorite-count">
   
</div>

                        </div>
                    </td>
                    <td>
                        <div id="item-right">
                            <div class="question-body">
                                <p>Hello All</p>
<p>I am new to Wireshark, and was watching one of Laura Chappell excellent videos (I love those videos), where she mentioned intermediate devices (router, etc) can mess with your TCP header, for example 'Window Size Scaling Factor'</p>
<p>So if Computer A says I have a 'Window Size' of 256 and by the way I can sale this by 256 (e.g. the Window Scaling Factor) meaning I can actually support a Window Size of 65536, but the router amends the Window Scaling Factor (or nulls it) so it is effectively 1; </p>
<p>Meaning Computer B hears the message I can support Window Size of 256 x 1 = 256 (e.g. very bad for performance). I have two questions about this please.</p>
<p>1: Why does Computer A not just say at I can support of Window Size of 65536 with a scaling factor of 1 in the first place? Therefore if the router a nulls the scaling factor it does not matter as you still tell the other party you can support 65536.</p>
<p>2: Why does the router mess this this in the first place? I can understand the router needs to consider the maximum MTU (Ethernet Frame Size, I believe this refers to), and possible the segment size (IP data) but the Window Size as far as I am aware is just the receiver telling the sender I can receive this many segments (collection of bytes) before I need to send you an ACK. Therefore I cannot see what the Window Size and therefore the Window Scaling Factor has to do with the router in the path; and therefore why the router would want to mess with it.</p>
<p>Thanks All in advance
EBrant</p>
                            </div>
                            <div id="question-tags" class="tags-container tags">
                                
                                    <a href="/tags/windowscaling/" class="post-tag tag-link-windowscaling"
                                        title="see questions tagged 'windowscaling'" rel="tag">windowscaling</a>
                                
                            </div>
                            <div id="question-controls" class="post-controls">
                                

                                

                            </div>
                            <div class="post-update-info-container">
                                    
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        asked
        <strong>23 Oct '16, 00:36</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/ff39c11ae2cb05528da757366e76d84b?s=32&amp;d=identicon&amp;r=g" alt="EBrant's gravatar image" />
    <p><a href="/users/25913/ebrant">EBrant</a><br/>
    <span class="score" title="1 reputation points">1</span><span title="7 badges"><span class="badge1">&#9679;</span><span class="badgecount">7</span></span><span title="8 badges"><span class="silver">&#9679;</span><span class="badgecount">8</span></span><span title="9 badges"><span class="bronze">&#9679;</span><span class="badgecount">9</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="EBrant has no accepted answers">0&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/56586/">
                edited
                <strong>23 Oct '16, 22:46</strong>
            </a>
        </p>
        
            <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/2337f0406681e5c72ea0e6f1f0d6c0b0?s=32&amp;d=identicon&amp;r=g" alt="Jaap's gravatar image" />
            <p><a href="/users/4/jaap">Jaap ♦</a><br/>
            <span class="score" title="11680 reputation points"><span class="">11.7k</span></span><span title="16 badges"><span class="silver">&#9679;</span><span class="badgecount">16</span></span><span title="101 badges"><span class="bronze">&#9679;</span><span class="badgecount">101</span></span></p>
        
    </div>


                            </div>
                            




<div class="comments-container" id="comments-container-56586">
    
</div>
<div id="comment-tools-56586" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-56586-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                        </div>

                    </td>
                </tr>
            </table>
            
            
                <hr/>
                <div class="tabBar">
                    <a name="sort-top"></a>
                    <div class="headQuestions">
                    2 Answers:
                    </div>
                    
<div class="tabsA"><a href="/questions/56586/a-question-about-window-scaling?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/56586/a-question-about-window-scaling?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/56586/a-question-about-window-scaling?sort=newest" title="newest answers will be shown first">newest answers</a><a href="/questions/56586/a-question-about-window-scaling?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a></div>

                </div>
                

                
                    <a name="56587"></a>
                    <div id="answer-container-56587" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-56587-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/56587/up/" rel="nofollow"> </a>
<div id="post-56587-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-56587-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/56587/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <blockquote>
<p>1: Why does ComputerA not just say it can support a Window Size of 65536 with a scaling factor of 1 in the first place?</p>
</blockquote>
<p>The basic field of the TCP header carrying the window size is just two bytes in size, so the maximum window size it can express is 65535. The purpose of introduction of the window size scaling mechanism was to extend the range that can be expressed using those two bytes (for the price of losing resolution which is negligible compared to the benefits).</p>
<p>If your example of value 256 and scaling factor 256 is a real life one, not just illustrative, it would really be possible not to use the scaling factor at all and state the window size of 65535 using the two bytes. But you would have to ask the authors of the TCP stack implementation on ComputerA why they did it the former way. Wireshark can only show you <strong>what</strong> has happened; if you want to know <strong>why</strong> that happened, you need to see RFCs and/or ITU recommendations and the source codes of the protocol stacks and applications.</p>
<blockquote>
<p>2: Why does the router mess with this in the first place?</p>
</blockquote>
<p>There may be several reasons:</p>
<ul>
<li>
<p>it may be simply too old to recognize the Window scale factor option so it ignores it</p>
</li>
<li>
<p>it may contain a bug making it ignore the Window scale factor option</p>
</li>
<li>
<p>it may have a small memory and a reason to inspect the data flowing through it, so it has to reduce the window size to a value allowing it to handle the data.</p>
</li>
</ul>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/56587/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>23 Oct '16, 01:00</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/00fc6e2633725bd871ff636f0175eabc?s=32&amp;d=identicon&amp;r=g" alt="sindy's gravatar image" />
    <p><a href="/users/19586/sindy">sindy</a><br/>
    <span class="score" title="6049 reputation points"><span class="">6.0k</span></span><span title="4 badges"><span class="badge1">&#9679;</span><span class="badgecount">4</span></span><span title="8 badges"><span class="silver">&#9679;</span><span class="badgecount">8</span></span><span title="51 badges"><span class="bronze">&#9679;</span><span class="badgecount">51</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="sindy has 110 accepted answers">24&#37;</span>
    </p>
</div>

    <div class='post-update-info post-update-info-edited'>
        <p style="line-height:12px;">
            <a href="/revisions/56587/">
                edited
                <strong>23 Oct '16, 01:11</strong>
            </a>
        </p>
        
    </div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-56587">
    
        <a name="56591"></a>
        <div class="comment" id="comment-56591">
            <div id="post-56591-score" class="comment-score"></div>
            <div class="comment-text"><p>Hello PacketHunter and Sindy, thanks for both taking the time to explain. this has really helped to clear things up.</p>

<p>So if I have understand you both in a nutshell Windows Size is a two byte (16 bit fieled) meaning a maximum of
65535 -1 = 65534 (64k)</p>

<p>however the scaling factor option (e.g. use one of the previously free options flags so do how have to re-engineer, or possible the options flag was always there) means you can scale up to 16MB Window Size. Is that correct so far please?</p>

<p>Also, from what I understand from above, if I send a SYN with a small Windows size (256) and a scale factor of 8 (meaning my window can scale to 64k) the receiver who is about the send a SYN-ACK thinks OK this guy can do Windows scaling and therefore I will 'also' send a smallish window size with a scale option set (e.g. reply in a similar manor) rather than sending say a window size of say 64k with no scaling option set in my SYN-ACK.</p>

<p>Is the above correct/reasonable assumption so far please?</p>

<p>Then looking at the interconnected device (router/firewall etc), if it has low RAM, slowish CPU etc. but wants to inspect the packets (for filtering or whatever reason) is it correct to say/assume the router/firewall "likes a smaller window size" as it knows that when the number of packets have been sent by the client up to the window size the client will then wait for a ACK from the other side for these packets (segment/s) it sent, giving the router that split second of time to inspect/filter/amend the packet etc before passing them on.</p>

<p>is my assumption above correct please?</p>

<p>Thanks again
EBrant</p></div>
            <div class="comment-info" id="comment-56591-info">
                
                
                
                

                

                <span class="comment-age">(23 Oct '16, 09:54)</span>
                <a class="comment-user userinfo" href="/users/25913/ebrant">EBrant</a>
                
            </div>
        </div>
    
        <a name="56592"></a>
        <div class="comment" id="comment-56592">
            <div id="post-56592-score" class="comment-score"></div>
            <div class="comment-text"><blockquote>
<p>is my assumption above correct please?</p>
</blockquote>

<p>Mostly.</p>

<blockquote>
<p>however the scaling factor option means you can scale up to 16MB Window Size. </p>
</blockquote>

<p>16 MB is the maximum window size for a scaling factor of 8, but the scaling factor may be higher.</p>

<blockquote>
<p>if I send a SYN with a small Windows size (256) and a scale factor of 8 (meaning my window can scale to 64k)...</p>
</blockquote>

<p>No. If you send a small window size (256) and a scale factor of 8, it means the <strong>current size</strong> of your receive window is 65536 bytes. The <strong>maximum size</strong> is 65535×256, i.e. about 16 MBytes.</p>

<blockquote>
<p>... the receiver who is about the send a SYN-ACK thinks OK this guy can do Windows scaling and therefore I will 'also' send a smallish window size with a scale option set (e.g. reply in a similar manor) rather than sending say a window size of say 64k with no scaling option set in my SYN-ACK.</p>
</blockquote>

<p>There is no rule that the window size scaling factor must be the same in both directions. However, the presence of the window size scaling factor option in the <code>SYN,ACK</code> packet of the server, regardless the scaling factor value, confirms to the client that the server supports window size scaling. If the client sends the window scaling factor option in its <code>SYN</code> packet but doesn't receive one from the server, it must use a scaling factor of 0. Similarly, if there is no window scaling factor option in the <code>SYN</code> packet from the client, the server knows there is no point in using a scaling factor as the client doesn't support it, so it doesn't send that option in its <code>SYN,ACK</code> packet.</p></div>
            <div class="comment-info" id="comment-56592-info">
                
                
                
                

                

                <span class="comment-age">(23 Oct '16, 10:47)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
        <a name="56593"></a>
        <div class="comment" id="comment-56593">
            <div id="post-56593-score" class="comment-score">1</div>
            <div class="comment-text"><blockquote>
<p>the client will then wait for a ACK from the other side for these packets (segments) it sent, giving the router that split second of time to inspect/filter/amend the packet etc before passing them on.</p>
</blockquote>

<p>If processing time would be a concern, it wouldn't be enough to rely on smaller window size and the router would have to take active measures, i.e. not to forward the packets until it analyses them.</p></div>
            <div class="comment-info" id="comment-56593-info">
                
                
                
                

                

                <span class="comment-age">(23 Oct '16, 10:58)</span>
                <a class="comment-user userinfo" href="/users/19586/sindy">sindy</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-56587" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-56587-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                    <a name="56590"></a>
                    <div id="answer-container-56590" class="answer ">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30px;vertical-align:top">
                                    <div class="vote-buttons">
                                        

<a id="post-56590-upvote" title="I like this post (click again to cancel)"
    class="ajax-command post-vote up "
     href="/vote/56590/up/" rel="nofollow"> </a>
<div id="post-56590-score" class="post-score"
    title="current number of votes">
    1
</div>
<a id="post-56590-downvote" title="I dont like this post (click again to cancel)"
    class="ajax-command post-vote down"
     href="/vote/56590/down/" rel="nofollow"> </a>

                                        


    



                                    </div>
                                </td>
                                <td>
                                    <div class="item-right">
                                        <div class="answer-body">
                                            <p>Hm, the behavior might become clear, if we look at the TCP handshake.</p>
<p>First a few words on</p>
<p><strong>Window Scaling:</strong></p>
<p>This is nowadays supported by virtually all recent TCP stacks. Both, client and sender, send an aptly named TCP option with the SYN flag. The scale option will be translated to a power of 2. So Windows Scaling 8 will translate to a factor of 2^8 = 256.</p>
<p>The TCP window size is a 16 bit field, which limits the window size to 2^16-1 bytes. With a scale factor of 8 this connection could now use 2^(16+8)-1 bytes. This is especially nice for "long fat networks" (LFN, some times called "elefant").</p>
<p>If one side signales a scale factor of 0 that translates to "hey, you other guy signal a really large receive window which I will use. But me, I stay with a limit of 2^16-1 Byte"</p>
<p><strong>Selecting an initial Window Size</strong></p>
<p>If your systems selects a window size of 256 with a scale factor of 8 (= multiply by 256) the window size can be expanded way beyond 64 kByte. This allows a much greater throughput, if the connection uses requires it. Hint: A Gigabit link with a 1 millisecond RTT easily runs well with a 125 kByte window.</p>
<p>A scale factor of 1 would prevent the connection from using the full throughput.</p>
<p><strong>Routers messing with the hand shake</strong></p>
<p>In certain situations a device in the network will mess up the hand shake. Possible perpetrators are WAN-optimizers, faulty or misconfigured load balancers, routers or firewalls with a silly NAT algorithms or another configuration problem.</p>
<p>One such culprit could be a firewall or router manufactured by Cisco that uses a feature called "TCP normalization".</p>
<p>Assume the following network:</p>
<pre><code>Node-A - Router-A --- Network --- Router-B - Node-B
</code></pre>
<p>Say, Node-A sends a packet with a Window Size 64 kByte and scale factor 0. Router-B passes the Window Scaling option from the TCP header incoming packets and forwards the packet to Node-B. Node-B responds with a scale factor of 8 and a Window Size of 256, which would translate to 64 kB.</p>
<p>Trouble starts, if this outbound packet is modified by any router / load-balancer / optimizing magic device and the scaling option is removed:</p>
<p>Node A assumes that Window Scaling is disabled for this connection, as the SYN-ACK did not include a Scale-Option. As Node B assumes that we have Window Scaling and signals a very small number as window size, the connection will slow down to a crawl.</p>
<p>Good hunting</p>
                                        </div>
                                        <div class="answer-controls post-controls">
                                            
<span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/56590/">permanent link</a></span>
                                            

                                        </div>
                                        <div class="post-update-info-container">
                                            
<div class='post-update-info post-update-info-user'>
    <p style="line-height:12px;">
        answered
        <strong>23 Oct '16, 06:28</strong>
    </p>
    <img class="gravatar" width="32" height="32" src="https://secure.gravatar.com/avatar/3b60e92020a427bb24332efc0b560943?s=32&amp;d=identicon&amp;r=g" alt="packethunter's gravatar image" />
    <p><a href="/users/416/packethunter">packethunter</a><br/>
    <span class="score" title="2137 reputation points"><span class="">2.1k</span></span><span title="7 badges"><span class="badge1">&#9679;</span><span class="badgecount">7</span></span><span title="15 badges"><span class="silver">&#9679;</span><span class="badgecount">15</span></span><span title="48 badges"><span class="bronze">&#9679;</span><span class="badgecount">48</span></span><br />
    
    <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span>
    <span title="packethunter has 8 accepted answers">8&#37;</span>
    </p>
</div>


                                        </div>
                                        




<div class="comments-container" id="comments-container-56590">
    
        <a name="56594"></a>
        <div class="comment" id="comment-56594">
            <div id="post-56594-score" class="comment-score">1</div>
            <div class="comment-text"><p>Actually, Window Scaling can increase the senders transmit window to 1 GByte, if the scale factor 14 is used:
<em> The window size would be expanded by 14, i. e. multiplied by 2^14 = 8192.
</em> 2^30 = 1 GByte</p>

<p>The window size signals, how much data the other end may transmit, without waiting for an acknowledgement. The window size may grow or shrink, depending on the current load of the receiver.</p>

<p>Say, you upload up a large file to an FTP server. If the server starts the conversation with a window size of 64 kByte the client can send so many bytes without waiting for an acknowledgement.</p>

<p>If the server wants to slow the client, because the disk is slow, CPU is busy or any other reason, the server can shrink the window size. In the worst of all cases the window size goes down to 0, which would be like "hold your data for a moment, I need to process what to you send me so far". The window size usually goes up within a few milliseconds.</p>

<p>The server can increase the window size (with window scaling beyond 64 kB). This tells the client "keep it coming, I can keep up with you".</p>

<p>A good description of the window size is given by Jeremy Stretch on his web site <a href="http://packetlife.net/blog/2010/aug/4/tcp-windows-and-window-scaling/">packetlife.net</a>. </p>

<p>If one side starts the conversation with a window size of 256 and a scale factor of 8 the initial window would be 64 kByte. Still, the window size can increase to 65535 * 256 = 16 MByte.</p>

<p>The other end may or may not use the window size. This largely depends on the application. For example, FTP would benefit from a large window. SMB is delivering smaller data chunks and might not benefit from a large window size.</p></div>
            <div class="comment-info" id="comment-56594-info">
                
                
                
                

                

                <span class="comment-age">(23 Oct '16, 10:59)</span>
                <a class="comment-user userinfo" href="/users/416/packethunter">packethunter</a>
                
            </div>
        </div>
    
        <a name="56596"></a>
        <div class="comment" id="comment-56596">
            <div id="post-56596-score" class="comment-score"></div>
            <div class="comment-text"><p>Thanks very much again Sindy and PacketHunter fro your detailed replies, its nice to know there are people out there that will really help you out. Next I will buy some books (it's going to take a while but I am determined to learn this well).
EBrant :)</p></div>
            <div class="comment-info" id="comment-56596-info">
                
                
                
                

                

                <span class="comment-age">(23 Oct '16, 21:40)</span>
                <a class="comment-user userinfo" href="/users/25913/ebrant">EBrant</a>
                
            </div>
        </div>
    
</div>
<div id="comment-tools-56590" class="comment-tools">
    
    
</div>




<div class="clear"></div>
<div id="comment-56590-form-container" class="comment-form-container">
    
</div>
<div class="clear"></div>



                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                
                <div class="paginator-container-left">
                    
                </div>
            
        <form id="fmanswer" action="/questions/56586/answer/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='Cbx86PLKD3F0bqEOqTPCpqhfLew1T3R0' />
            <div style="clear:both">
            </div>

            
                <div style="padding:10px 0 0 0;">
                    <div class="headNormal">
                        
                            Your answer
                        
                    </div>
                </div>
                

                <div id="description" class="" >
                    <div id="wmd-button-bar" class="wmd-panel"></div>
                    <textarea cols="40" id="editor" name="text" rows="10"></textarea>
                    <div class="preview-toggle">
                        <table width="100%">
                            <tr>
                                <td>
                                    <span id="pre-collapse" 
                                        title="Toggle the real time Markdown editor preview">
                                            toggle preview
                                    </span>
                                </td>
                                <td style="text-align: right;" id="editor-metrics"></td>
                                
                                <td style="text-align:right;">
                                    <input id="id_wiki" name="wiki" type="checkbox" /> 
                                    <span style="font-weight:normal;cursor:help" 
                                        title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown">
                                            <label for="id_wiki">community wiki:</label> 
                                    </span>
                                </td>
                                
                            </tr>

                        </table>
                    </div>
                    
                    <div id="previewer" class="wmd-preview"></div>
                </div>

                

                <p><span class="form-error"></span></p>
                <input type="button"
                    
                        value="Login/Signup to Post Your Answer" 
                    
                    class="submit" style="float:left" onclick="submitClicked(event, this.form)"/>
            
        </form>
    </div>
</div>


        </div>
        <div id="CARight">
            
<div class="boxC" id="subscription_box">
    <h3 class="subtitle">Follow this question</h3><strong>By Email:</strong><p>Once you sign in you will be able to subscribe for any updates here</p><strong>By RSS:</strong><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/56586/a-question-about-window-scaling?type=rss" title="subscribe to answers"></a>
    Answers
</p><p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');"
        href="/questions/56586/a-question-about-window-scaling?type=rss&comments=yes" title="subscribe to comments and answers"></a>
    Answers and Comments
</p>

</div>


<div class="boxC" id="editor_side_bar">
    <p class="subtitle darkred">Markdown Basics</p>
    <ul class="list-item">
        <li>
            *italic* or _italic_
        </li>
        <li>
			**bold** or __bold__
        </li>
        <li>
            <b>link</b>:[text](http://url.com/ "title")

        </li>

        <li>
            <b>image</b>?![alt text](/path/img.jpg "title")

        </li>
        <li>
			numbered list:
            1.  Foo
            2.  Bar
        </li>
        <li>
			to add a line break simply add two spaces to where you would like the new line to be.
        </li>
        <li>
			basic HTML tags are also supported
        </li>
    </ul>
    <p class='info-box-follow-up-links'>
        <a href="/markdown_help/" target="_blank">learn more about Markdown </a>
    </p>
</div>



<div id="sidebar-upper" class="boxC">
    <div class="body">
        <h2>You have a trillion packets.</h2>
<h3>You need to see four of them.</h3>
<p><a href="http://www.riverbed.com/products-solutions/products/network-performance-management/">Riverbed Technology</a> lets you seamlessly move between packets and flows for comprehensive monitoring, analysis and troubleshooting.</p>
<p><a href="http://www.riverbed.com/us/products/cascade/wireshark_enhancements/"><img style="margin-left: 39px;" src="https://www.wireshark.org/image/logo_riverbed_150.png"></a></p>
<p>Riverbed is Wireshark's primary sponsor and provides our funding.</p>
     </div>
</div>




<div class="boxC">
    <p>
        Question tags:
    </p>
    <p class="tags" >
        
        <a href="/tags/windowscaling/"
            class="tag-link-windowscaling"
            title="see questions tagged'windowscaling'using tags"
            rel="tag">windowscaling</a> <span class="tag-number">&#215;5</span><br/>
        
    </p>
    <p>
        question asked: <strong title="Oct. 23, 2016, 12:36 a.m.">23 Oct '16, 00:36</strong>
    </p>
    <p> 
     	question was seen: <strong>5,641 times</strong>
    </p>
    <p> 
        last updated: <strong title="Oct. 23, 2016, 10:46 p.m.">23 Oct '16, 22:46</strong>
    </p>
</div>


<div id="sidebar-lower" class="boxC">
    <div class="body">
        <h2>Don't have Wireshark?</h2>
<p>What are you waiting for? It's free! Wireshark documentation and downloads can be found at the <a href="https://www.wireshark.org/"><strong>Wireshark web site</strong></a>.</p>
     </div>
</div>


<div class="boxC">
    <h3 class="subtitle">Related questions</h3>
    <div class="questions-related">

        
        <p>
            <a href="/questions/5111/how-can-i-tshark-a-folder-full-of-tracefiles-for-the-biggest-tcp-stream-in-each-trace">How can i tshark a folder full of tracefiles for the biggest tcp stream in each trace?</a>
        </p>
        
        <p>
            <a href="/questions/11318/low-wan-throughput-tcp-window-scaling">Low WAN Throughput TCP Window scaling</a>
        </p>
        
        <p>
            <a href="/questions/56131/using-wireshark-to-determine-if-windows-scaling-is-affecting-transfer-rate">Using wireshark to determine if windows scaling is affecting transfer rate.</a>
        </p>
        
        <p>
            <a href="/questions/57569/what-determines-tcp-window-size-scaling-factor">What Determines TCP Window Size Scaling Factor?</a>
        </p>
        

    </div>
</div>



        </div>
        <div id="tail" style="clear:both;">
            
            
        </div>
    </div>
    <div class="spacer3"></div>
</div>

        
            <div id="ground">
                


<div>
    <div class="footerLinks" >
         <a href="/about/" >about</a> <span class="link-separator"> |</span> <a href="/faq/" >faq</a> <span class="link-separator"> |</span> <a href="/privacy/" >privacy</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" target="_blank">support</a> <span class="link-separator"> |</span> <a href="https://bugs.wireshark.org/" >contact</a> 
    </div>
  <p>
        p&#8203;o&#8203;w&#8203;e&#8203;r&#8203;e&#8203;d by &#79;&#8203;&#83;&#8203;&#81;&#8203;&#65;
  </p>
</div>
 <div id="licenseLogo">
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
            <img src="/m/default/media/images/by-sa-88x31.png" title="Creative Commons: Attribution - Share Alike" alt="cc-by-sa" width="88" height="31" />
  </a>
 </div>


            </div>
        
        

        
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-605389-6']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
        
        </div>

        <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ -->
        <div class="notify" style="display:none">
            
                
                    
                          <p class="darkred">First time here? Check out the <a href="/faq/">FAQ</a>!</p>
                    
                
            
            <a id="close-notify" onclick="notify.close(true)">&#215;</a>
        </div>
    </body>
</html>
<!-- end template base_content.html -->
