+++
type = "question"
title = "Do relations auto-delete when there are no members?"
description = '''If I remove all the ways (2, in this case) from a relation, does the relation automatically get deleted? I needed to basically &#x27;merge&#x27; 2 route relations, but it was easier to just remove the 2 ways that were in the wrong relation and add them to the right one, then delete the empty relation. But aft...'''
date = "2016-09-11T01:33:00Z"
lastmod = "2016-09-18T02:49:00Z"
weight = 51979
keywords = [ "ideditor", "relations" ]
aliases = [ "/questions/51979" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [Do relations auto-delete when there are no members?](/questions/51979/do-relations-auto-delete-when-there-are-no-members)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-51979-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-51979-score" class="post-score" title="current number of votes">
3
</div>
<span id="post-51979-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>If I remove all the ways (2, in this case) from a relation, does the relation automatically get deleted?</p>
<p>I needed to basically 'merge' 2 route relations, but it was easier to just remove the 2 ways that were in the wrong relation and add them to the right one, then delete the empty relation. But after removing the 2 ways, I couldn't see any way to select the empty relation. Looking at the changeset information later, it looks like it got deleted automatically. Is this correct?</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-ideditor" rel="tag" title="see questions tagged &#39;ideditor&#39;">ideditor</span> <span class="post-tag tag-link-relations" rel="tag" title="see questions tagged &#39;relations&#39;">relations</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>11 Sep '16, 01:33</strong></p>
<img src="https://secure.gravatar.com/avatar/c1e98ded2982cd352d4c77075aa0cd74?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="ljb_nj&#39;s gravatar image" />
<p><span>ljb_nj</span><br />
<span class="score" title="659 reputation points">659</span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="ljb_nj has one accepted answer">12%</span></p>
</div>
</div>
<div id="comments-container-51979" class="comments-container">
<span id="51981"></span>
<div id="comment-51981" class="comment">
<div id="post-51981-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>I would like to see some wiki page on the topic of editing existing relations, in JOSM. I always feel like I am screwing them up, and when I try to delete them entirely, I often get errors that have me poking around trying to fix it. I hope someone answering this question can point us to a good online tutorial.</p>
</div>
<div id="comment-51981-info" class="comment-info">
<span class="comment-age">(11 Sep '16, 03:25)</span> <span class="comment-user userinfo">mtc</span>
</div>
</div>
<span id="51987"></span>
<div id="comment-51987" class="comment">
<div id="post-51987-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>If you think it's worth creating a wiki page about something then obviously go ahead and create it - it's a wiki!</p>
<p>If you want to go through various drafts and get other people's opinions on it before making it "live" then create it below your user account and ask for feedback on it first.</p>
</div>
<div id="comment-51987-info" class="comment-info">
<span class="comment-age">(11 Sep '16, 10:09)</span> <span class="comment-user userinfo">SomeoneElse ♦</span>
</div>
</div>
<span id="51989"></span>
<div id="comment-51989" class="comment">
<div id="post-51989-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>With SimonPoole's hint, I looked further at the specific editor, and found this iD issue: <a href="https://github.com/openstreetmap/iD/issues/465">"What to do with emptied relations"</a>.</p>
<p>The resolution of that issue was that iD does delete any relation that becomes empty.</p>
</div>
<div id="comment-51989-info" class="comment-info">
<span class="comment-age">(11 Sep '16, 15:48)</span> <span class="comment-user userinfo">ljb_nj</span>
</div>
</div>
</div>
<div id="comment-tools-51979" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-51979-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="51985"></span>

<div id="answer-container-51985" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-51985-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-51985-score" class="post-score" title="current number of votes">
8
</div>
<span id="post-51985-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>The OSM API does not delete empty relations*. Depending on what you are using your editor may do so, but I'm not aware of one that does. A warning is clearly in order, auto-deleting is probably not (there are a couple of reasons why you temporarily might want to keep an empty relation around).</p>
<p>Relations are really easy, they are simply lists of other OSM objects.</p>
<p>Difficulties happen because some times they are very large (and very large lists are hard to manipulate in any medium) and when there are complicated implied or explicit rules in the tagging scheme that define the required relationships between the objects in the relations.</p>
<p>JOSM has of late started popping up relation related error messages that are a nuisance and are not really helpful. Typically for example when splitting a way you want the resulting two parts to remain in the relation except if the relation in question is a turn restriction. This however can easily be handled by the editor without involving the user at the time they are splitting the way.</p>
<p>(* empty relations have no associated geometry and as such will not be retrievable except if their id is known once they are stored in the database, so in general they are useless.)</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>11 Sep '16, 08:53</strong></p>
<img src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SimonPoole&#39;s gravatar image" />
<p><span>SimonPoole ♦</span><br />
<span class="score" title="44667 reputation points"><span>44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SimonPoole has 209 accepted answers">18%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>11 Sep '16, 09:00</strong> </span></p>
</div>
</div>
<div id="comments-container-51985" class="comments-container">
<span id="51988"></span>
<div id="comment-51988" class="comment">
<div id="post-51988-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>I'm using iD (I put that in the tags, but I should have mentioned it too).</p>
<p>Here is the changeset: <a href="https://www.openstreetmap.org/changeset/42068474">https://www.openstreetmap.org/changeset/42068474</a></p>
<p>I deleted all (2) ways from this relation: <a href="https://www.openstreetmap.org/relation/5880967">https://www.openstreetmap.org/relation/5880967</a></p>
<p>The history of that relation is that it used to have 2 member ways: <a href="https://www.openstreetmap.org/relation/5880967/history">https://www.openstreetmap.org/relation/5880967/history</a></p>
<p>I'm pretty sure I just removed the relation from both those ways, but did nothing to delete the relation. Yet the changeset says the relation was deleted. Perhaps iD did that?</p>
<p>I agree that in general automatically deleting a relation that becomes empty would be a bad idea. But perhaps it makes sense for iD, given the typical user base (such as me).</p>
</div>
<div id="comment-51988-info" class="comment-info">
<span class="comment-age">(11 Sep '16, 15:21)</span> <span class="comment-user userinfo">ljb_nj</span>
</div>
</div>
<span id="51998"></span>
<div id="comment-51998" class="comment">
<div id="post-51998-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>The wiki has a useful <a href="https://wiki.openstreetmap.org/wiki/Empty_relations">article about empty relations</a>, including a link to a tool that lists them, and some hint on why they appear and how to handle them. Info about iD is currently missing, if you use that editor please update the wiki page.</p>
</div>
<div id="comment-51998-info" class="comment-info">
<span class="comment-age">(12 Sep '16, 09:14)</span> <span class="comment-user userinfo">Vincent de P... ♦</span>
</div>
</div>
</div>
<div id="comment-tools-51985" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-51985-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="52091"></span>

<div id="answer-container-52091" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-52091-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-52091-score" class="post-score" title="current number of votes">
2
</div>
<span id="post-52091-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Yes, iD does delete the Relation when it no longer has any members.</p>
<p>see: <a href="https://github.com/openstreetmap/iD/blob/c8e4f76c230512dc82dc060bf337e3ba489b113e/modules/actions/delete_member.js#L10-L11"><code>delete_member.js</code></a> and <a href="https://github.com/openstreetmap/iD/blob/c8e4f76c230512dc82dc060bf337e3ba489b113e/modules/core/relation.js#L67-L69"><code>relation.js#isDegenerate</code></a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>18 Sep '16, 02:49</strong></p>
<img src="https://secure.gravatar.com/avatar/5372740989fdca18458f194a285fcb3e?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="bhousel&#39;s gravatar image" />
<p><span>bhousel</span><br />
<span class="score" title="2089 reputation points"><span>2.1k</span></span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="25 badges"><span class="silver">●</span><span class="badgecount">25</span></span><span title="28 badges"><span class="bronze">●</span><span class="badgecount">28</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="bhousel has 13 accepted answers">38%</span></p>
</div>
</div>
<div id="comments-container-52091" class="comments-container">
&#10;</div>
<div id="comment-tools-52091" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-52091-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

