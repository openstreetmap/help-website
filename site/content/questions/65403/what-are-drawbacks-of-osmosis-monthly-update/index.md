+++
type = "question"
title = "What are drawbacks of Osmosis Monthly Update?"
description = '''I have made a tile server importing full planet data. I want to keep my database updated to openstreetmap changes using osmosis as explained in this tutorial. This tutorial emphasizes on keeping database updated to minutely or daily changes in openstreetmap data. My question is that - will there be ...'''
date = "2018-08-17T14:01:00Z"
lastmod = "2018-08-19T16:10:00Z"
weight = 65403
keywords = [ "openstreetmap-carto", "diff", "renderd", "osmosis", "mod_tile" ]
aliases = [ "/questions/65403" ]
osqa_answers = 1
osqa_accepted = true
+++

<div class="headNormal">

# [What are drawbacks of Osmosis Monthly Update?](/questions/65403/what-are-drawbacks-of-osmosis-monthly-update)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-65403-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-65403-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-65403-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I have made a tile server importing full planet data. I want to keep my database updated to openstreetmap changes using osmosis as explained in <a href="https://ircama.github.io/osm-carto-tutorials/updating-data/">this tutorial</a>. <a href="https://ircama.github.io/osm-carto-tutorials/updating-data/">This tutorial</a> emphasizes on keeping database updated to minutely or daily changes in openstreetmap data.</p>
<p>My question is that - will there be any problem if I apply osm database update scripts on monthly basis? The <a href="https://ircama.github.io/osm-carto-tutorials/updating-data/">tutorial</a> also says that monthly update may take much time as the changeset will be large. Does anyone here have an idea of how much time will it take approximately for applying monthly changesets?[ Given that I am using 1TB SSD for Database, 64GB RAM and 10 virtual cpu ]</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-openstreetmap-carto" rel="tag" title="see questions tagged &#39;openstreetmap-carto&#39;">openstreetmap-carto</span> <span class="post-tag tag-link-diff" rel="tag" title="see questions tagged &#39;diff&#39;">diff</span> <span class="post-tag tag-link-renderd" rel="tag" title="see questions tagged &#39;renderd&#39;">renderd</span> <span class="post-tag tag-link-osmosis" rel="tag" title="see questions tagged &#39;osmosis&#39;">osmosis</span> <span class="post-tag tag-link-mod_tile" rel="tag" title="see questions tagged &#39;mod_tile&#39;">mod_tile</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>17 Aug '18, 14:01</strong></p>
<img src="https://secure.gravatar.com/avatar/943a788b771da12a63057582fbf250b0?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="anuranpal&#39;s gravatar image" />
<p><span>anuranpal</span><br />
<span class="score" title="21 reputation points">21</span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="12 badges"><span class="silver">●</span><span class="badgecount">12</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="anuranpal has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>17 Aug '18, 19:08</strong> </span></p>
<img src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="aseerel4c26&#39;s gravatar image" />
<p><span>aseerel4c26 ♦</span><br />
<span class="score" title="32615 reputation points"><span>32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div id="comments-container-65403" class="comments-container">
&#10;</div>
<div id="comment-tools-65403" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-65403-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="65404"></span>

<div id="answer-container-65404" class="answer accepted-answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-65404-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-65404-score" class="post-score" title="current number of votes">
5
</div>
<span id="post-65404-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span class="accept-answer on" rel="nofollow" title="anuranpal has selected this answer as the correct answer"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>In my experience, somewhere along the two-week mark there comes the point when a full new data import will be faster than applying diffs. Applying diffs is generally much more "expensive" than importing into a new database, that's why such a point exists. If you settle for a method where you do a full import every month, this also means you can import with the <code>--drop</code> option which will approximately halve your database size. You can then import into a new database, and when done, you delete the old and rename the new. Total disk space needed for this procedure is a bit (maybe 20%?) more than having one full, updatable database, because during the import of the new database a couple of temporary tables are needed. But during normal use your database will be leaner, faster, and not suffer from index bloat.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>17 Aug '18, 14:40</strong></p>
<img src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Frederik%20Ramm&#39;s gravatar image" />
<p><span>Frederik Ramm ♦</span><br />
<span class="score" title="82494 reputation points"><span>82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Frederik Ramm has 417 accepted answers">23%</span></p>
</div>
</div>
<div id="comments-container-65404" class="comments-container">
<span id="65443"></span>
<div id="comment-65443" class="comment">
<div id="post-65443-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p><a href="https://help.openstreetmap.org/users/104/frederik-ramm"></a><a href="https://help.openstreetmap.org/users/104/frederik-ramm">@frederik</a> if I use a new database, how will I identify the tile list that needs to be expired? In my case I prerender tiles upto zoom level 13 in disk. So, does it mean that I need to rerender all those tiles as well?</p>
</div>
<div id="comment-65443-info" class="comment-info">
<span class="comment-age">(19 Aug '18, 16:07)</span> <span class="comment-user userinfo">anuranpal</span>
</div>
</div>
<span id="65444"></span>
<div id="comment-65444" class="comment">
<div id="post-65444-score" class="comment-score">
2
</div>
<div class="comment-text">
<p>Typically, what you do in this scenario is you create a file named "planet-import-complete" in your tile directory when you have finished the import. mod_tile will then look at the time stamp of a tile in the cache, and consider it "old" when its time stamp is older than that of the planet import. "old" tiles will then be re-rendered either on the fly or in the background, depending on your setting of the <code>ModTileRequestTimeout</code> configuration option. -- There is no way to explicitly determine which tiles have changed, but after a month, chances are that most tiles have changed anyway!</p>
</div>
<div id="comment-65444-info" class="comment-info">
<span class="comment-age">(19 Aug '18, 16:10)</span> <span class="comment-user userinfo">Frederik Ramm ♦</span>
</div>
</div>
</div>
<div id="comment-tools-65404" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-65404-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

