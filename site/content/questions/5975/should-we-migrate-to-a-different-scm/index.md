+++
type = "question"
title = "Should we migrate to a different SCM?"
description = '''For a long time people have suggested that we migrate from Subversion  (our current version control system) to Git or  Mercurial. This isn&#x27;t a trivial undertaking, but if the CVS to Subversion migration in 2004 is any indication it would definitely be worthwhile. Unfortunately the path forward isn&#x27;t...'''
date = "2011-08-30T16:37:00Z"
lastmod = "2011-08-31T07:56:00Z"
weight = 5975
keywords = [ "svn", "development", "git", "hg" ]
aliases = [ "/questions/5975" ]
osqa_answers = 5
osqa_accepted = false
+++

<div class="headNormal">

# [Should we migrate to a different SCM?](/questions/5975/should-we-migrate-to-a-different-scm)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-5975-score" class="post-score" title="current number of votes">8</div><div id="favorite-count" class="favorite-count">4</div></div></td><td><div id="item-right"><div class="question-body"><p>For a <a href="http://www.wireshark.org/lists/wireshark-dev/200911/msg00058.html">long time</a> people have suggested that we migrate from <a href="http://subversion.apache.org/">Subversion</a> (our current version control system) to <a href="http://git-scm.com/">Git</a> or <a href="http://mercurial.selenic.com/">Mercurial</a>. This isn't a trivial undertaking, but if the CVS to Subversion migration in 2004 is any indication it would definitely be worthwhile.</p><p>Unfortunately the path forward isn't obvious. Subversion, Git and Mercurial all work well. It's also unclear how much trouble switching away from Subversion would cause any downstream organizations who maintain their own versions of Wireshark. As a result I'm asking for input from the development community.</p><p>Please vote for your preferred course of action below. Feel free to add additional answers as you see fit. If you downvote an answer, please explain your reason in a comment.</p><p>As with any other question on this site, the accepted answer may not necessarily be the one with the most votes. :)</p></div><div id="question-tags" class="tags-container tags">svn development git hg</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>30 Aug '11, 16:37</strong></p><img src="https://secure.gravatar.com/avatar/6db117a984c6529df88330dc49fb1ee4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gerald%20Combs&#39;s gravatar image" /><p>Gerald Combs ♦♦<br />
<span class="score" title="3332 reputation points"><span>3.3k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="58 badges"><span class="bronze">●</span><span class="badgecount">58</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gerald Combs has 32 accepted answers">24%</span></p></div></div><div id="comments-container-5975" class="comments-container"><span id="6038"></span><div id="comment-6038" class="comment"><div id="post-6038-score" class="comment-score">1</div><div class="comment-text"><p>...and don't add an answer if you're just supporting one of the existing answers - vote up the existing answer in question and, if you have something more to say, add a comment to it.</p></div><div id="comment-6038-info" class="comment-info"><span class="comment-age">(31 Aug '11, 17:21)</span> Guy Harris ♦♦</div></div></div><div id="comment-tools-5975" class="comment-tools"></div><div class="clear"></div><div id="comment-5975-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

5 Answers:

</div>

</div>

<span id="5977"></span>

<div id="answer-container-5977" class="answer accepted-answer answered-by-owner">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-5977-score" class="post-score" title="current number of votes">18</div></div></td><td><div class="item-right"><div class="answer-body"><p>Migrate to Git! Linus knows best.</p><p>If you'd like to test Git a mirror of the SVN repository is available for cloning and browsing at http://code.wireshark.org/git/wireshark. (This isn't an endorsment of Git; we simply have a lot of vocal Git fans.)</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '11, 16:38</strong></p><img src="https://secure.gravatar.com/avatar/6db117a984c6529df88330dc49fb1ee4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gerald%20Combs&#39;s gravatar image" /><p>Gerald Combs ♦♦<br />
<span class="score" title="3332 reputation points"><span>3.3k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="58 badges"><span class="bronze">●</span><span class="badgecount">58</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gerald Combs has 32 accepted answers">24%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 30 Aug '11, 16:43</p></div></div><div id="comments-container-5977" class="comments-container"><span id="5982"></span><div id="comment-5982" class="comment"><div id="post-5982-score" class="comment-score">2</div><div class="comment-text"><p>Must read:</p><ul><li><a href="http://stackoverflow.com/questions/871/why-is-git-better-than-subversion">Why is Git better than Subversion?</a></li><li><a href="http://stackoverflow.com/questions/740053/why-should-i-use-git-instead-of-svn">Why should I use git instead of svn?</a></li></ul></div><div id="comment-5982-info" class="comment-info"><span class="comment-age">(30 Aug '11, 19:05)</span> helloworld</div></div><span id="5993"></span><div id="comment-5993" class="comment"><div id="post-5993-score" class="comment-score">1</div><div class="comment-text"><p>For developing the DVB-CI dissector, I import the svn repository into git. This allows me to keep local branches for new things I'm trying out. I can easily merge things between those branches and keep them in sync with updates made by others.</p><p>If I used svn directly, I'd have no chance to commit things locally (and I'm not allowed to commit directly to the svn repository ;-( ).</p></div><div id="comment-5993-info" class="comment-info"><span class="comment-age">(31 Aug '11, 00:48)</span> MartinKaiser</div></div><span id="6019"></span><div id="comment-6019" class="comment"><div id="post-6019-score" class="comment-score"></div><div class="comment-text"><p>I was also using git-svn. hopefully we get git as a main SCM.</p></div><div id="comment-6019-info" class="comment-info"><span class="comment-age">(31 Aug '11, 11:24)</span> Andrei Emelt...</div></div><span id="6025"></span><div id="comment-6025" class="comment"><div id="post-6025-score" class="comment-score">1</div><div class="comment-text"><p>The git (or other dvcs) workflow outside of linux kernel work isn't clear to me. Does Gerald create a repo that core devs have push privs on, or does Gerald (or someone else) have to respond to pull requests and then deal with merge issues?</p><p>How can access to the buildbots be delivered for repos other than the "main" one?</p></div><div id="comment-6025-info" class="comment-info"><span class="comment-age">(31 Aug '11, 12:42)</span> grahamb ♦</div></div><span id="6028"></span><div id="comment-6028" class="comment not_top_scorer"><div id="post-6028-score" class="comment-score"></div><div class="comment-text"><p>I think buildbot shoue automatically build Core Devs' repositories and commits should enter main after having at least one successful build in any of the Core Developers repositories.</p></div><div id="comment-6028-info" class="comment-info"><span class="comment-age">(31 Aug '11, 13:43)</span> rbalint</div></div><span id="6043"></span><div id="comment-6043" class="comment not_top_scorer"><div id="post-6043-score" class="comment-score"></div><div class="comment-text"><p>@grahamb workflow can be defined as you want to. And as far as I know, it has not been defined for wireshark yet. Could be a different thread on the mailing list.</p><p>For sure, Gerald (nor a <em>1</em> someone else) would not have to deal with merge issues. Each contributor would have to lead with merge issues.</p></div><div id="comment-6043-info" class="comment-info"><span class="comment-age">(01 Sep '11, 04:25)</span> standel</div></div><span id="6076"></span><div id="comment-6076" class="comment not_top_scorer"><div id="post-6076-score" class="comment-score"></div><div class="comment-text"><p>What I want most is to be able to checkpoint one or more intermediate states of my current patch before its ready to submit. E.g. - builds under linux - first working version - builds under windows - passes checkAPIs and be able to diff/revert back to them, before pushing a single, complete change to the main repo. I would want this branch to be local/private - I doubt I'd want to share my branch with anyone else. Would git enable this workflow for me?</p></div><div id="comment-6076-info" class="comment-info"><span class="comment-age">(04 Sep '11, 15:03)</span> MartinM</div></div><span id="6078"></span><div id="comment-6078" class="comment"><div id="post-6078-score" class="comment-score">1</div><div class="comment-text"><p>@MartinM:</p><p>Yes, with git you in fact build a sequence of commits (changeset) on top of the last public commit. The order of these commits can be changed, you can aggregate two or more commits in one, or split one in multiple commits or modify (amend) a commit. You can rebase at any time (i.e. download the latest public commits and move your changeset in front of them) - I personally rebase all my branches each morning. Commits can be copied between branches, bisection can be used to find what commit introduced a bug.</p><p>When your changeset is ready, you can send it to a commiter.</p></div><div id="comment-6078-info" class="comment-info"><span class="comment-age">(04 Sep '11, 17:41)</span> petithug</div></div><span id="6096"></span><div id="comment-6096" class="comment not_top_scorer"><div id="post-6096-score" class="comment-score"></div><div class="comment-text"><p>@MartinM, I think you can do this already with git-svn as MartinK posted above. See also <a href="http://stackoverflow.com/questions/1129688/git-svn-workflow-feature-branches-and-merge">HERE</a>.</p></div><div id="comment-6096-info" class="comment-info"><span class="comment-age">(05 Sep '11, 08:16)</span> grahamb ♦</div></div><span id="6188"></span><div id="comment-6188" class="comment not_top_scorer"><div id="post-6188-score" class="comment-score"></div><div class="comment-text"><p>Remember how the site of linux kernel was attacked a few days ago (http://lxnews.org/2011/09/02/linux-kernel-website-hacked/)?</p><p>I don't know if it is like what I imagined, but I'm sure the source codes (and the SHA-1 hash values) were secure enough since they are distributed among the core developers. Thus any eventual changes in the codes and/or the hash values by the attacker could be easily checked.</p><p>This is one major advantage of git, but surely it depends on which git model is used.</p></div><div id="comment-6188-info" class="comment-info"><span class="comment-age">(07 Sep '11, 07:54)</span> francesc</div></div><span id="6197"></span><div id="comment-6197" class="comment not_top_scorer"><div id="post-6197-score" class="comment-score"></div><div class="comment-text"><p>@petithug, "When your changeset is ready, you can send it to a commiter." Which committer? I don't think that would work well in practice as committer availability/knowledge/time varies. I think a workflow that still involves Bugzilla is more practical.</p></div><div id="comment-6197-info" class="comment-info"><span class="comment-age">(07 Sep '11, 16:22)</span> cmaynard ♦♦</div></div><span id="6199"></span><div id="comment-6199" class="comment not_top_scorer"><div id="post-6199-score" class="comment-score"></div><div class="comment-text"><p>@cmaynard, I haven't yet used Gerrit myself, but its <a href="http://source.android.com/source/life-of-a-patch.html">workflow</a> (taken from <a href="http://gerrit-documentation.googlecode.com/svn/Documentation/2.1.7/index.html">Gerrit docs</a>) shows that once a patch is submitted, Gerrit automatically notifies the project owners/verifiers while the submitter notifies reviewers through Gerrit. These steps closely match up to the current patch submittal process with Bugzilla.</p></div><div id="comment-6199-info" class="comment-info"><span class="comment-age">(07 Sep '11, 16:58)</span> helloworld</div></div><span id="6200"></span><div id="comment-6200" class="comment not_top_scorer"><div id="post-6200-score" class="comment-score"></div><div class="comment-text"><p>@cmaynard, ...and Gerrit supports side-by-side or unified diff for patches (something Bugzilla does not). See Gerrit <a href="http://unethicalblogger.com/2009/12/07/code-review-with-gerrit-a-mostly-visual-guide.html">screenshots</a> (probably slightly outdated).</p></div><div id="comment-6200-info" class="comment-info"><span class="comment-age">(07 Sep '11, 17:04)</span> helloworld</div></div><span id="6201"></span><div id="comment-6201" class="comment not_top_scorer"><div id="post-6201-score" class="comment-score"></div><div class="comment-text"><p>@helloworld, it's nice that gerrit allows you to compare side-by-side or unified, but my comment about viewcvs was geared toward comparing changes already committed.</p></div><div id="comment-6201-info" class="comment-info"><span class="comment-age">(07 Sep '11, 18:09)</span> cmaynard ♦♦</div></div><span id="6205"></span><div id="comment-6205" class="comment not_top_scorer"><div id="post-6205-score" class="comment-score"></div><div class="comment-text"><p>@cmaynard: That was just an example. You can send it to a mailing list (there is even a git command to send it directly), store it in Bugzilla, or push it in something like Gerrit. See my comments below about a workflow that can be implemented with Gerrit.</p></div><div id="comment-6205-info" class="comment-info"><span class="comment-age">(07 Sep '11, 23:15)</span> petithug</div></div><span id="6221"></span><div id="comment-6221" class="comment not_top_scorer"><div id="post-6221-score" class="comment-score"></div><div class="comment-text"><p>@cmaynard, I agree with your thoughts on viewgit, and I wasn't arguing that (otherwise, I would've commented on that post instead of this one). I was only pointing out that Gerrit has better diff support for patches than Bugzilla does.</p></div><div id="comment-6221-info" class="comment-info"><span class="comment-age">(08 Sep '11, 15:34)</span> helloworld</div></div></div><div id="comment-tools-5977" class="comment-tools"><span class="comments-showing"> showing 5 of 16 </span> <a href="#" class="show-all-comments-link">show 11 more comments</a></div><div class="clear"></div><div id="comment-5977-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="5976"></span>

<div id="answer-container-5976" class="answer answered-by-owner">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-5976-score" class="post-score" title="current number of votes">6</div></div></td><td><div class="item-right"><div class="answer-body"><p>Stay with Subversion! It does what I need, and I don't need any more.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '11, 16:38</strong></p><img src="https://secure.gravatar.com/avatar/6db117a984c6529df88330dc49fb1ee4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gerald%20Combs&#39;s gravatar image" /><p>Gerald Combs ♦♦<br />
<span class="score" title="3332 reputation points"><span>3.3k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="58 badges"><span class="bronze">●</span><span class="badgecount">58</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gerald Combs has 32 accepted answers">24%</span></p></div></div><div id="comments-container-5976" class="comments-container"><span id="5981"></span><div id="comment-5981" class="comment"><div id="post-5981-score" class="comment-score">2</div><div class="comment-text"><p>Change for the sake of change is silly. What are the current issues which Subversion cannot handle?</p></div><div id="comment-5981-info" class="comment-info"><span class="comment-age">(30 Aug '11, 18:48)</span> MavEtJu</div></div><span id="5986"></span><div id="comment-5986" class="comment"><div id="post-5986-score" class="comment-score"></div><div class="comment-text"><p>Our inhouse version and merge procedures is setup to use SVN</p></div><div id="comment-5986-info" class="comment-info"><span class="comment-age">(30 Aug '11, 21:39)</span> Anders ♦</div></div><span id="5992"></span><div id="comment-5992" class="comment"><div id="post-5992-score" class="comment-score"></div><div class="comment-text"><p>My preferred option too, but see my comment to SYNbit's answer about making use of feature branches.</p></div><div id="comment-5992-info" class="comment-info"><span class="comment-age">(31 Aug '11, 00:03)</span> grahamb ♦</div></div><span id="5998"></span><div id="comment-5998" class="comment"><div id="post-5998-score" class="comment-score">1</div><div class="comment-text"><p>With svn feature branches are not available for everyone. Only for core developers! With git, feature branches are available for everyone.</p></div><div id="comment-5998-info" class="comment-info"><span class="comment-age">(31 Aug '11, 06:44)</span> standel</div></div><span id="6014"></span><div id="comment-6014" class="comment"><div id="post-6014-score" class="comment-score"></div><div class="comment-text"><p>Slightly different aim with feature branches and local branches. I would think that most if not all dvcs would support local branches.</p></div><div id="comment-6014-info" class="comment-info"><span class="comment-age">(31 Aug '11, 09:30)</span> grahamb ♦</div></div><span id="6037"></span><div id="comment-6037" class="comment not_top_scorer"><div id="post-6037-score" class="comment-score"></div><div class="comment-text"><p>Please do <em>NOT</em> post your own answers to the question if you're just going to vote for git/Subversion/Mercurial; this is kind of a "funny" question, in that the votes for the answers will be treated as votes for the choices given by Gerald's answers. I've converted "Change for the sake of change is silly. What are the current issues which Subversion cannot handle?" to a comment on "Stay with Subversion", and added its two votes to "Stay with Subversion".</p></div><div id="comment-6037-info" class="comment-info"><span class="comment-age">(31 Aug '11, 17:18)</span> Guy Harris ♦♦</div></div><span id="6198"></span><div id="comment-6198" class="comment not_top_scorer"><div id="post-6198-score" class="comment-score"></div><div class="comment-text"><p>Personally I think viewcvs is far superior to what I've seen from viewgit. I really like having the ability to view changes side by side. Maybe that is possible from viewgit? Also, I've read discussions about versioning, and maybe it's just me, but I just don't get it. With subversion, it's very easy to know that r38904 is older than svn r38928. With git, hashes don't tell me much. Then there's the workflow. I'm sure it's because of my lack of git knowledge, but I don't really understand the git workflow. If a switch to git is made, then I guess I've got some reading to do ...</p></div><div id="comment-6198-info" class="comment-info"><span class="comment-age">(07 Sep '11, 16:30)</span> cmaynard ♦♦</div></div></div><div id="comment-tools-5976" class="comment-tools"><span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a></div><div class="clear"></div><div id="comment-5976-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="5978"></span>

<div id="answer-container-5978" class="answer answered-by-owner">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-5978-score" class="post-score" title="current number of votes">4</div></div></td><td><div class="item-right"><div class="answer-body"><p>Migrate to Mercurial! Guido van Rossum and Joel Spolsky have the right idea.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '11, 16:40</strong></p><img src="https://secure.gravatar.com/avatar/6db117a984c6529df88330dc49fb1ee4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gerald%20Combs&#39;s gravatar image" /><p>Gerald Combs ♦♦<br />
<span class="score" title="3332 reputation points"><span>3.3k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="58 badges"><span class="bronze">●</span><span class="badgecount">58</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gerald Combs has 32 accepted answers">24%</span></p></div></div><div id="comments-container-5978" class="comments-container"><span id="6013"></span><div id="comment-6013" class="comment"><div id="post-6013-score" class="comment-score"></div><div class="comment-text"><p>Joel Spolsky has an excellent Mercurial tutorial: <a href="http://hginit.com/">Hg Init</a></p></div><div id="comment-6013-info" class="comment-info"><span class="comment-age">(31 Aug '11, 08:45)</span> Gerald Combs ♦♦</div></div><span id="6041"></span><div id="comment-6041" class="comment"><div id="post-6041-score" class="comment-score"></div><div class="comment-text"><p>The last time I checked (was two years ago or so...) Mercurial had a better Windows support than Git with a community actively supporting Microsoft OS.</p></div><div id="comment-6041-info" class="comment-info"><span class="comment-age">(31 Aug '11, 23:36)</span> Pascal Quantin</div></div><span id="6045"></span><div id="comment-6045" class="comment"><div id="post-6045-score" class="comment-score"></div><div class="comment-text"><p>@Pascal: How do you define "better"? Performance? Memory? OS integration (with File Explorer, etc.)?</p><p>In any case, a lot of improvements can happen in 2 years. I wouldn't vote based on outdated info.</p></div><div id="comment-6045-info" class="comment-info"><span class="comment-age">(01 Sep '11, 07:28)</span> bstn</div></div><span id="6206"></span><div id="comment-6206" class="comment"><div id="post-6206-score" class="comment-score"></div><div class="comment-text"><p>@bstn: I meant that core developers of Mercurial are Windows users and ensure that it works out of the box, fixing specific Windows issues. I also find the Mercurial user interface more intuitive (just a matter of taste) and globally it is really easy to use and perfectly suits my needs. But I will have another look at the current state of the art for Git as you suggested.</p></div><div id="comment-6206-info" class="comment-info"><span class="comment-age">(07 Sep '11, 23:54)</span> Pascal Quantin</div></div></div><div id="comment-tools-5978" class="comment-tools"></div><div class="clear"></div><div id="comment-5978-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="6008"></span>

<div id="answer-container-6008" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-6008-score" class="post-score" title="current number of votes">2</div></div></td><td><div class="item-right"><div class="answer-body"><p>I already use the Subversion under git (using git svn), so staying with Subversion is OK for me. On the other hand I voted for git because the work-flow that git naturally favors makes for better commits - if one ever try to do some bisecting on the git tree, one would discover that the current work flow is more like "commit until it builds", than the "commit a well-tested and peer reviewed changeset" that is the git way. Moving to git would, hopefully, naturally improve this.</p><p>It seems that it is also possible to use mercurial with git (http://hg-git.github.com/) but that seems rather difficult in the other direction.</p><p>But the sticky point will probably be that AFAIK it is not possible to use git (or mercurial) from svn and as you have to unlearn svn to learn git, that would leave a lot of developers unhappy. So if there is consensus on git then by all means switch to that, but I predict that we'll stay on subversion because people can use either svn, git or mercurial in this case. I just wish that the committers start using git (or mercurial) themselves, so we do not have as frequent breakage as today.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>31 Aug '11, 07:56</strong></p><img src="https://secure.gravatar.com/avatar/964d1f6d7ff1def4919656ece3974332?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="petithug&#39;s gravatar image" /><p>petithug<br />
<span class="score" title="31 reputation points">31</span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="petithug has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 31 Aug '11, 09:05</p></div></div><div id="comments-container-6008" class="comments-container"><span id="6015"></span><div id="comment-6015" class="comment not_top_scorer"><div id="post-6015-score" class="comment-score"></div><div class="comment-text"><p>As mentioned elsewhere, feature branches are the preferred svn method to handle large "breaking" changes.</p></div><div id="comment-6015-info" class="comment-info"><span class="comment-age">(31 Aug '11, 09:31)</span> grahamb ♦</div></div><span id="6022"></span><div id="comment-6022" class="comment not_top_scorer"><div id="post-6022-score" class="comment-score"></div><div class="comment-text"><blockquote><p>that the current work flow is more like "commit until it builds", &gt;than the "commit a well-tested and peer reviewed changeset" that is &gt;the git way. Moving to git would, hopefully, naturally improve this. That assumes more than one person picking up a branch testing it and submitting patches to it...Not sure how often that happens with wireshark. Today we have the support of the build bots to verify between platforms how to do that on GIT branches? or will it only happen at merge to master?</p></blockquote></div><div id="comment-6022-info" class="comment-info"><span class="comment-age">(31 Aug '11, 11:49)</span> Anders ♦</div></div><span id="6023"></span><div id="comment-6023" class="comment not_top_scorer"><div id="post-6023-score" class="comment-score"></div><div class="comment-text"><p>as mentioned in different places, "feature" branches with svn are not available to everyone ... only to core developers.</p></div><div id="comment-6023-info" class="comment-info"><span class="comment-age">(31 Aug '11, 12:24)</span> standel</div></div><span id="6027"></span><div id="comment-6027" class="comment"><div id="post-6027-score" class="comment-score">2</div><div class="comment-text"><p>@Anders: One could do creative things with multiple central repositories. For instance, have an 'incoming' staging repository that the buildbots use and only push to the 'main' repository when the buildbots are green.</p></div><div id="comment-6027-info" class="comment-info"><span class="comment-age">(31 Aug '11, 13:23)</span> leogah</div></div><span id="6029"></span><div id="comment-6029" class="comment not_top_scorer"><div id="post-6029-score" class="comment-score"></div><div class="comment-text"><p>Did I mention this <a href="http://nvie.com/posts/a-successful-git-branching-model/">Git branching model</a> before? I think it would be worthwhile working out the specifics for Wireshark development.</p></div><div id="comment-6029-info" class="comment-info"><span class="comment-age">(31 Aug '11, 13:57)</span> Jaap ♦</div></div><span id="6030"></span><div id="comment-6030" class="comment"><div id="post-6030-score" class="comment-score">3</div><div class="comment-text"><p>@Anders: One of the tools I put in place in my company is Gerrit, a peer review tool which is integrated with git. It in fact manages a central git repository, but still permits to all my developers (who are in 3 different continents) to develop offline and to need a connection only to upload a changeset, pull the latest version of the tree or do a review. This is the tool that Google is using for Android:</p><p>https://review.source.android.com</p></div><div id="comment-6030-info" class="comment-info"><span class="comment-age">(31 Aug '11, 14:20)</span> petithug</div></div><span id="6034"></span><div id="comment-6034" class="comment not_top_scorer"><div id="post-6034-score" class="comment-score"></div><div class="comment-text"><p>another very interesting code review tool is Review Board (http://www.reviewboard.org)</p><p>An example of a patch review : http://demo.reviewboard.org/r/48/diff/#index_header</p></div><div id="comment-6034-info" class="comment-info"><span class="comment-age">(31 Aug '11, 16:08)</span> standel</div></div><span id="6093"></span><div id="comment-6093" class="comment"><div id="post-6093-score" class="comment-score">2</div><div class="comment-text"><p>It seems that Buildbot can be integrated with Gerrit, which could permit to build a nice workflow: 1 Any developer can upload their changeset to Gerrit. 2 Buildbots automatically pull the changeset from Gerrit and build for various platforms. If a build fails, the changeset is marked as failed by the Buildbot, and the developer has to update the changeset. 3 A committer do a review of the code, the developer does the suggested modifications until the reviewer and the Buildbots are happy. 4 When the committer marks the changeset as reviewed, the changeset is committed in the central repository.</p></div><div id="comment-6093-info" class="comment-info"><span class="comment-age">(05 Sep '11, 07:36)</span> petithug</div></div><span id="6095"></span><div id="comment-6095" class="comment not_top_scorer"><div id="post-6095-score" class="comment-score"></div><div class="comment-text"><p>@ Jaap, I thought git made life simple, that seems very complex to me.</p></div><div id="comment-6095-info" class="comment-info"><span class="comment-age">(05 Sep '11, 08:10)</span> grahamb ♦</div></div><span id="6097"></span><div id="comment-6097" class="comment"><div id="post-6097-score" class="comment-score">1</div><div class="comment-text"><p>@petithug: Your suggested workflow with integrating git with gerrit sounds really good. I guess that would be a real advantage over having SVN for the central repository and having people use git-svn to use git locally.</p></div><div id="comment-6097-info" class="comment-info"><span class="comment-age">(05 Sep '11, 11:15)</span> SYN-bit ♦♦</div></div><span id="6191"></span><div id="comment-6191" class="comment not_top_scorer"><div id="post-6191-score" class="comment-score"></div><div class="comment-text"><p>@petithug &amp; SYNbit All that is lacking is the manpower :-) I think we are stuggling to keep up with bugzilla as it is.</p></div><div id="comment-6191-info" class="comment-info"><span class="comment-age">(07 Sep '11, 09:10)</span> Anders ♦</div></div><span id="6196"></span><div id="comment-6196" class="comment"><div id="post-6196-score" class="comment-score">2</div><div class="comment-text"><p>@Anders: IMO using Gerrit decreases the load on commiters. First of all the burden of rebasing is on the developer. Then with git and Gerrit it is better to split a big commit in multiple commits, so reviews are easier. The fact that you can directly comment on the web a commit (line by line) should also help (and anybody can comment on a patch). I used svn + patches in bugzilla for years, and switching to git + gerrit definitively improved things. I used the difference in time to implement more thorough peer reviews, so with the same resources I was able to produce a far better code.</p></div><div id="comment-6196-info" class="comment-info"><span class="comment-age">(07 Sep '11, 11:23)</span> petithug</div></div></div><div id="comment-tools-6008" class="comment-tools"><span class="comments-showing"> showing 5 of 12 </span> <a href="#" class="show-all-comments-link">show 7 more comments</a></div><div class="clear"></div><div id="comment-6008-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="5988"></span>

<div id="answer-container-5988" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-5988-score" class="post-score" title="current number of votes">1</div></div></td><td><div class="item-right"><div class="answer-body"><p>For me it does not really matter which SCM we use, as long as it does its job. Subversion does the job for me.</p><p>However, I run into problems when I develop stuff when it is something substantial (which I can not do in one run, so sometimes things lie on the shelf for months). The way I do it now is to save my partial diff and then re-patch when I continue.</p><p>No need to say that often (especially with the GUI stuff) I need to rewrite lots of stuff to make it even possible to reload my partial code.</p><p>I have not explored the possibilities of subversion to make my life easier in this regard, so it could be that subversion has could already make my life easier in this regard. If not another SCM which does have functionality in this area might be beneficial.</p><p>Can anyone with more experience on SCM's enlighten me on how I could make my life easier with any of the SCM's?</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '11, 22:24</strong></p><img src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SYN-bit&#39;s gravatar image" /><p>SYN-bit ♦♦<br />
<span class="score" title="17094 reputation points"><span>17.1k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">●</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">●</span><span class="badgecount">245</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SYN-bit has 174 accepted answers">20%</span></p></div></div><div id="comments-container-5988" class="comments-container"><span id="5990"></span><div id="comment-5990" class="comment"><div id="post-5990-score" class="comment-score"></div><div class="comment-text"><p>For longer lived pieces of development work we should make use of feature branches in svn.</p><p>A feature branch is created (usually in /reporoot/branches/nameofmyfeature) by copying from the trunk. The developer(s) switch their working copy to the branch and can commit away without upsetting anyone else. Other changes applied to the trunk are merged into the branch as required. When dev is complete, switch your working copy back to trunk, merge in your branch and test. When happy, commit back to trunk (using the --reintegrate option) and delete the branch.</p></div><div id="comment-5990-info" class="comment-info"><span class="comment-age">(31 Aug '11, 00:00)</span> grahamb ♦</div></div><span id="5991"></span><div id="comment-5991" class="comment"><div id="post-5991-score" class="comment-score"></div><div class="comment-text"><p>Pt2.</p><p>Note that you are free to switch your working copy (or create another) between trunk and feature branches at will to work on either, although you should make sure your working copy is free from local changes before doing so as you don't want to carry changes destined from the branch direct into the trunk and vice-versa.</p><p>To really make this useful it would be handy to direct the buildbots to do a run against a feature branch.</p></div><div id="comment-5991-info" class="comment-info"><span class="comment-age">(31 Aug '11, 00:01)</span> grahamb ♦</div></div><span id="5997"></span><div id="comment-5997" class="comment"><div id="post-5997-score" class="comment-score">1</div><div class="comment-text"><p>With svn, once you commit back to trunk, you have to delete your branch. Have you ever wonder why? With git (or mercurial), you don't need to!</p><p>feature branch with git is LOCAL, you don't need to have any write access to the server. Imagine all the non-core developers who want to create a feature branch? They don't have any commit access to wireshark svn server. Have you already thought of them?</p></div><div id="comment-5997-info" class="comment-info"><span class="comment-age">(31 Aug '11, 06:43)</span> standel</div></div><span id="6017"></span><div id="comment-6017" class="comment"><div id="post-6017-score" class="comment-score"></div><div class="comment-text"><p>@Graham: Thanks for the explanation on how to work on big changes. However, do I understand you correctly that I need to make a feature branch on the central repository to make this scheme work? I would rather keep my projects local until they are ready. Is this possible with svn (as you can see, I have not done any "homework" on svn).</p></div><div id="comment-6017-info" class="comment-info"><span class="comment-age">(31 Aug '11, 10:35)</span> SYN-bit ♦♦</div></div><span id="6024"></span><div id="comment-6024" class="comment"><div id="post-6024-score" class="comment-score"></div><div class="comment-text"><p>@standel, There is no absolute need to delete an svn feature branch but as work on it is complete after it has been merged to the trunk it''s usually deleted as a matter of hygiene. What you mustn't do is do further work on the feature branch and try to merge to trunk again.</p><p>@SYNbit, As svn is a centralised vcs then yes the feature branch must be created in the main repo. What this does allow, though is other folks to have visibility of the work (and collaborate) on the branch and for buildbots to attempt to build the branch.</p></div><div id="comment-6024-info" class="comment-info"><span class="comment-age">(31 Aug '11, 12:38)</span> grahamb ♦</div></div><span id="6035"></span><div id="comment-6035" class="comment not_top_scorer"><div id="post-6035-score" class="comment-score"></div><div class="comment-text"><ul><li><p>Well, ok, no absolute need to delete a svn feature branch after a merge to trunk. But what purpose to maintain it if we can't merge it anymore to trunk?</p></li><li><p>There is nothing with git/mercurial that prohibits from creating a branch in the central repository. Furthermore, nothing prohibits SYNbit from creating a branch on its local repository and sharing it with me without going to the central repository.</p></li></ul><p>There is no workflow possible with svn that are impossible with a dvcs (be it git or mercurial). They're just a lot more flexible than svn.</p></div><div id="comment-6035-info" class="comment-info"><span class="comment-age">(31 Aug '11, 16:14)</span> standel</div></div><span id="6072"></span><div id="comment-6072" class="comment not_top_scorer"><div id="post-6072-score" class="comment-score"></div><div class="comment-text"><p>From all the things I've read so far, git has more options to maintain local branches and merge them when needed, while SVN supports our current workflow better and people are more familiar with it at the moment. I also understand that it is possible to use git svn to import and export changes from SVN to git and back.</p><p>Are there any downsides in keeping SVN for the central Wireshark repository and letting people use git for their local branches?</p></div><div id="comment-6072-info" class="comment-info"><span class="comment-age">(04 Sep '11, 03:27)</span> SYN-bit ♦♦</div></div><span id="6094"></span><div id="comment-6094" class="comment not_top_scorer"><div id="post-6094-score" class="comment-score"></div><div class="comment-text"><p>@ standel And what do dvcs users do when finished with a feature or local branch? Deleting the svn feature branch just removes it from current view of "HEAD", it's still there in the history.</p><p>Flexibility usually comes with the cost of complexity.</p><p>@SYNbit I agree with you here, folks have already posted recipes for doing this.</p></div><div id="comment-6094-info" class="comment-info"><span class="comment-age">(05 Sep '11, 08:05)</span> grahamb ♦</div></div><span id="6178"></span><div id="comment-6178" class="comment not_top_scorer"><div id="post-6178-score" class="comment-score"></div><div class="comment-text"><p>@grahamb When a user merges his branch with git/hg, he /can/ continue to develop on top of that branch without any further action if needed. Later, when he'll decide to merge again its new work, it will work. Simple as that. Of course, if the branch is not useful anymore because the feature is fully finished, he could choose to delete the branch (or keep it for historic reasons, whatever).</p><p>My point is that a user won't delete the branch because working more on top of it after a merge could create a mess with the SCM on the next merge.</p></div><div id="comment-6178-info" class="comment-info"><span class="comment-age">(07 Sep '11, 05:26)</span> standel</div></div><span id="6180"></span><div id="comment-6180" class="comment not_top_scorer"><div id="post-6180-score" class="comment-score"></div><div class="comment-text"><p>about complexity coming with flexibility ... It's assuming there is no useless complexity in the product you're considering. For example: Do you think svn is more flexible than cvs? (I hope you think svn is more flexible :)) But ... would you say cvs is simpler than svn?</p></div><div id="comment-6180-info" class="comment-info"><span class="comment-age">(07 Sep '11, 06:21)</span> standel</div></div></div><div id="comment-tools-5988" class="comment-tools"><span class="comments-showing"> showing 5 of 10 </span> <a href="#" class="show-all-comments-link">show 5 more comments</a></div><div class="clear"></div><div id="comment-5988-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

