+++
type = "question"
title = "automate network performance data collection"
description = '''My goal  Use pre-existing capture files from Wireshark to extract data into a file that can be parsed by Excel or other style process. Data collection format would be as follows if I was using the online option of IO graph  Filter for Graph #1 ip.dst==10.0.2.15 Filter for Graph #2 ip.dst==10.0.2.15 ...'''
date = "2016-03-15T12:26:00Z"
lastmod = "2016-03-15T13:32:00Z"
weight = 50948
keywords = [ "performance", "tshark", "automate" ]
aliases = [ "/questions/50948" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [automate network performance data collection](/questions/50948/automate-network-performance-data-collection)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-50948-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-50948-score" class="post-score" title="current number of votes">0</div><span id="post-50948-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>My goal</p><p>Use pre-existing capture files from Wireshark to extract data into a file that can be parsed by Excel or other style process.<br />
Data collection format would be as follows if I was using the online option of IO graph</p><ul><li>Filter for Graph #1 ip.dst==10.0.2.15</li><li>Filter for Graph #2 ip.dst==10.0.2.15</li></ul><p>Special settings: Tick interval = 1 or 10 seconds Y axes is measured in Bytes / Ticks view as time of day Select graph 1 and graph 2 buttons Copy data from graph into a text style file.</p><p>I am trying to simulate manual interaction with Wireshark IO graph and the capture button.<br />
</p><p>right now I am using the following:</p><ul><li>tshark -r myfile -2 -w 10.0.2.15.dst -R "ip.dst == 10.0.2.15"</li><li>tshark -r myfile -2 -w 10.0.2.15.src -R "ip.src == 10.0.2.15"</li><li>tshark -q -z io,stat,10 -r 10.0.2.15.dst &gt; 10.0.2.15.dst.txt</li><li>tshark -q -z io,stat,10 -r 10.0.2.15.src &gt; 10.0.2.15.dst.txt</li></ul><p>The problem is I need wall clock time I would like to simulate the data generated by IO Chart in batch mode that would show Recorded Time, IP=dst, IP=src</p><p>I need wall clock time so I can compare results on other activities within the lab. If I could have an output of the first and last entry based on wall time I could re-calc the back into something useful.</p><p>v/r</p><p>Brad M</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-performance" rel="tag" title="see questions tagged &#39;performance&#39;">performance</span> <span class="post-tag tag-link-tshark" rel="tag" title="see questions tagged &#39;tshark&#39;">tshark</span> <span class="post-tag tag-link-automate" rel="tag" title="see questions tagged &#39;automate&#39;">automate</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>15 Mar '16, 12:26</strong></p><img src="https://secure.gravatar.com/avatar/0ee85051a6a5471609cda7eb5d096a07?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Brad%20M&#39;s gravatar image" /><p><span>Brad M</span><br />
<span class="score" title="6 reputation points">6</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Brad M has no accepted answers">0%</span> </br></br></p></div></div><div id="comments-container-50948" class="comments-container"><span id="50949"></span><div id="comment-50949" class="comment"><div id="post-50949-score" class="comment-score"></div><div class="comment-text"><p>sorry about the small error I have in the &gt; of 10.0.2.15.dst.txt twice</p></div><div id="comment-50949-info" class="comment-info"><span class="comment-age">(15 Mar '16, 12:34)</span> <span class="comment-user userinfo">Brad M</span></div></div><span id="50952"></span><div id="comment-50952" class="comment"><div id="post-50952-score" class="comment-score"></div><div class="comment-text"><p>I have updated my tshark command line after finding additional info</p><p>tshark -z io,stat,10,ip.src==10.0.2.15,ip.dst==10.0.2.15 -r myfile &gt; 10.0.2.15.results.text</p><p>I am still trying to figure a way to use real time versus ticks.</p></div><div id="comment-50952-info" class="comment-info"><span class="comment-age">(15 Mar '16, 12:59)</span> <span class="comment-user userinfo">Brad M</span></div></div></div><div id="comment-tools-50948" class="comment-tools"></div><div class="clear"></div><div id="comment-50948-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="50957"></span>

<div id="answer-container-50957" class="answer answered-by-owner">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-50957-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-50957-score" class="post-score" title="current number of votes">0</div><span id="post-50957-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>After searching thru about 5 years of posts I did come across one option that works</p><p>tshark -t ad -q -z io,stat,10,ip.dst=10.0.2.15,ip==10.0.2.15 -nr myfile &gt; hostname.io.performance.txt</p><p>At least now I don't have to wait over 20 mins while playing with Wireshark to just extract performance data for each IP set that I am looking for.</p><p>A bit more work in Excel to re-format the data . . . but nothing compared to the time waiting for a laptop to respond to clicks.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>15 Mar '16, 13:32</strong></p><img src="https://secure.gravatar.com/avatar/0ee85051a6a5471609cda7eb5d096a07?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Brad%20M&#39;s gravatar image" /><p><span>Brad M</span><br />
<span class="score" title="6 reputation points">6</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Brad M has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>15 Mar '16, 13:35</strong> </span></p></div></div><div id="comments-container-50957" class="comments-container"></div><div id="comment-tools-50957" class="comment-tools"></div><div class="clear"></div><div id="comment-50957-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

