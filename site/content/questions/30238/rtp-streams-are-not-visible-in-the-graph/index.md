+++
type = "question"
title = "RTP streams are not visible in the graph."
description = '''Hi all, I&#x27;ve been experiencing the very strange issue. I collect the traces for SIP calls and then review them on my PC.  Typically, I click Flow and review the graph. For whatever reason, since about couple days ago, I don&#x27;t see any RTP streams in the graph. Only SIP messages are there. Also, some ...'''
date = "2014-02-27T09:02:00Z"
lastmod = "2014-02-28T07:07:00Z"
weight = 30238
keywords = [ "rtp_in_graph" ]
aliases = [ "/questions/30238" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [RTP streams are not visible in the graph.](/questions/30238/rtp-streams-are-not-visible-in-the-graph)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-30238-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi all, I've been experiencing the very strange issue. I collect the traces for SIP calls and then review them on my PC. Typically, I click Flow and review the graph. For whatever reason, since about couple days ago, I don't see any RTP streams in the graph. Only SIP messages are there. Also, some of the streaming IP addresses are not displayed in the graph.</p><p>If I take this trace file to my co-worker's computer, I can see the graph completely including SIP and RTP. So, obviously there are some settings in my Wireshark instance that prevent viewing the graph in full but what they are? Yesterday, I re-installed Wireshark but it did not resolve the issue. Please, help to configure Wireshark.</p><p>P.S. The 3 checkboxes at Edit-&gt;Preferences-&gt;Protocol-&gt;RTP are all checked.</p></div><div id="question-tags" class="tags-container tags">rtp_in_graph</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>27 Feb '14, 09:02</strong></p><img src="https://secure.gravatar.com/avatar/ace66eb8d16298ad0795854f4c80d666?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="c_config&#39;s gravatar image" /><p>c_config<br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="c_config has no accepted answers">0%</span></p></div></div><div id="comments-container-30238" class="comments-container"><span id="30249"></span><div id="comment-30249" class="comment"><div id="post-30249-score" class="comment-score"></div><div class="comment-text"><p>What version of wireshark are you running, on what platform?</p></div><div id="comment-30249-info" class="comment-info"><span class="comment-age">(27 Feb '14, 16:08)</span> Hadriel</div></div><span id="30265"></span><div id="comment-30265" class="comment"><div id="post-30265-score" class="comment-score"></div><div class="comment-text"><p>The Wireshark version is 1.10.5 (64 bit) and OS - Windows 7.</p></div><div id="comment-30265-info" class="comment-info"><span class="comment-age">(28 Feb '14, 06:22)</span> c_config</div></div></div><div id="comment-tools-30238" class="comment-tools"></div><div class="clear"></div><div id="comment-30238-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="30267"></span>

<div id="answer-container-30267" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-30267-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Did you disable the RTP dissector</p><blockquote><p>Analyze -&gt; Enabled Protocols -&gt; RTP</p></blockquote><p>or set any 'Decode as' entries?</p><blockquote><p>Analyze -&gt; User Specific Decodes</p></blockquote><p>If there are any 'suspicious' entries, try to delete them.</p><p>As a last option, print all your settings and compare them with the settings of another, working, system.</p><blockquote><p>tshark -G decodes<br />
tshark -G protocols<br />
tshark -G currentprefs<br />
</p></blockquote><p>Regards<br />
Kurt</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>28 Feb '14, 07:07</strong></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p>Kurt Knochner ♦<br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kurt Knochner has 344 accepted answers">15%</span> </br></br></p></div></div><div id="comments-container-30267" class="comments-container"><span id="30276"></span><div id="comment-30276" class="comment"><div id="post-30276-score" class="comment-score"></div><div class="comment-text"><p>And make sure 'Preference-&gt;Protocols-&gt;SDP-&gt;Establish Media Conversation' is checked.</p></div><div id="comment-30276-info" class="comment-info"><span class="comment-age">(28 Feb '14, 08:38)</span> Hadriel</div></div><span id="30288"></span><div id="comment-30288" class="comment"><div id="post-30288-score" class="comment-score"></div><div class="comment-text"><p>Kurt, Thank you for the ideas. I've checked the those settings you mentioned and did not find difference if I change them. Then, I've started comparing the Wireshark' settings at my PC and my colleague's PC. Eventually, I found out my colleague' Wireshark version is 1.8.12 and mine is 1.10.5. So, I downgraded my Wireshark to 1.8.12 and here you go - my graph started working normally. Please, see 2 screenshots. This is the same pcap file opened on the same computer with the default settings in Wireshark. See the difference (like no SDP details, no RTP streams, IP 192.168.101.196 was not included).</p><p><img src="https://osqa-ask.wireshark.org/upfiles/Wireshark_1.8.12_1.jpg" alt="alt text" /> <img src="https://osqa-ask.wireshark.org/upfiles/Wireshark_1.10.5_1.jpg" alt="alt text" /></p></div><div id="comment-30288-info" class="comment-info"><span class="comment-age">(28 Feb '14, 12:37)</span> c_config</div></div><span id="30289"></span><div id="comment-30289" class="comment"><div id="post-30289-score" class="comment-score"></div><div class="comment-text"><p>That's exactly what it would look like if 'Edit-&gt;Preference-&gt;Protocols-&gt;SDP-&gt;Establish Media Conversation' were un-checked. Please verify it is checked/enabled.</p></div><div id="comment-30289-info" class="comment-info"><span class="comment-age">(28 Feb '14, 12:54)</span> Hadriel</div></div><span id="30292"></span><div id="comment-30292" class="comment"><div id="post-30292-score" class="comment-score"></div><div class="comment-text"><p>OK. I've re-installed 1.10.5 back and checked.</p><p>By default, "Establish Media Conversation" was checked and I ensured it is checked now. However, the graph is incomplete. So, there is something else.<br />
</p></div><div id="comment-30292-info" class="comment-info"><span class="comment-age">(28 Feb '14, 13:14)</span> c_config</div></div><span id="30293"></span><div id="comment-30293" class="comment"><div id="post-30293-score" class="comment-score"></div><div class="comment-text"><p>Is there any way you can post your capture file, for example to <a href="https://www.cloudshark.org/">cloudshark</a> or someplace public?</p><p>Or if you can't, then taking a screenshot of the SDP payload protocol details in the INVITE and 200 response and posting them here? The graph shows fine for SIP+RTP captures I have, in wireshark 1.10.5. Maybe there's something odd in the SDP that prevents it from figuring out the RTP conversation. (do the packets display as <em>RTP</em> packets in the normal display window?)</p></div><div id="comment-30293-info" class="comment-info"><span class="comment-age">(28 Feb '14, 13:28)</span> Hadriel</div></div><span id="30347"></span><div id="comment-30347" class="comment not_top_scorer"><div id="post-30347-score" class="comment-score"></div><div class="comment-text"><p>I have posted the trace file at: <a href="https://www.cloudshark.org/captures/7a86b0a05538">https://www.cloudshark.org/captures/7a86b0a05538</a> From the beginning, I also assumed that there is something odd in SDP (like SRTP) is enabled. But why the older Wireshark can still display the graph?</p></div><div id="comment-30347-info" class="comment-info"><span class="comment-age">(03 Mar '14, 06:52)</span> c_config</div></div><span id="30349"></span><div id="comment-30349" class="comment not_top_scorer"><div id="post-30349-score" class="comment-score"></div><div class="comment-text"><p>Thanks for that - makes things much easier. :)</p><p>It looks like you're right, there's a bug here somewhere. It works fine in 1.8.12, but not in 1.10.5 nor in 1.11.3. The SDP dissector or conversation tracker is getting screwed up somehow. The SDP itself is a little unusual for one call-leg half (there are two call legs in this, going through a Mitel SBC it appears), but not invalid; and even when I split the two call-legs into two separate capture files it's not tracking the RTP correctly. The number of codecs offered, the wide disparity in the UDP port numbers, and the video stream being rejected in the 200 ok are all "unusual" things too, but I don't know if any of them contribute to the problem.</p><p>Would you like the "honor" of creating a bugzilla entry, or would you rather someone else do it?</p></div><div id="comment-30349-info" class="comment-info"><span class="comment-age">(03 Mar '14, 10:18)</span> Hadriel</div></div><span id="30417"></span><div id="comment-30417" class="comment not_top_scorer"><div id="post-30417-score" class="comment-score"></div><div class="comment-text"><p>I am sure you can do this better (in terms of issue description). So, I would let you to submit a bug. It is strange though that version 1.10.5 was working fine for few weeks since I installed it and then got corrupted. I suspect that some of those overnight Windows' upgrades could contribute to this. Meanwhile, I am going to install the older version 1.8.12. Thank you very much for your time and support!</p></div><div id="comment-30417-info" class="comment-info"><span class="comment-age">(04 Mar '14, 12:08)</span> c_config</div></div><span id="30418"></span><div id="comment-30418" class="comment not_top_scorer"><div id="post-30418-score" class="comment-score"></div><div class="comment-text"><p>Bug 9835 submitted. Do you know approximately when it stopped working? I can check the code submissions since then to see what's changed.</p></div><div id="comment-30418-info" class="comment-info"><span class="comment-age">(04 Mar '14, 13:12)</span> Hadriel</div></div><span id="30419"></span><div id="comment-30419" class="comment not_top_scorer"><div id="post-30419-score" class="comment-score"></div><div class="comment-text"><p>I believe it stopped displaying RTP properly on around 24-26 February.</p></div><div id="comment-30419-info" class="comment-info"><span class="comment-age">(04 Mar '14, 14:00)</span> c_config</div></div></div><div id="comment-tools-30267" class="comment-tools"><span class="comments-showing"> showing 5 of 10 </span> <a href="#" class="show-all-comments-link">show 5 more comments</a></div><div class="clear"></div><div id="comment-30267-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

