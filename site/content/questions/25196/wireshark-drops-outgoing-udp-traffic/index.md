+++
type = "question"
title = "Wireshark drops outgoing udp traffic!"
description = '''Hello, Currently I am using Wireshark 1.10.2 (Win 7-64bit) and I am sending udp traffic to another device through Ethernet port. Other tools like Microsoft Network Monitor (I need Wireshark for some of its packet checking features) work find, but as soon as I start Wireshark listening, it drops outg...'''
date = "2013-09-25T02:31:00Z"
lastmod = "2013-10-01T11:05:00Z"
weight = 25196
keywords = [ "udp", "drop" ]
aliases = [ "/questions/25196" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Wireshark drops outgoing udp traffic!](/questions/25196/wireshark-drops-outgoing-udp-traffic)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-25196-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-25196-score" class="post-score" title="current number of votes">0</div><span id="post-25196-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hello,</p><p>Currently I am using Wireshark 1.10.2 (Win 7-64bit) and I am sending udp traffic to another device through Ethernet port. Other tools like Microsoft Network Monitor (I need Wireshark for some of its packet checking features) work find, but as soon as I start Wireshark listening, it drops outgoing packets. I can see outgoing packets in Wireshark, but they are not send to the end device anymore!</p><p>How can I solve this issue?</p><p>Thanks :-)</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-udp" rel="tag" title="see questions tagged &#39;udp&#39;">udp</span> <span class="post-tag tag-link-drop" rel="tag" title="see questions tagged &#39;drop&#39;">drop</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>25 Sep '13, 02:31</strong></p><img src="https://secure.gravatar.com/avatar/f00c8dfe437dd943e3b6f815cd2ad395?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Persisky&#39;s gravatar image" /><p><span>Persisky</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Persisky has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>25 Sep '13, 06:49</strong> </span></p></div></div><div id="comments-container-25196" class="comments-container"><span id="25213"></span><div id="comment-25213" class="comment"><div id="post-25213-score" class="comment-score"></div><div class="comment-text"><blockquote><p>but as soon as I <strong>start Wireshark</strong> listening, it <strong>drops outgoing packets</strong>.</p></blockquote><p>I don't think this caused by Wireshark, at least I have not seen this happen anywhere so far. Wireshark is pretty passive, so there is no way how it could/would drop packets.</p><blockquote><p>but they are not send to the end device anymore!</p></blockquote><p>how do you know that?</p><p>BTW: Can you please add more information about your setup? Client, Server, end device, etc.</p></div><div id="comment-25213-info" class="comment-info"><span class="comment-age">(25 Sep '13, 06:55)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="25222"></span><div id="comment-25222" class="comment"><div id="post-25222-score" class="comment-score"></div><div class="comment-text"><p>Also, Wireshark relies on <a href="http://www.winpcap.org/">WinPcap</a> to do the actual capturing on the Windows platform. Which version of WinPcap are you using? You could also try testing with <a href="http://www.winpcap.org/windump/default.htm">WinDump</a> to see if you get the same results as with Wireshark.</p></div><div id="comment-25222-info" class="comment-info"><span class="comment-age">(25 Sep '13, 09:01)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div><span id="25266"></span><div id="comment-25266" class="comment"><div id="post-25266-score" class="comment-score"></div><div class="comment-text"><p>I am sending UDP packets using C# to a client which is a FPGA development board. Ip address of my PC is 10.0.0.1 (mask 255.255.255.0) and I send packets through port 11000 to FPGA board which has Ip address of 10.0.0.2 .</p><p>Without using Wireshark Packets easily reach to FPGA. I have packet counter and other monitoring tools that show this. I need to consider the FPGA response to incoming packets so I have to use a Netowrk Monitoring tool like Wireshark; however, as soon as the capturing mode of Wireshark starts I am not able to send packet to FPGA. Packets are shown as outgoing packets but they do not reach to Ethernet port anymore. I used Microsoft Network Monitor tool and it works fine. It shows the outgoing stream and does not have any affect on that, so I can send and receive udp packets without any problem. Unfortunately the Microsoft tool does not have some features of packet checking like Wireshark, so I would be glad to find out about Wireshark issue.</p><p>Thanks :-)</p></div><div id="comment-25266-info" class="comment-info"><span class="comment-age">(26 Sep '13, 03:18)</span> <span class="comment-user userinfo">Persisky</span></div></div><span id="25272"></span><div id="comment-25272" class="comment"><div id="post-25272-score" class="comment-score"></div><div class="comment-text"><p>did you try another version of Wireshark (1.8.x) <strong>and</strong> WinPcap?</p></div><div id="comment-25272-info" class="comment-info"><span class="comment-age">(26 Sep '13, 04:37)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="25280"></span><div id="comment-25280" class="comment"><div id="post-25280-score" class="comment-score"></div><div class="comment-text"><p>You never answered the question about which version of WinPcap you are using.</p><p>Also, the whole point of using WinDump is to try to determine if this is a Wireshark-specific problem or if it's common to other applications that also use WinPcap, such as WinDump.</p></div><div id="comment-25280-info" class="comment-info"><span class="comment-age">(26 Sep '13, 07:01)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div><span id="25294"></span><div id="comment-25294" class="comment not_top_scorer"><div id="post-25294-score" class="comment-score"></div><div class="comment-text"><p>I do not know how, but I did not notice that question before!</p><p>To make sure that there is no issue with my current installation of WinPcap, I re-installed the version which was offered by Wireshark 1.10 installer which I think is 4.1.3.</p><p>I will use WinDump and Wireshark(1.8.x) and report results.</p></div><div id="comment-25294-info" class="comment-info"><span class="comment-age">(26 Sep '13, 13:35)</span> <span class="comment-user userinfo">Persisky</span></div></div><span id="25449"></span><div id="comment-25449" class="comment not_top_scorer"><div id="post-25449-score" class="comment-score"></div><div class="comment-text"><p>It seems that the issue is from Winpcap! Even in WindDump outgoing UDP packets are dropped as soon as I start listening! As I mentioned they are shown in WinDump and WireShark, but they are not sent to Ethernet port anymore! Also Microsoft Network Monitor works fine and does not drop packets. Any solution?</p></div><div id="comment-25449-info" class="comment-info"><span class="comment-age">(01 Oct '13, 02:41)</span> <span class="comment-user userinfo">Persisky</span></div></div><span id="25450"></span><div id="comment-25450" class="comment not_top_scorer"><div id="post-25450-score" class="comment-score"></div><div class="comment-text"><p>what type of interface is it?<br />
Can you show a sample capture file (on google drive/docs, dropbox or cloudshark)?</p></div><div id="comment-25450-info" class="comment-info"><span class="comment-age">(01 Oct '13, 02:45)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="25473"></span><div id="comment-25473" class="comment not_top_scorer"><div id="post-25473-score" class="comment-score"></div><div class="comment-text"><p>It is a Gigabit Ethernet Interface.</p><p>Here you can see one of UDP packets captured in WireShark:</p><pre><code>No.     Time           Source                Destination           Protocol Length Info
      2 0.999970000    10.0.0.1              10.0.0.2              UDP      204    Source port: 62488  Destination port: metasys

Frame 2: 204 bytes on wire (1632 bits), 204 bytes captured (1632 bits) on interface 0
Ethernet II, Src: -----------, Dst: -----------
Internet Protocol Version 4, Src: 10.0.0.1 (10.0.0.1), Dst: 10.0.0.2 (10.0.0.2)
User Datagram Protocol, Src Port: 62488 (62488), Dst Port: metasys (11001)
Data (162 bytes)

0000  03 00 00 00 02 00 00 00 03 80 00 00 00 02 00 00   ................
0010  00 01 03 00 00 00 02 00 00 00 01 80 00 00 00 02   ................
0020  00 00 00 04 03 00 00 00 02 00 00 00 03 80 00 00   ................
0030  00 02 00 00 00 01 03 00 00 00 02 00 00 00 09 80   ................
0040  00 00 00 02 00 00 00 05 03 00 00 00 02 00 00 00   ................
0050  03 80 00 00 00 02 00 00 00 05 03 00 00 00 02 00   ................
0060  00 00 03 80 00 00 00 02 00 00 00 04 03 00 00 00   ................
0070  02 00 00 00 08 80 00 00 00 02 00 00 00 04 03 00   ................
0080  00 00 02 00 00 00 07 80 00 00 00 02 00 00 00 05   ................
0090  03 00 00 00 02 00 00 00 02 80 00 00 00 02 00 00   ................
00a0  00 09
</code></pre></div><div id="comment-25473-info" class="comment-info"><span class="comment-age">(01 Oct '13, 08:06)</span> <span class="comment-user userinfo">Persisky</span></div></div><span id="25474"></span><div id="comment-25474" class="comment not_top_scorer"><div id="post-25474-score" class="comment-score"></div><div class="comment-text"><blockquote><p>Here you can see one of UDP packets captured in WireShark:</p></blockquote><p>I was thinking about a real capture file, to check if there is anything in the frames that could explain the behavior, although I don't think it's the data, but you'll never know until you check.</p><p>BTW: Did you try to disable the windows firewall or any other security software on the sending PC, like these tools: AV, IDS, VPN client, Endpoint Security, Personal Firewalls, etc.</p></div><div id="comment-25474-info" class="comment-info"><span class="comment-age">(01 Oct '13, 08:17)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="25482"></span><div id="comment-25482" class="comment not_top_scorer"><div id="post-25482-score" class="comment-score"></div><div class="comment-text"><p>Have you read the WinPcap <a href="http://www.winpcap.org/misc/faq.htm">FAQ</a> page for possible known problems, perhaps <a href="http://www.winpcap.org/misc/faq.htm#Q-21">Q21</a> or <a href="http://www.winpcap.org/misc/faq.htm#Q-22">Q22</a>? If none of these fit your situation, then I'd suggest <a href="http://www.winpcap.org/contact.htm">contacting the WinPcap developers</a>.</p></div><div id="comment-25482-info" class="comment-info"><span class="comment-age">(01 Oct '13, 11:05)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div></div><div id="comment-tools-25196" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-25196-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

</div>

