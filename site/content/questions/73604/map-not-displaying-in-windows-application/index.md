+++
type = "question"
title = "Map not displaying in windows application"
description = '''I am very new at OpenStreetMap and I could really use your help. I have to support a c#.net windows application that used the uri http://{0}.tile.openstreetmap.org/{1}/{2}/{3}.png in order to render a map location. In the last months the tiles do not get created, its just an empty map with the locat...'''
date = "2020-03-18T16:11:00Z"
lastmod = "2020-04-13T11:14:00Z"
weight = 73604
keywords = [ "tiles", "tileserver", "c#.net" ]
aliases = [ "/questions/73604" ]
osqa_answers = 4
osqa_accepted = false
+++

<div class="headNormal">

# [Map not displaying in windows application](/questions/73604/map-not-displaying-in-windows-application)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-73604-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-73604-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-73604-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I am very new at OpenStreetMap and I could really use your help. I have to support a c#.net windows application that used the uri http://{0}.tile.openstreetmap.org/{1}/{2}/{3}.png in order to render a map location. In the last months the tiles do not get created, its just an empty map with the location pin visible.Is there a new licence or a different tile provider uri?Can you please guide me into fixing the issue?</p>
<p>Thank you in advance</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-tiles" rel="tag" title="see questions tagged &#39;tiles&#39;">tiles</span> <span class="post-tag tag-link-tileserver" rel="tag" title="see questions tagged &#39;tileserver&#39;">tileserver</span> <span class="post-tag tag-link-c#.net" rel="tag" title="see questions tagged &#39;c#.net&#39;">c#.net</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>18 Mar '20, 16:11</strong></p>
<img src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="eanton&#39;s gravatar image" />
<p><span>eanton</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="eanton has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-73604" class="comments-container">
&#10;</div>
<div id="comment-tools-73604" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-73604-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

4 Answers:

</div>

</div>

<span id="73605"></span>

<div id="answer-container-73605" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-73605-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-73605-score" class="post-score" title="current number of votes">
2
</div>
<span id="post-73605-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>There is nothing new, some restrictions that have existed for a long time are now, technically, better enforced. See <a href="https://operations.osmfoundation.org/policies/tiles/">https://operations.osmfoundation.org/policies/tiles/</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>18 Mar '20, 16:13</strong></p>
<img src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SimonPoole&#39;s gravatar image" />
<p><span>SimonPoole ♦</span><br />
<span class="score" title="44667 reputation points"><span>44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SimonPoole has 209 accepted answers">18%</span></p>
</div>
</div>
<div id="comments-container-73605" class="comments-container">
<span id="73606"></span>
<div id="comment-73606" class="comment">
<div id="post-73606-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Thank you for the instant reply.The problem is that the framework for UI Controls that is being used to load the map, is older and I cannot access referer or user agent fields.Is there another way?</p>
</div>
<div id="comment-73606-info" class="comment-info">
<span class="comment-age">(18 Mar '20, 16:18)</span> <span class="comment-user userinfo">eanton</span>
</div>
</div>
<span id="73607"></span>
<div id="comment-73607" class="comment">
<div id="post-73607-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>You will need to discuss this with the operations working group operations@osmfoundation.org but your best bet is fixing the framework.</p>
</div>
<div id="comment-73607-info" class="comment-info">
<span class="comment-age">(18 Mar '20, 17:56)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="73611"></span>
<div id="comment-73611" class="comment">
<div id="post-73611-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>If you post a standalone snippet of code somewhere that displays the problem I suspect that someone would be able to advise on how to resolve the problem (we're assuming that we know what the problem is).</p>
</div>
<div id="comment-73611-info" class="comment-info">
<span class="comment-age">(18 Mar '20, 19:27)</span> <span class="comment-user userinfo">SomeoneElse ♦</span>
</div>
</div>
<span id="73617"></span>
<div id="comment-73617" class="comment">
<div id="post-73617-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>The UI framework used is Devexpress v13.2.There is just a mapControl that created an image Layer with TileUriTemplate as http://{0}.tile.openstreetmap.org/{1}/{2}/{3}.png</p>
<p>The answer of Devexpress suppport is: The public OpenStreetMap server changed its configuration (see the OpenStreetMap provider does not display Basic tiles in the MapControl demo application ticket for additional information). Now it requires User Agent and Referrer information.</p>
<p>However, there is no capability to specify the Referrer value in an older version (v13.2) because we introduced the e.Referer property when migrating MapControl providers to REST API in v16.1.</p>
<p>Since the public OSM server has some limitations and limited bandwidth (see the Tile Usage Policy article), a better solution is to use alternative tile servers or host a custom tile server and set the TileUriTemplate property accordingly.</p>
</div>
<div id="comment-73617-info" class="comment-info">
<span class="comment-age">(19 Mar '20, 07:52)</span> <span class="comment-user userinfo">eanton</span>
</div>
</div>
<span id="73618"></span>
<div id="comment-73618" class="comment">
<div id="post-73618-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>Have you discussed this with the OWG? If the framework is sending a fake user agent header, you could try binary patching it (extreme measure but perhaps worth a try), it is OK to send an empty referrer for apps, so that shouldn't be an issue in itself.</p>
</div>
<div id="comment-73618-info" class="comment-info">
<span class="comment-age">(19 Mar '20, 08:43)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="73629"></span>
<div id="comment-73629" class="comment not_top_scorer">
<div id="post-73629-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Default User-Agent of devexpress before 19.4 is not fake, it's just used by all users of any apps using that framework, according to their <a href="https://supportcenter.devexpress.com/ticket/details/t745053/openstreetmap-provider-does-not-display-basic-tiles-in-the-mapcontrol-demo-application">ticket</a>, so it was blocked.</p>
<p>Other solution might be to point your requests through a proxy, which would cache data so that all your users share the same cache, and would set the User-Agent accordingly. I guess this would respect OSM Tile Server ToU.</p>
<p>Otherwise you could go to another, less restrictive or payed-for, tile server.</p>
<p>Of course the best course would to upgrade your framework, but I understand this might be complicated.</p>
</div>
<div id="comment-73629-info" class="comment-info">
<span class="comment-age">(19 Mar '20, 15:44)</span> <span class="comment-user userinfo">H_mlet</span>
</div>
</div>
<span id="73670"></span>
<div id="comment-73670" class="comment not_top_scorer">
<div id="post-73670-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>If you had actually looked at the ticket you are referencing you would have noticed that the library is not actually setting the user agent header at all. Which in turn implies that it will not be possible to binary patch it, which would have been a real way out of the issue.</p>
</div>
<div id="comment-73670-info" class="comment-info">
<span class="comment-age">(21 Mar '20, 15:08)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
</div>
<div id="comment-tools-73605" class="comment-tools">
<span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-73605-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="74130"></span>

<div id="answer-container-74130" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-74130-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-74130-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-74130-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Thank you all for your answers!Seems that I m gonna have to upgrade to new version if I want to keep using Devexpress.I tried it in a trial version in Devexpress 17 and it is working.The other option I tried is Gmap.But I would like to ask if since I only want to load a location on the map just for viewing, what is the cost if I m going to use GoogleMapProvider with GMap?I tried creating a map using GMap and I got to load my location with GoogleMapProvider without having any problems.Do you know the charges in case I use Gmap with GoogleMapProvider?Why dont I get any messages or warnings about using Google Maps?? Thank you once again</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>13 Apr '20, 11:13</strong></p>
<img src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="eanton&#39;s gravatar image" />
<p><span>eanton</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="eanton has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-74130" class="comments-container">
&#10;</div>
<div id="comment-tools-74130" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-74130-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="74131"></span>

<div id="answer-container-74131" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-74131-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-74131-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-74131-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Thank you all for your answers!Seems that I m gonna have to upgrade to new version if I want to keep using Devexpress.I tried it in a trial version in Devexpress 17 and it is working.The other option I tried is Gmap.But I would like to ask if since I only want to load a location on the map just for viewing, what is the cost if I m going to use GoogleMapProvider with GMap?I tried creating a map using GMap and I got to load my location with GoogleMapProvider without having any problems.Do you know the charges in case I use Gmap with GoogleMapProvider?Why dont I get any messages or warnings about using Google Maps that I should pay the usage or something?? Thank you once again</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>13 Apr '20, 11:14</strong></p>
<img src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="eanton&#39;s gravatar image" />
<p><span>eanton</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="eanton has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-74131" class="comments-container">
&#10;</div>
<div id="comment-tools-74131" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-74131-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="73608"></span>

<div id="answer-container-73608" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-73608-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-73608-score" class="post-score" title="current number of votes">
-1
</div>
<span id="post-73608-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>I think you need to use HTTPS nowadays.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>18 Mar '20, 18:14</strong></p>
<img src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="H_mlet&#39;s gravatar image" />
<p><span>H_mlet</span><br />
<span class="score" title="5443 reputation points"><span>5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="H_mlet has 40 accepted answers">13%</span></p>
</div>
</div>
<div id="comments-container-73608" class="comments-container">
<span id="73609"></span>
<div id="comment-73609" class="comment">
<div id="post-73609-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>http tile requests are redirected to https, so except if that is an issue with the framework (rather unlikely for c# / .net) that is not the issue.</p>
</div>
<div id="comment-73609-info" class="comment-info">
<span class="comment-age">(18 Mar '20, 18:26)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="73614"></span>
<div id="comment-73614" class="comment">
<div id="post-73614-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Well, I don't know which framework we're talking about, but it's quite common for older stuff to either not follow redirections, or not support HTTPS, or even reject legit certificates.</p>
<p>Try with curl !</p>
<p>And contrary to your answer, it's a recent change which broke some applications.</p>
</div>
<div id="comment-73614-info" class="comment-info">
<span class="comment-age">(18 Mar '20, 20:24)</span> <span class="comment-user userinfo">H_mlet</span>
</div>
</div>
<span id="73619"></span>
<div id="comment-73619" class="comment">
<div id="post-73619-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Maybe actually reading my answer would help?</p>
</div>
<div id="comment-73619-info" class="comment-info">
<span class="comment-age">(19 Mar '20, 08:45)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="73628"></span>
<div id="comment-73628" class="comment">
<div id="post-73628-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Well thanks, I did. The link you provided without explanation implies that a default UA and an empty referer should work, except if that UA was used to abuse the servers. I did not say you are wrong, I try to help with other possible problems.</p>
<p>All I'm saying is that some applications recently broke because of the switch to HTTPS only.</p>
<p>Some old frameworks are bad at ssl, outdated ciphers or certificate chains can block any attempt.</p>
<p>Curl requires a command-line switch to follow redirection (-L).</p>
<p>But to be honest, after some testing, I don't understand how the redirection works. Curl seems to download the tile using http only without trouble, but my browser redirects to https, with no separate request.</p>
<p>This <a href="https://github.com/openstreetmap/chef/commit/981b586040b3fe307a4855e58e846da75555aa05">code</a> suggest that it's a usual http 301 redirection, but I can't find it from my side, maybe it was reverted.</p>
</div>
<div id="comment-73628-info" class="comment-info">
<span class="comment-age">(19 Mar '20, 15:26)</span> <span class="comment-user userinfo">H_mlet</span>
</div>
</div>
<span id="73663"></span>
<div id="comment-73663" class="comment">
<div id="post-73663-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Some older versions of some devexpress components or plugins do use a <em>way to old</em> version of a library called INDY that is still not able to handle SSL.</p>
<p>So I wouldn't downvote this but rather wait for some devexpress experts here or at the devexpress studio ticketing community that can confirm in which versions or components you'll see these problems.</p>
<p><a href="https://help.openstreetmap.org/users/18047/eanton"></a><a href="https://help.openstreetmap.org/users/18047/eanton">@eanton</a>:</p>
<p>For testing I would recommend to sign up for an api key <a href="https://rapidapi.com/MapTilesApi/api/maptiles">here</a> and than use "https://maptiles.p.rapidapi.com/local/osm/v1/{1}/{2}/{3}.png?rapidapi-key=&lt;your-api-key&gt;" (replace &lt;your-api-key&gt; with the one you get by signing up) as a TileUriTemplate to check if your devexpress version can handle SSL. If that does work you don't have a SSL problem but one with missing headers as stated in the other answer by SimonPoole and should either update your devpexress version or use a different tile provider.</p>
</div>
<div id="comment-73663-info" class="comment-info">
<span class="comment-age">(21 Mar '20, 11:20)</span> <span class="comment-user userinfo">Spiekerooger</span>
</div>
</div>
<span id="73668"></span>
<div id="comment-73668" class="comment not_top_scorer">
<div id="post-73668-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>We already established that devexpress 13.2 does not support setting the required headers two days ago, see the information from the company itself, and is not going to work.</p>
</div>
<div id="comment-73668-info" class="comment-info">
<span class="comment-age">(21 Mar '20, 14:56)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
</div>
<div id="comment-tools-73608" class="comment-tools">
<span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-73608-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

