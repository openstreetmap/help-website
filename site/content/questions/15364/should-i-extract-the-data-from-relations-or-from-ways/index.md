+++
type = "question"
title = "Should I extract the data from relations or from ways?"
description = '''I&#x27;m working with the tag=power (power lines and similar) and seems like a lot of ways are not contained in relations. Do you know why is this happening and what will be the evolution of this data in the future? Relations will disappear or the existent ways will be included in new relations?'''
date = "2012-08-22T12:22:00Z"
lastmod = "2015-08-20T15:36:00Z"
weight = 15364
keywords = [ "power", "relations" ]
aliases = [ "/questions/15364" ]
osqa_answers = 2
osqa_accepted = true
+++

<div class="headNormal">

# [Should I extract the data from relations or from ways?](/questions/15364/should-i-extract-the-data-from-relations-or-from-ways)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-15364-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-15364-score" class="post-score" title="current number of votes">
3
</div>
<span id="post-15364-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I'm working with the tag=power (power lines and similar) and seems like a lot of ways are not contained in relations. Do you know why is this happening and what will be the evolution of this data in the future? Relations will disappear or the existent ways will be included in new relations?</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-power" rel="tag" title="see questions tagged &#39;power&#39;">power</span> <span class="post-tag tag-link-relations" rel="tag" title="see questions tagged &#39;relations&#39;">relations</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>22 Aug '12, 12:22</strong></p>
<img src="https://secure.gravatar.com/avatar/40d0052a4cd080ec949c64c2ae62bd82?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="JorgePM&#39;s gravatar image" />
<p><span>JorgePM</span><br />
<span class="score" title="51 reputation points">51</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="JorgePM has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>22 Aug '12, 16:04</strong> </span></p>
<img src="https://secure.gravatar.com/avatar/1fe9a0c696a5000fb304ababea9f83af?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Sanderd17&#39;s gravatar image" />
<p><span>Sanderd17</span><br />
<span class="score" title="1111 reputation points"><span>1.1k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="37 badges"><span class="bronze">●</span><span class="badgecount">37</span></span></p>
</div>
</div>
<div id="comments-container-15364" class="comments-container">
<span id="15371"></span>
<div id="comment-15371" class="comment">
<div id="post-15371-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>Why do you think every way with a power tag should belong to a relation?</p>
</div>
<div id="comment-15371-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 13:14)</span> <span class="comment-user userinfo">scai ♦</span>
</div>
</div>
<span id="15377"></span>
<div id="comment-15377" class="comment">
<div id="post-15377-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Because there a lot of ways with similar characteristics than the ones that belong to relations, not being part of them. So for example, I tried to get all the 380kV lines and if you go for the relations, a lot of ways are left behind (not being shown) while they are exactly the same as the ones inside the relations. Maybe I'm missing something, but this is my experience working with the data. Maybe I'm missing the point about what relations really represent.</p>
</div>
<div id="comment-15377-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 14:30)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
</div>
<div id="comment-tools-15364" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-15364-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="15393"></span>

<div id="answer-container-15393" class="answer accepted-answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-15393-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-15393-score" class="post-score" title="current number of votes">
3
</div>
<span id="post-15393-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span class="accept-answer on" rel="nofollow" title="JorgePM has selected this answer as the correct answer"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Yep, it's better to go via ways.</p>
<p>In fact, the best is to combine ways and relation search. Search for both and apply the tags of the relation to the ways. Sometimes, if someone decides some ways fits in a relation, they don't add the tags to the ways any more.</p>
<p>About that relation, it does look like all those ways have the same number of lines and the same voltage, and they follow each other up. So one could argue they belong in a relation. Although the middle line has the suspicious tag source=guessed. And together with those weird turns, it makes the entire relation a bit incredible.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>22 Aug '12, 15:56</strong></p>
<img src="https://secure.gravatar.com/avatar/1fe9a0c696a5000fb304ababea9f83af?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Sanderd17&#39;s gravatar image" />
<p><span>Sanderd17</span><br />
<span class="score" title="1111 reputation points"><span>1.1k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="37 badges"><span class="bronze">●</span><span class="badgecount">37</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Sanderd17 has 15 accepted answers">31%</span></p>
</div>
</div>
<div id="comments-container-15393" class="comments-container">
<span id="44845"></span>
<div id="comment-44845" class="comment">
<div id="post-44845-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>relations are there to build transmission circuits, that's why they are composed of several substations and ways.</p>
</div>
<div id="comment-44845-info" class="comment-info">
<span class="comment-age">(20 Aug '15, 15:36)</span> <span class="comment-user userinfo">widedangel</span>
</div>
</div>
</div>
<div id="comment-tools-15393" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-15393-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="15379"></span>

<div id="answer-container-15379" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-15379-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-15379-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-15379-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Please read this part of the OSM wiki, it will clarify your view on relations: <a href="http://wiki.openstreetmap.org/wiki/Relations/Relations_are_not_Categories">http://wiki.openstreetmap.org/wiki/Relations/Relations_are_not_Categories</a></p>
<p>Next to that, you can use <a href="http://wiki.openstreetmap.org/wiki/Xapi">xapi</a> or the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API">overpass API</a> to gather features with the same tags.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>22 Aug '12, 14:39</strong></p>
<img src="https://secure.gravatar.com/avatar/1fe9a0c696a5000fb304ababea9f83af?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Sanderd17&#39;s gravatar image" />
<p><span>Sanderd17</span><br />
<span class="score" title="1111 reputation points"><span>1.1k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="37 badges"><span class="bronze">●</span><span class="badgecount">37</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Sanderd17 has 15 accepted answers">31%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>22 Aug '12, 14:40</strong> </span></p>
</div>
</div>
<div id="comments-container-15379" class="comments-container">
<span id="15380"></span>
<div id="comment-15380" class="comment">
<div id="post-15380-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>Relations in this case are mostly used for grouping ways (lines) going from one substation to another (sometimes they include the substation, some other times they don't). Then some other lines with the same behaviour do not belong to any relation. It means there are ways that if you put them together, will create a relation similar to the ones already exist. So what is the protocol for a way to form a relation or not when both ways the one that belongs to the relation and the one that it doesn't, are the same?</p>
</div>
<div id="comment-15380-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 14:48)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
<span id="15383"></span>
<div id="comment-15383" class="comment">
<div id="post-15383-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Like when you group the different pieces of way and the different houses of a street into a relation. Some mappers consider it valuable (because it makes sure the house is linked to the right street), others don't (because there is too much other work, and the chance that a house is assigned to a wrong way is small).</p>
<p>The same goes for power lines. Some think it's valuable to put a relation over the line (because that entity is one power line), others don't because there is too much other work.</p>
</div>
<div id="comment-15383-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 15:09)</span> <span class="comment-user userinfo">Sanderd17</span>
</div>
</div>
<span id="15384"></span>
<div id="comment-15384" class="comment">
<div id="post-15384-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>hmmm but then in this case relations are useless. Just to show my point, I'm working with the German transmission grid. Originally there were about 3.5k relations and about 150k ways. After some heavy data mining I have about 6.5k "new" relations formed by ways jointed together going from one substation to another. All the relations, new and old behave the same, same tags, same characteristics, same element. So if I want to perform any kind of analysis relations will only produce errors and not any given values because they are hiding lines.</p>
</div>
<div id="comment-15384-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 15:14)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
<span id="15385"></span>
<div id="comment-15385" class="comment not_top_scorer">
<div id="post-15385-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Even I tried to get some visualization not based on tiles server using OpenLayers and if you base it in relations you get a third of the lines that you get if you base it on ways... So when and/or why the relations are there if they are aleatory grouping elements or not. (They don't have anything in common, not the same TSO, nor voltage, just the user decides when to include the ways in a relation or not)</p>
</div>
<div id="comment-15385-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 15:17)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
<span id="15387"></span>
<div id="comment-15387" class="comment">
<div id="post-15387-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>can you give a link to such a relation, maybe the OSM data has a problem, or somebody tried to mass-edit it.</p>
</div>
<div id="comment-15387-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 15:23)</span> <span class="comment-user userinfo">Sanderd17</span>
</div>
</div>
<span id="15391"></span>
<div id="comment-15391" class="comment">
<div id="post-15391-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>Sure, don't get me wrong, I'm trying to be constructive but the lack of coherence with the relations gave me some good headaches. <a href="http://www.openstreetmap.org/?relation=1728819">http://www.openstreetmap.org/?relation=1728819</a> That relation ends on the left into a substation (Denzlingen), the line that comes out from that substation are a group of ways. None of them belong to any relation. There are a good couple of thousands more cases like this. So when you try to analise what lines are available, if you go through relations, you will miss a lot of them. So it is better to go directly through ways... (PS: my data comes from geofabrik.de)</p>
</div>
<div id="comment-15391-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 15:38)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
<span id="15394"></span>
<div id="comment-15394" class="comment not_top_scorer">
<div id="post-15394-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>can you make your last comment the answer for this question? I believe it is the correct one. I absolutely agree with the relations-ways combination strategy and it should be specified in some point of the wiki.</p>
</div>
<div id="comment-15394-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 16:00)</span> <span class="comment-user userinfo">JorgePM</span>
</div>
</div>
<span id="15395"></span>
<div id="comment-15395" class="comment not_top_scorer">
<div id="post-15395-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I have done so, about the wiki, well, lets just say it also needs some work.</p>
<p>There is a lot quality data in OSM, but you need to study the data a lot before you can work with it.</p>
</div>
<div id="comment-15395-info" class="comment-info">
<span class="comment-age">(22 Aug '12, 16:03)</span> <span class="comment-user userinfo">Sanderd17</span>
</div>
</div>
</div>
<div id="comment-tools-15379" class="comment-tools">
<span class="comments-showing"> showing 5 of 8 </span> <a href="#" class="show-all-comments-link">show 3 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-15379-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

