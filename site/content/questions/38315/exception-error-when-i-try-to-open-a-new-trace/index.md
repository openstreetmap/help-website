+++
type = "question"
title = "exception error when i try to open a new trace"
description = '''hi Recently i am getting the below error when i try to open a new trace: &quot;An unhandled win32 exception occurred in Wireshark.exe&quot; can someone help me pls? mark'''
date = "2014-12-04T01:53:00Z"
lastmod = "2014-12-05T13:17:00Z"
weight = 38315
keywords = [ "issueopennewtrace" ]
aliases = [ "/questions/38315" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [exception error when i try to open a new trace](/questions/38315/exception-error-when-i-try-to-open-a-new-trace)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-38315-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>hi</p><p>Recently i am getting the below error when i try to open a new trace:</p><p>"An unhandled win32 exception occurred in Wireshark.exe"</p><p>can someone help me pls?</p><p>mark</p></div><div id="question-tags" class="tags-container tags">issueopennewtrace</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>04 Dec '14, 01:53</strong></p><img src="https://secure.gravatar.com/avatar/c6ac524218cd0fea997031524b5b179f?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="MarkFaenza&#39;s gravatar image" /><p>MarkFaenza<br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="MarkFaenza has no accepted answers">0%</span></p></div></div><div id="comments-container-38315" class="comments-container"><span id="38316"></span><div id="comment-38316" class="comment"><div id="post-38316-score" class="comment-score"></div><div class="comment-text"><p>What is the Wireshark version, OS version and how big is the capture file?</p></div><div id="comment-38316-info" class="comment-info"><span class="comment-age">(04 Dec '14, 03:06)</span> grahamb ♦</div></div><span id="38318"></span><div id="comment-38318" class="comment"><div id="post-38318-score" class="comment-score"></div><div class="comment-text"><p>hi graham</p><p>thanks a lot for your reply. Answers below:</p><p>Version = Version 1.12.2 (v1.12.2-0-g898fa22 from master-1.12) Windows 7 file size 40MB</p></div><div id="comment-38318-info" class="comment-info"><span class="comment-age">(04 Dec '14, 03:08)</span> MarkFaenza</div></div><span id="38322"></span><div id="comment-38322" class="comment"><div id="post-38322-score" class="comment-score"></div><div class="comment-text"><p>Nothing odd there, can you run the command line tool capinfos.exe (in the same directory as Wireshark.exe) on the capture and post the output as another comment, e.g.</p><pre><code>path\to\capinfos.exe path\to\your\capture\file</code></pre></div><div id="comment-38322-info" class="comment-info"><span class="comment-age">(04 Dec '14, 04:58)</span> grahamb ♦</div></div><span id="38323"></span><div id="comment-38323" class="comment"><div id="post-38323-score" class="comment-score"></div><div class="comment-text"><p>i am sorry i dont seem to have capinfos.exe :(</p></div><div id="comment-38323-info" class="comment-info"><span class="comment-age">(04 Dec '14, 05:07)</span> MarkFaenza</div></div><span id="38324"></span><div id="comment-38324" class="comment"><div id="post-38324-score" class="comment-score"></div><div class="comment-text"><p>Should be installed right along-side Wireshark.exe, maybe you unselected the "Tools" component(or Capinfos in that section) when you installed Wireshark. Can you reinstall with the "Tools" option selected?</p></div><div id="comment-38324-info" class="comment-info"><span class="comment-age">(04 Dec '14, 05:31)</span> grahamb ♦</div></div><span id="38326"></span><div id="comment-38326" class="comment not_top_scorer"><div id="post-38326-score" class="comment-score"></div><div class="comment-text"><p>sure graham let me try and will advise. thanks al ot</p></div><div id="comment-38326-info" class="comment-info"><span class="comment-age">(04 Dec '14, 05:53)</span> MarkFaenza</div></div><span id="38327"></span><div id="comment-38327" class="comment not_top_scorer"><div id="post-38327-score" class="comment-score"></div><div class="comment-text"><p>i just added a screenshot, can you confirm if i am doing it good?</p></div><div id="comment-38327-info" class="comment-info"><span class="comment-age">(04 Dec '14, 06:36)</span> MarkFaenza</div></div><span id="38328"></span><div id="comment-38328" class="comment not_top_scorer"><div id="post-38328-score" class="comment-score"></div><div class="comment-text"><p><img src="https://osqa-ask.wireshark.org/upfiles/screenshot_J1IjGUm.jpg" alt="alt text" /></p></div><div id="comment-38328-info" class="comment-info"><span class="comment-age">(04 Dec '14, 06:37)</span> MarkFaenza</div></div><span id="38332"></span><div id="comment-38332" class="comment not_top_scorer"><div id="post-38332-score" class="comment-score"></div><div class="comment-text"><p>Close, assuming that Wireshark is installed in "C:\Program Files", then the command is:</p><p>"C:\Program Files\Wireshark\capinfos.exe" "Desktop\Justin Ticket\am1slc02-mgmt-DCA-igb0-1409831942"</p><p>The quotes are required as the paths have spaces in them. Also the best method for displaying the output of text programs is to copy the text. Right click the cmd window, dselect "Mark" from the context menu, left mouse down at the start of the text, drag the mouse to highlight all the required text, let the mouse button go, and then hit "Enter" to copy the text to the clipboard. The clipboard text can then be pasted directly into your comment (or answer) if it is an answer).</p></div><div id="comment-38332-info" class="comment-info"><span class="comment-age">(04 Dec '14, 07:56)</span> grahamb ♦</div></div><span id="38334"></span><div id="comment-38334" class="comment not_top_scorer"><div id="post-38334-score" class="comment-score"></div><div class="comment-text"><p>hi graham</p><p>thanks again :) Can you check the screenshot that i am uploading now please.</p><p>I think we need to add an option when using capinfos.exe as i tried to run it alone and it asked for options.</p><p>mark</p></div><div id="comment-38334-info" class="comment-info"><span class="comment-age">(04 Dec '14, 09:05)</span> MarkFaenza</div></div><span id="38335"></span><div id="comment-38335" class="comment not_top_scorer"><div id="post-38335-score" class="comment-score"></div><div class="comment-text"><p><img src="https://osqa-ask.wireshark.org/upfiles/capture2.jpg" alt="alt text" /></p></div><div id="comment-38335-info" class="comment-info"><span class="comment-age">(04 Dec '14, 09:06)</span> MarkFaenza</div></div><span id="38338"></span><div id="comment-38338" class="comment not_top_scorer"><div id="post-38338-score" class="comment-score"></div><div class="comment-text"><p>No, you don't need to give it an option, you need to give it the pathname of a file that actually exists; as the message says, there's no such file as C:\Users\markf\am1slc02.</p></div><div id="comment-38338-info" class="comment-info"><span class="comment-age">(04 Dec '14, 15:16)</span> Guy Harris ♦♦</div></div><span id="38344"></span><div id="comment-38344" class="comment not_top_scorer"><div id="post-38344-score" class="comment-score"></div><div class="comment-text"><p>thanks again for your patience.</p><p>Today i tried doing the below:</p><p>cd "C:\Program Files\Wireshark"</p><p>Then</p><p>capinfos.exe "C:\Users\markf\am1slc02"</p><p>After i do that its telling me no such file or directory and i am 100% sure that the file is in that location.</p><p>I will attach a screenshot showing the error and the file in the correct location /Users/markf/am1slc02</p><p>thanks a lot</p></div><div id="comment-38344-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:09)</span> MarkFaenza</div></div><span id="38345"></span><div id="comment-38345" class="comment not_top_scorer"><div id="post-38345-score" class="comment-score"></div><div class="comment-text"><p><img src="https://osqa-ask.wireshark.org/upfiles/capture3.JPG" alt="alt text" /></p></div><div id="comment-38345-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:10)</span> MarkFaenza</div></div><span id="38346"></span><div id="comment-38346" class="comment not_top_scorer"><div id="post-38346-score" class="comment-score"></div><div class="comment-text"><p>I doubt the file's name is just "am1slc02", as Windows is displaying an icon for it, and Windows Explorer will omit the extension if it knows it.</p><p>It's probably "am1slc02.pcap" or "am1slc02.pcapng" or something such as that. Try right-clicking on it in Windows Explorer, pop up the Properties dialog, and select "Details"; that should show the full name, including the extension.</p><p>On the command line, you need to pass the full file name, <em>including the extension</em>.</p></div><div id="comment-38346-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:20)</span> Guy Harris ♦♦</div></div><span id="38347"></span><div id="comment-38347" class="comment not_top_scorer"><div id="post-38347-score" class="comment-score"></div><div class="comment-text"><p>Stuipid me :)</p><p>It was .snoop</p><p>below is the result from capinfos</p><pre><code>C:\Program Files\Wireshark&gt;capinfos.exe &quot;C:\Users\markf\am1slc02.snoop&quot;
 File name:           C:\Users\markf\am1slc02.snoop
 File type:           Sun snoop
 File encapsulation:  Ethernet
 Packet size limit:   file hdr: (not set)
 Number of packets:   100 k
 File size:           40 MB
 Data size:           37 MB
 Capture duration:    946 seconds
 Start time:          Thu Sep 04 13:59:03 2014
 End time:            Thu Sep 04 14:14:49 2014
 Data byte rate:      40 kBps
 Data bit rate:       320 kbps
 Average packet size: 379.67 bytes
 Average packet rate: 105 packets/sec
 SHA1:                25a215e0ca6815cfb293b1e80a5d6333a2701511
 RIPEMD160:           f7df033d8c05d248c5bf83d5933bfb94144612cf
 MD5:                 09591400e6939a76fa953b7823731f45
 Strict time order:   True</code></pre></div><div id="comment-38347-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:29)</span> MarkFaenza</div></div><span id="38348"></span><div id="comment-38348" class="comment not_top_scorer"><div id="post-38348-score" class="comment-score"></div><div class="comment-text"><p>What happens if you run, in that directory:</p><pre><code>tshark.exe -V -r &quot;C:\Users\markf\am1slc02.snoop&quot;</code></pre><p>(with 100 packets, it <em>could</em> print a lot of data out - but if it crashes with an exception, that would indicate that there's a bug somewhere in the packet dissection code (which is shared by Wireshark and TShark).</p></div><div id="comment-38348-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:38)</span> Guy Harris ♦♦</div></div><span id="38350"></span><div id="comment-38350" class="comment not_top_scorer"><div id="post-38350-score" class="comment-score"></div><div class="comment-text"><p>hmmm seems to be running fine and its still running...</p></div><div id="comment-38350-info" class="comment-info"><span class="comment-age">(05 Dec '14, 00:59)</span> MarkFaenza</div></div><span id="38351"></span><div id="comment-38351" class="comment not_top_scorer"><div id="post-38351-score" class="comment-score"></div><div class="comment-text"><p>shall i stop it?</p></div><div id="comment-38351-info" class="comment-info"><span class="comment-age">(05 Dec '14, 01:06)</span> MarkFaenza</div></div><span id="38352"></span><div id="comment-38352" class="comment not_top_scorer"><div id="post-38352-score" class="comment-score"></div><div class="comment-text"><p>As in it's still producing output? If so, yes, Ctrl + C should stop it.</p></div><div id="comment-38352-info" class="comment-info"><span class="comment-age">(05 Dec '14, 02:35)</span> grahamb ♦</div></div><span id="38353"></span><div id="comment-38353" class="comment not_top_scorer"><div id="post-38353-score" class="comment-score"></div><div class="comment-text"><p>ok i just stopped it.</p><p>any more ideas what i can do to solve the issue please?</p><p>let me send you a screenshot of what happens when i try to open a new trace</p><p>mark</p></div><div id="comment-38353-info" class="comment-info"><span class="comment-age">(05 Dec '14, 02:40)</span> MarkFaenza</div></div><span id="38354"></span><div id="comment-38354" class="comment not_top_scorer"><div id="post-38354-score" class="comment-score"></div><div class="comment-text"><p><img src="https://osqa-ask.wireshark.org/upfiles/Capture4_3UdCSjE.JPG" alt="alt text" /></p></div><div id="comment-38354-info" class="comment-info"><span class="comment-age">(05 Dec '14, 02:43)</span> MarkFaenza</div></div><span id="38355"></span><div id="comment-38355" class="comment not_top_scorer"><div id="post-38355-score" class="comment-score"></div><div class="comment-text"><p>The capture appears to be triggering a bug in Wireshark. The tests with capinfos shows that it seems to be a valid capture file, but when Wireshark inspects the contents in detail the bug is triggered.</p><p>If you can share the capture that causes the issue with the Wireshark developers you can raise an entry at the <a href="https://bugs.wireshark.org/bugzilla/enter_bug.cgi?product=Wireshark">Wireshark Bugzilla</a> and attach the capture. In the advanced options you can mark the bug and attachment is private to restrict public access.</p><p>If you can't share the capture then you will have to debug it yourself. You can try using editcap (in the same place as Wireshark and capinfos) to split the capture file into chunks and then open each chunk to find where it crashes, e.g. <code>editcap -c 5000 path\to\capture\file path\to\output\file</code> will split the capture into capture files of 5K packets each.</p></div><div id="comment-38355-info" class="comment-info"><span class="comment-age">(05 Dec '14, 03:13)</span> grahamb ♦</div></div><span id="38359"></span><div id="comment-38359" class="comment not_top_scorer"><div id="post-38359-score" class="comment-score"></div><div class="comment-text"><p>thanks graham i will take it with bugzilla</p><p>mark</p></div><div id="comment-38359-info" class="comment-info"><span class="comment-age">(05 Dec '14, 04:07)</span> MarkFaenza</div></div></div><div id="comment-tools-38315" class="comment-tools"><span class="comments-showing"> showing 5 of 24 </span> <a href="#" class="show-all-comments-link">show 19 more comments</a></div><div class="clear"></div><div id="comment-38315-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="38373"></span>

<div id="answer-container-38373" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-38373-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Submitted as <a href="https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=10755">bug 10755</a>; a fix has been committed on the trunk and in the 1.12 branch, so the next 1.12.x release should fix this.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>05 Dec '14, 13:17</strong></p><img src="https://secure.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Guy%20Harris&#39;s gravatar image" /><p>Guy Harris ♦♦<br />
<span class="score" title="17443 reputation points"><span>17.4k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="35 badges"><span class="silver">●</span><span class="badgecount">35</span></span><span title="196 badges"><span class="bronze">●</span><span class="badgecount">196</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Guy Harris has 216 accepted answers">19%</span></p></img></div></div><div id="comments-container-38373" class="comments-container"></div><div id="comment-tools-38373" class="comment-tools"></div><div class="clear"></div><div id="comment-38373-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

