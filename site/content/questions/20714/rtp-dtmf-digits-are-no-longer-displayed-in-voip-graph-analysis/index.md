+++
type = "question"
title = "RTP DTMF digits are no longer displayed in VoIP graph analysis"
description = '''I discovered today that, Wireshark 1.8.6 does not display RFC2833 DTMF telephony events in VoIP call graph analysis anymore. It was a very convenient way to see, which DTMF digits are transmitted in the RTP packets.  This example displays 7 DTMF digits and is taken with wireshark 1.8.3. The same tra...'''
date = "2013-04-22T12:06:00Z"
lastmod = "2013-04-24T08:57:00Z"
weight = 20714
keywords = [ "digits", "payload", "2833", "dtmf", "rtp" ]
aliases = [ "/questions/20714" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [RTP DTMF digits are no longer displayed in VoIP graph analysis](/questions/20714/rtp-dtmf-digits-are-no-longer-displayed-in-voip-graph-analysis)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-20714-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I discovered today that, Wireshark 1.8.6 does not display RFC2833 DTMF telephony events in VoIP call graph analysis anymore.</p><p>It was a very convenient way to see, which DTMF digits are transmitted in the RTP packets. <img src="http://s16.postimg.org/hmtgravad/dtmf.png" alt="alt text" /></p><p>This example displays 7 DTMF digits and is taken with wireshark 1.8.3. The same trace shows only "RTP (telephone-event)" and not which digit is transmitted anymore as of (at least) wireshark 1.8.6. Which digit is transmitted, has to be figured out at the packet view.</p><p>Is this a bug or may be enabled by a new option?</p><p>Thanks &amp; Greetings, Chris</p></div><div id="question-tags" class="tags-container tags">digits payload 2833 dtmf rtp</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>22 Apr '13, 12:06</strong></p><img src="https://secure.gravatar.com/avatar/120b898e2afe97529f8406aad04b86b4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="ChrisVoIP&#39;s gravatar image" /><p>ChrisVoIP<br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="ChrisVoIP has no accepted answers">0%</span></p></img></div></div><div id="comments-container-20714" class="comments-container"><span id="40676"></span><div id="comment-40676" class="comment"><div id="post-40676-score" class="comment-score"></div><div class="comment-text"><p>I am having this issue 64bit 1.12.4</p></div><div id="comment-40676-info" class="comment-info"><span class="comment-age">(18 Mar '15, 16:26)</span> Samfiller</div></div></div><div id="comment-tools-20714" class="comment-tools"></div><div class="clear"></div><div id="comment-20714-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="20718"></span>

<div id="answer-container-20718" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-20718-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>That behavior changed between 1.8.5 (shows DTMF event info in graph) and 1.8.6 (does not show DTMF event info). Looks like a bug to me.</p><p>Regards<br />
Kurt</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>22 Apr '13, 13:17</strong></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p>Kurt Knochner ♦<br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kurt Knochner has 344 accepted answers">15%</span> </br></p></div></div><div id="comments-container-20718" class="comments-container"><span id="20719"></span><div id="comment-20719" class="comment"><div id="post-20719-score" class="comment-score"></div><div class="comment-text"><p>This is probably a side effect of the fix for bug <a href="https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=8321">8321</a></p></div><div id="comment-20719-info" class="comment-info"><span class="comment-age">(22 Apr '13, 14:07)</span> Pascal Quantin</div></div><span id="20720"></span><div id="comment-20720" class="comment"><div id="post-20720-score" class="comment-score"></div><div class="comment-text"><p>@Pascal Quantin: Care to elaborate?</p></div><div id="comment-20720-info" class="comment-info"><span class="comment-age">(22 Apr '13, 14:16)</span> Jaap ♦</div></div><span id="20721"></span><div id="comment-20721" class="comment"><div id="post-20721-score" class="comment-score"></div><div class="comment-text"><p>@Jaap: reverting revision 47729 solves the issue. I do not have the time to dig further right now.</p></div><div id="comment-20721-info" class="comment-info"><span class="comment-age">(22 Apr '13, 15:41)</span> Pascal Quantin</div></div></div><div id="comment-tools-20718" class="comment-tools"></div><div class="clear"></div><div id="comment-20718-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="20768"></span>

<div id="answer-container-20768" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-20768-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>This a regression tracked by bug <a href="https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=8610">8610</a> and now fixed in the soon to be released 1.10rc1. The fix will also be backported in 1.8.7 and 1.6.15 releases.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>24 Apr '13, 08:57</strong></p><img src="https://secure.gravatar.com/avatar/713f24fd877861260b71ecd455018625?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Pascal%20Quantin&#39;s gravatar image" /><p>Pascal Quantin<br />
<span class="score" title="5544 reputation points"><span>5.5k</span></span><span title="10 badges"><span class="silver">●</span><span class="badgecount">10</span></span><span title="60 badges"><span class="bronze">●</span><span class="badgecount">60</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Pascal Quantin has 92 accepted answers">30%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 24 Apr '13, 14:35</p></div></div><div id="comments-container-20768" class="comments-container"><span id="29060"></span><div id="comment-29060" class="comment"><div id="post-29060-score" class="comment-score"></div><div class="comment-text"><p>HI Wireshark Team, I report this problem with the latest wireshark Version 1.10.5 (SVN Rev 54262 from /trunk-1.10), the RTP DTMF digits are not displayed in the flow graph. However, the Version 1.6.8 (SVN Rev 42761 from /trunk-1.6) display the RTP DTMF digits in the flow graph for the same .pcapng file</p></div><div id="comment-29060-info" class="comment-info"><span class="comment-age">(21 Jan '14, 06:50)</span> krash</div></div><span id="29074"></span><div id="comment-29074" class="comment"><div id="post-29074-score" class="comment-score"></div><div class="comment-text"><p>Could you share a capture showing the issue? The capture from Wireshark wiki <a href="http://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=get&amp;target=SIP_DTMF2.cap">http://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=get&amp;target=SIP_DTMF2.cap</a> is working as expected with 1.10.5</p></div><div id="comment-29074-info" class="comment-info"><span class="comment-age">(21 Jan '14, 14:38)</span> Pascal Quantin</div></div><span id="30371"></span><div id="comment-30371" class="comment"><div id="post-30371-score" class="comment-score"></div><div class="comment-text"><p><img src="https://osqa-ask.wireshark.org/upfiles/DTMF_capture.png" alt="alt text" />Still not fixed in 1.10.5, subsequently it is not recognized by the rtp.event_id filter.</p></div><div id="comment-30371-info" class="comment-info"><span class="comment-age">(03 Mar '14, 16:06)</span> jrounds</div></div><span id="30427"></span><div id="comment-30427" class="comment"><div id="post-30427-score" class="comment-score"></div><div class="comment-text"><p>jrounds: we can't do anything about it without the capture file. We don't need everything - just the SIP messages with the SDP, and a few of the RTP packets. According to the screenshot you pasted above, SDP did setup the RTP flow, but didn't assign it to telephone-events. So even just seeing a screenshot of the SDP protocol details window might be sufficient.</p></div><div id="comment-30427-info" class="comment-info"><span class="comment-age">(04 Mar '14, 22:40)</span> Hadriel</div></div><span id="47088"></span><div id="comment-47088" class="comment"><div id="post-47088-score" class="comment-score"></div><div class="comment-text"><p>Still not fixed in R1.12.6, the DTMF number is not shown. Any idea when the fix will be available?</p></div><div id="comment-47088-info" class="comment-info"><span class="comment-age">(30 Oct '15, 05:20)</span> TechSupport</div></div><span id="47104"></span><div id="comment-47104" class="comment not_top_scorer"><div id="post-47104-score" class="comment-score"></div><div class="comment-text"><p>Please provide a capture showing the issue (even better, create a bug report on <a href="https://bugs.wireshark.org">https://bugs.wireshark.org</a> and attach the capture here). Without it, we cannot look at the issue. I just tested the capture found here <a href="http://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=get&amp;target=SIP_DTMF2.cap">http://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=get&amp;target=SIP_DTMF2.cap</a> with Wireshark 2.0rc2 and it works fine, so it means your use case is different.</p></div><div id="comment-47104-info" class="comment-info"><span class="comment-age">(31 Oct '15, 01:23)</span> Pascal Quantin</div></div><span id="47106"></span><div id="comment-47106" class="comment not_top_scorer"><div id="post-47106-score" class="comment-score"></div><div class="comment-text"><p>Pascal, as it seems that some people are bothered by this and similar issues more than me, I'll add my observations here:</p><ul><li>I've just tried to open the SIP_DTMF2.cap you've mentioned above and the VoIP calls flow graph in 1.12.8 on Windows 7 does not show RTP <em>at_all</em> (while the packet list does show some G.711 packets, so decoding of the SDPs and marking matching UDP packets as RTP does work).</li></ul><p>(1.12.8 is the latest published stable release at the time of writing this.)</p><ul><li><p>I've got other captures in my collection where [email protected] does show RTP including the DTMF symbol value, but the value is only visible if the arrow is long enough, which means that whenever the arrow goes between two directly neighbouring IP addresses in the graph, there is no way to see the DTMF symbol (or e.g. longer information contents of SIP INVITEs). Placing the mouse cursor over the arrow doesn't help, nor can the dashed vertical lines be moved horizontally. This is definitely not a bug, but the practical consequence is similar. What is the right input pipe for this "improvement wish"?</p></li><li><p>there are more real issues in addition to the first item above: in particular captures only some (parts of) RTP flows are shown, or the same RTP (sub)flow is shown several times, this leads me to a question whether to open all that as a single bug or as several independent ones, suspecting that in fact they are all caused by just a couple of root causes?</p></li></ul></div><div id="comment-47106-info" class="comment-info"><span class="comment-age">(31 Oct '15, 03:59)</span> sindy</div></div><span id="47116"></span><div id="comment-47116" class="comment not_top_scorer"><div id="post-47116-score" class="comment-score"></div><div class="comment-text"><p>I just tested Wireshark 1.12.8 and indeed it was broken again. But it's working as expected in Wiresahrk 2.rc2 (as stated above).</p><p>Improvement requests must be done on <a href="https://bugs.wireshark.org">https://bugs.wireshark.org</a> (enhancement category) but be aware that the GTK UI is being deprecated and replaced by Qt UI starting from version 2.0. Don't worry, it suffers from the same sizing issue ;)</p><p>If you face issues, please create bug reports with captures. Without it, do not expect to see things improving (as without pcap files showing the issues, we cannot fix bugs). If you have a doubt, simply fill one with pcap samples. If required, we will split it in several bugs if the root causes are different.</p></div><div id="comment-47116-info" class="comment-info"><span class="comment-age">(31 Oct '15, 11:26)</span> Pascal Quantin</div></div></div><div id="comment-tools-20768" class="comment-tools"><span class="comments-showing"> showing 5 of 8 </span> <a href="#" class="show-all-comments-link">show 3 more comments</a></div><div class="clear"></div><div id="comment-20768-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

