+++
type = "question"
title = "Bad name resolution"
description = '''I have tried everything... clearing the DNS cache, creating a hosts file on the Wireshark directory the same as the windows host file, unticking the DNS resolver on the Protocols-&amp;gt;DNS but nothing worked out. Currently, I have and IP that resolves to an older name that was previously configured on...'''
date = "2015-07-29T03:48:00Z"
lastmod = "2015-07-31T13:22:00Z"
weight = 44586
keywords = [ "resolution", "name", "dns", "error" ]
aliases = [ "/questions/44586" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [Bad name resolution](/questions/44586/bad-name-resolution)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-44586-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-44586-score" class="post-score" title="current number of votes">0</div><span id="post-44586-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I have tried everything... clearing the DNS cache, creating a hosts file on the Wireshark directory the same as the windows host file, unticking the DNS resolver on the Protocols-&gt;DNS but nothing worked out.</p><p>Currently, I have and IP that resolves to an older name that was previously configured on the hosts file of the windows but after changing it, wireshark continues to show the previous name on its resolution.</p><p>Can someone help me out please? I want to update the name of the IP and Wireshark isn't helping.</p><p>Thank you</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-resolution" rel="tag" title="see questions tagged &#39;resolution&#39;">resolution</span> <span class="post-tag tag-link-name" rel="tag" title="see questions tagged &#39;name&#39;">name</span> <span class="post-tag tag-link-dns" rel="tag" title="see questions tagged &#39;dns&#39;">dns</span> <span class="post-tag tag-link-error" rel="tag" title="see questions tagged &#39;error&#39;">error</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>29 Jul '15, 03:48</strong></p><img src="https://secure.gravatar.com/avatar/4775574b858cbcaadd5281a29571bba0?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="WamaKota&#39;s gravatar image" /><p><span>WamaKota</span><br />
<span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="WamaKota has no accepted answers">0%</span></p></div></div><div id="comments-container-44586" class="comments-container"><span id="44674"></span><div id="comment-44674" class="comment"><div id="post-44674-score" class="comment-score"></div><div class="comment-text"><p>Still in with this pickle... no one has ever experienced this issue?</p></div><div id="comment-44674-info" class="comment-info"><span class="comment-age">(31 Jul '15, 03:54)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44676"></span><div id="comment-44676" class="comment"><div id="post-44676-score" class="comment-score"></div><div class="comment-text"><p>To determine if this is Wireshark, or your hosts name resolution system, from a command prompt what does <code>nslookup IP_IN_QUESTION</code> return?</p></div><div id="comment-44676-info" class="comment-info"><span class="comment-age">(31 Jul '15, 05:25)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44680"></span><div id="comment-44680" class="comment"><div id="post-44680-score" class="comment-score"></div><div class="comment-text"><p>Hi grahamb,</p><p>I forgot to mention that I had already checked that:</p><p>Server: UnKnown Address: 2001:8a0:6cc0:5901:226:44ff:fe9b:3a4d</p><p>*** UnKnown can't find 10.102.78.209: No response from server</p><p>It is a private IP that I added to the hosts file and later on I changed it's name on the same file.</p></div><div id="comment-44680-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:21)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44681"></span><div id="comment-44681" class="comment"><div id="post-44681-score" class="comment-score"></div><div class="comment-text"><p>Ok, so apparently no name resolver available, falling back to hosts file and broadcast. Does the host actually exist on your local subnet with the "original" name?</p><p>Is it an IPv4 or IPv6 address you're having issues with?</p><p>Is the address visible in the NetBIOS cache, <code>nbtstat -c</code>?</p><p>Do you have WINS configured?</p></div><div id="comment-44681-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:27)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44683"></span><div id="comment-44683" class="comment"><div id="post-44683-score" class="comment-score"></div><div class="comment-text"><p>No, it doesn't exist in my subnet.</p><p>It's IPv4 and it is not on the NBT's cache list.</p></div><div id="comment-44683-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:32)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44684"></span><div id="comment-44684" class="comment not_top_scorer"><div id="post-44684-score" class="comment-score"></div><div class="comment-text"><p>And does <code>ping hostname</code> use the correct address (as in your hosts file)?</p></div><div id="comment-44684-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:51)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44685"></span><div id="comment-44685" class="comment not_top_scorer"><div id="post-44685-score" class="comment-score"></div><div class="comment-text"><p>Don't think I have WINS configured... how do I check that? :)</p></div><div id="comment-44685-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:53)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44686"></span><div id="comment-44686" class="comment not_top_scorer"><div id="post-44686-score" class="comment-score"></div><div class="comment-text"><p>And I cannot ping the IP has it isn't in my subnet and there is no connection to the IP so it can't resolve it's name.</p></div><div id="comment-44686-info" class="comment-info"><span class="comment-age">(31 Jul '15, 06:55)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44687"></span><div id="comment-44687" class="comment not_top_scorer"><div id="post-44687-score" class="comment-score"></div><div class="comment-text"><p>But if name resolution was working from the hosts file then it would resolve the name even if you can't actually ping it. I just tested this (Win 8.1) by adding "1.2.3.4 testname" to the hosts file and then using <code>ping testname</code>.</p><p>For WINS, <code>ipconfig /all</code> and check for any WINS servers listed for the interface in question.</p></div><div id="comment-44687-info" class="comment-info"><span class="comment-age">(31 Jul '15, 07:19)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44690"></span><div id="comment-44690" class="comment not_top_scorer"><div id="post-44690-score" class="comment-score"></div><div class="comment-text"><p>I don't have WINS configured.</p><p>I think you aren't grasping the issue. In the hosts file, the IP is configured with a different name than the one shown on Wireshark. That's why I can't ping the host Wirehark presents but my machine resolves the name I have updated for the same IP on the hosts file.</p><p>I'll try to explain:</p><p>IP - 10.102.78.209</p><p>Name resolution on Wireshark - S13_interface</p><p>Hosts file - 10.102.78.209 S6A_LB1</p><p>Ping result:</p><p>ping S6A_LB1</p><p>Pinging S6A_LB1 [10.102.78.209] with 32 bytes of data:</p><p>I hope I was able to explain myself :)</p><p>Thank you for your time and resolve in this issue!</p></div><div id="comment-44690-info" class="comment-info"><span class="comment-age">(31 Jul '15, 07:32)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44691"></span><div id="comment-44691" class="comment not_top_scorer"><div id="post-44691-score" class="comment-score"></div><div class="comment-text"><p>I think I do understand the issue, but was trying to eliminate some usual reasons for name resolution to not work as expected.</p><p>What does the Wireshark Address Resolution list show for IPv4 (Statistics -&gt; Show Address Resolution)?</p></div><div id="comment-44691-info" class="comment-info"><span class="comment-age">(31 Jul '15, 07:48)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44692"></span><div id="comment-44692" class="comment not_top_scorer"><div id="post-44692-score" class="comment-score"></div><div class="comment-text"><p>My friend, I think you are near the jackpot! :)</p><p>The ip on the list you mentioned is the incorrect one. I deleted one of the entries that was incorrect and it changed to the updated and right one but then tried to delete all the entries so it refreshed itself and it didn't work for all IP addresses.</p><p>But I think we are getting somewhere,,,</p></div><div id="comment-44692-info" class="comment-info"><span class="comment-age">(31 Jul '15, 08:01)</span> <span class="comment-user userinfo">WamaKota</span></div></div></div><div id="comment-tools-44586" class="comment-tools"><span class="comments-showing"> showing 5 of 12 </span> <a href="#" class="show-all-comments-link">show 7 more comments</a></div><div class="clear"></div><div id="comment-44586-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="44693"></span>

<div id="answer-container-44693" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-44693-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-44693-score" class="post-score" title="current number of votes">1</div><span id="post-44693-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>First off, what version of Wireshark are you using?</p><p>Are you using Profiles? Perhaps you're editing the <code>hosts</code> file in a different profile than the active profile?</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>31 Jul '15, 09:42</strong></p><img src="https://secure.gravatar.com/avatar/55158e2322c4e365a5e0a4a0ac3fbcef?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="cmaynard&#39;s gravatar image" /><p><span>cmaynard ♦♦</span><br />
<span class="score" title="9361 reputation points"><span>9.4k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="38 badges"><span class="silver">●</span><span class="badgecount">38</span></span><span title="142 badges"><span class="bronze">●</span><span class="badgecount">142</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="cmaynard has 108 accepted answers">20%</span></p></div></div><div id="comments-container-44693" class="comments-container"><span id="44694"></span><div id="comment-44694" class="comment"><div id="post-44694-score" class="comment-score"></div><div class="comment-text"><p>Version 1.12.5</p><p>Been using the default profiles, never added one.</p></div><div id="comment-44694-info" class="comment-info"><span class="comment-age">(31 Jul '15, 09:45)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44695"></span><div id="comment-44695" class="comment"><div id="post-44695-score" class="comment-score"></div><div class="comment-text"><p>grahab was helping me out and he found that the name resolution in the Statistics -&gt; Show Address Resolution is the wrong one. Do you know how to flush this resolution?</p></div><div id="comment-44695-info" class="comment-info"><span class="comment-age">(31 Jul '15, 09:48)</span> <span class="comment-user userinfo">WamaKota</span></div></div><span id="44696"></span><div id="comment-44696" class="comment"><div id="post-44696-score" class="comment-score"></div><div class="comment-text"><p>Can you confirm the following:</p><ul><li>Since you're using the Default profile, the directory where the <code>hosts</code> file is located is in your personal configuration directory as found via: <code>Help -&gt; About Wireshark -&gt; Folders -&gt; Personal configuration</code></li><li>Your name resolution settings set under <code>Edit -&gt; Preferences -&gt; Name Resolution</code> are correct? i.e., you have 'Resolve network(IP) addresses' enabled and possibly also the 'Only use the profile "hosts" file" enabled as well.</li></ul></div><div id="comment-44696-info" class="comment-info"><span class="comment-age">(31 Jul '15, 09:53)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div><span id="44697"></span><div id="comment-44697" class="comment"><div id="post-44697-score" class="comment-score"></div><div class="comment-text"><p>You are working with a .pcap file or a .pcapng file? If .pcapng, what happens if you save it as a .pcap file?</p></div><div id="comment-44697-info" class="comment-info"><span class="comment-age">(31 Jul '15, 09:55)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div><span id="44698"></span><div id="comment-44698" class="comment"><div id="post-44698-score" class="comment-score"></div><div class="comment-text"><p><span>@cmaynard</span>, I'd assumed the hosts file in question was the Windows one, hence my earlier efforts to ensure that Windows at least did the correct thing.</p></div><div id="comment-44698-info" class="comment-info"><span class="comment-age">(31 Jul '15, 10:19)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="44699"></span><div id="comment-44699" class="comment not_top_scorer"><div id="post-44699-score" class="comment-score"></div><div class="comment-text"><p><span>@grahamb</span>, Yup, it would be nice if all questions came with Wireshark version and platform information like bug reports are expected to include.</p></div><div id="comment-44699-info" class="comment-info"><span class="comment-age">(31 Jul '15, 10:29)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div><span id="44708"></span><div id="comment-44708" class="comment not_top_scorer"><div id="post-44708-score" class="comment-score"></div><div class="comment-text"><p>I have changed the hosts file on the personal configuration folder (it was outdated)</p><p>After that, I have set the name resolution settings with the tick on 'Only use the profile "hosts" file' and the problem seems solved!</p><p>Both combined did the trick.</p><p>Thank you so much for your help! :)</p></div><div id="comment-44708-info" class="comment-info"><span class="comment-age">(31 Jul '15, 13:22)</span> <span class="comment-user userinfo">WamaKota</span></div></div></div><div id="comment-tools-44693" class="comment-tools"><span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a></div><div class="clear"></div><div id="comment-44693-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

