+++
type = "question"
title = "[closed] Need help with (basic) turn restrictions"
description = '''This is a typical 4-ways junction with slip roads for each way: https://www.openstreetmap.org/#map=18/4.90865/114.90912 I added some turn restrictions at this junction over a week ago with some visual help from JOSM graphview plugin, but according to map.project-osrm.org they don&#x27;t work right. I add...'''
date = "2014-11-14T10:05:00Z"
lastmod = "2014-11-19T18:13:00Z"
weight = 38552
keywords = [ "no_u_turn", "junction", "turn_restrictions" ]
aliases = [ "/questions/38552" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [\[closed\] Need help with (basic) turn restrictions](/questions/38552/need-help-with-basic-turn-restrictions)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-38552-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-38552-score" class="post-score" title="current number of votes">
2
</div>
<span id="post-38552-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>This is a typical 4-ways junction with slip roads for each way: <a href="https://www.openstreetmap.org/#map=18/4.90865/114.90912">https://www.openstreetmap.org/#map=18/4.90865/114.90912</a></p>
<p>I added some turn restrictions at this junction over a week ago with some visual help from JOSM graphview plugin, but according to map.project-osrm.org they don't work right. I added 4 no_u_turn and 4 no_left_turn for each way, but OSRM says yes_u_turn and allows a roundabout movement to make a left turn. How do I do this right?</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-no_u_turn" rel="tag" title="see questions tagged &#39;no_u_turn&#39;">no_u_turn</span> <span class="post-tag tag-link-junction" rel="tag" title="see questions tagged &#39;junction&#39;">junction</span> <span class="post-tag tag-link-turn_restrictions" rel="tag" title="see questions tagged &#39;turn_restrictions&#39;">turn_restrictions</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>14 Nov '14, 10:05</strong></p>
<img src="https://secure.gravatar.com/avatar/edf8bc160bbf7f47d6cbc6979120b2c7?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="raito&#39;s gravatar image" />
<p><span>raito</span><br />
<span class="score" title="302 reputation points">302</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="19 badges"><span class="bronze">●</span><span class="badgecount">19</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="raito has one accepted answer">50%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> closed <strong>22 Nov '14, 05:04</strong> </span></p>
</div>
</div>
<div id="comments-container-38552" class="comments-container">
<span id="38553"></span>
<div id="comment-38553" class="comment">
<div id="post-38553-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>you may have read my question <a href="/questions/32420/turn-restrictions-and-routing-engines">https://help.openstreetmap.org/questions/32420/turn-restrictions-and-routing-engines</a> osrm does take a while to update. mmds comment shows how to see date of osrm data</p>
</div>
<div id="comment-38553-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 10:28)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
<span id="38554"></span>
<div id="comment-38554" class="comment">
<div id="post-38554-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>data: 141113 03:59Z That's like yesterday. I made the turn restrictions over a week ago. So most probably I did them wrong.</p>
</div>
<div id="comment-38554-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 10:57)</span> <span class="comment-user userinfo">raito</span>
</div>
</div>
<span id="38555"></span>
<div id="comment-38555" class="comment">
<div id="post-38555-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I can see the no left turns but i cannot see the u turn restriction in edit mode. and as you say OSRM does treat this as a square roundabout. Is that illegal? I assume the junction does not have right turn restrictions? but does have U-turn restrictions, is that correct?</p>
</div>
<div id="comment-38555-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 11:01)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
<span id="38556"></span>
<div id="comment-38556" class="comment">
<div id="post-38556-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Yes no right turn restrictions, and U-turns at traffic junctions are illegal generally in the whole country AFAIK.</p>
</div>
<div id="comment-38556-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 11:05)</span> <span class="comment-user userinfo">raito</span>
</div>
</div>
<span id="38557"></span>
<div id="comment-38557" class="comment">
<div id="post-38557-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>My guess is neither the editor or osrm can handle multiple way vias, as mentioned in note 3 on the relation page <a href="https://wiki.openstreetmap.org/wiki/Relation:restriction#cite_note-3">https://wiki.openstreetmap.org/wiki/Relation:restriction#cite_note-3</a> (I was unaware that any ways were allowed in the via role - when I last looked it was just from way, to way, via node). So I think your u-turn relations such as <a href="https://www.openstreetmap.org/relation/4166014#map=19/4.90854/114.90943">https://www.openstreetmap.org/relation/4166014#map=19/4.90854/114.90943</a> are correct as per the wiki. Ah - known issue <a href="https://github.com/Project-OSRM/osrm-backend/issues/483">https://github.com/Project-OSRM/osrm-backend/issues/483</a></p>
</div>
<div id="comment-38557-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 11:09)</span> <span class="comment-user userinfo">EdLoach ♦</span>
</div>
</div>
<span id="38558"></span>
<div id="comment-38558" class="comment not_top_scorer">
<div id="post-38558-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>That's too bad.. Hope OSRM supports via way soon.. So, am I right to think that I did nothing wrong after all?</p>
</div>
<div id="comment-38558-info" class="comment-info">
<span class="comment-age">(14 Nov '14, 11:22)</span> <span class="comment-user userinfo">raito</span>
</div>
</div>
<span id="38570"></span>
<div id="comment-38570" class="comment not_top_scorer">
<div id="post-38570-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>More bad news: OsmAnd (my preferred mobile app for OSM) routing also doesn't understand the restrictions.. (new map update 14Nov2014)</p>
</div>
<div id="comment-38570-info" class="comment-info">
<span class="comment-age">(15 Nov '14, 05:25)</span> <span class="comment-user userinfo">raito</span>
</div>
</div>
</div>
<div id="comment-tools-38552" class="comment-tools">
<span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-38552-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

<div class="question-status" style="margin-bottom:15px">

### The question has been closed for the following reason "The question is self-answered." by raito 22 Nov '14, 05:04

</div>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="38571"></span>

<div id="answer-container-38571" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-38571-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-38571-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-38571-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Try Mapquests router, they are the only ones that consider restrictions where via is a way:</p>
<p><a href="http://open.mapquest.com/">http://open.mapquest.com/</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>15 Nov '14, 07:34</strong></p>
<img src="https://secure.gravatar.com/avatar/0ae71d66eba9ad7437196ee1d689295f?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Janjko&#39;s gravatar image" />
<p><span>Janjko</span><br />
<span class="score" title="323 reputation points">323</span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="9 badges"><span class="bronze">●</span><span class="badgecount">9</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Janjko has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-38571" class="comments-container">
&#10;</div>
<div id="comment-tools-38571" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-38571-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="38669"></span>

<div id="answer-container-38669" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-38669-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-38669-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-38669-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Hey guys, I think I've just found the answer to my own question/problem! The problem was that most (if not all) routing software can't handle ways as via. And the solution is simply making the junction as only one node..</p>
<blockquote>
<p><a href="https://wiki.openstreetmap.org/wiki/Editing_Standards_and_Conventions#Junctions">"All road junctions should be drawn as a node which connects the ways (both or several ways share the same(!) node)."</a></p>
</blockquote>
<p>Here is my first one-node junction → <a href="https://www.openstreetmap.org/changeset/26891534">changeset 26891534</a>.</p>
<p>I will wait for this update to show on the routing softwares mentioned in this discussion, and test this junction before closing this question. Though they will probably now understand my restrictions, but I'm also interested how they will describe the turn directions ("go straight", "turn right", etc) as now the road that used to go through the junction straight is now not so straight.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>19 Nov '14, 18:13</strong></p>
<img src="https://secure.gravatar.com/avatar/edf8bc160bbf7f47d6cbc6979120b2c7?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="raito&#39;s gravatar image" />
<p><span>raito</span><br />
<span class="score" title="302 reputation points">302</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="19 badges"><span class="bronze">●</span><span class="badgecount">19</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="raito has one accepted answer">50%</span></p>
</div>
</div>
<div id="comments-container-38669" class="comments-container">
&#10;</div>
<div id="comment-tools-38669" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-38669-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

