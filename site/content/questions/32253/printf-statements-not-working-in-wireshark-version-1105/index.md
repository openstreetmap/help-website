+++
type = "question"
title = "Printf statements not working in Wireshark version 1.10.5"
description = '''I have added few printf statements in my custom dissector code for debugging and when i execute the Wireshark, printf statements are not getting printed on the linux console. I am using Wireshark version 1.10.5 and executing on Linux platform. Earlier i used Wireshark version 1.6.1 and there it used...'''
date = "2014-04-28T07:50:00Z"
lastmod = "2014-04-29T04:59:00Z"
weight = 32253
keywords = [ "printf" ]
aliases = [ "/questions/32253" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Printf statements not working in Wireshark version 1.10.5](/questions/32253/printf-statements-not-working-in-wireshark-version-1105)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-32253-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I have added few printf statements in my custom dissector code for debugging and when i execute the Wireshark, printf statements are not getting printed on the linux console.</p><p>I am using Wireshark version 1.10.5 and executing on Linux platform. Earlier i used Wireshark version 1.6.1 and there it used to work fine.</p><p>I also tried adding printf statements in some of the standard dissector code and found that none of them is printing.</p><p>I am not sure what went wrong, is there anything i am missing. Request your suggestion/help on the same.</p></div><div id="question-tags" class="tags-container tags">printf</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>28 Apr '14, 07:50</strong></p><img src="https://secure.gravatar.com/avatar/ae4b5aebc9d00c273018cc64d3ac583a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kiran%20Kumar%20G&#39;s gravatar image" /><p>Kiran Kumar G<br />
<span class="score" title="21 reputation points">21</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="14 badges"><span class="silver">●</span><span class="badgecount">14</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kiran Kumar G has no accepted answers">0%</span></p></div></div><div id="comments-container-32253" class="comments-container"></div><div id="comment-tools-32253" class="comment-tools"></div><div class="clear"></div><div id="comment-32253-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="32287"></span>

<div id="answer-container-32287" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-32287-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Check <a href="http://wiki.wireshark.org/Development/Tips">the Wiki</a>.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>29 Apr '14, 04:59</strong></p><img src="https://secure.gravatar.com/avatar/2337f0406681e5c72ea0e6f1f0d6c0b0?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jaap&#39;s gravatar image" /><p>Jaap ♦<br />
<span class="score" title="11680 reputation points"><span>11.7k</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="101 badges"><span class="bronze">●</span><span class="badgecount">101</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jaap has 155 accepted answers">14%</span></p></div></div><div id="comments-container-32287" class="comments-container"><span id="33861"></span><div id="comment-33861" class="comment"><div id="post-33861-score" class="comment-score"></div><div class="comment-text"><p>Hi Jaap</p><p>Thanks for the answer, i tried the link provided by you. But, in case of Linux, if we add printf's then it should print on the console. The problem here is nothing is getting printed, even we tried adding printf's in the Wireshark base code downloaded without any modifications, but, nothing printed on console.</p><p>Is any configuration required to get the printf statements getting printed on the console.</p><p>Request your suggestion. Thank you.</p></div><div id="comment-33861-info" class="comment-info"><span class="comment-age">(16 Jun '14, 05:59)</span> Kiran Kumar G</div></div><span id="33872"></span><div id="comment-33872" class="comment"><div id="post-33872-score" class="comment-score"></div><div class="comment-text"><p>Wireshark is a GUI application; on UN*Xes, GUI applications can generally be run either from the command line or the GUI.</p><p>If you run them from the command line, the standard output and standard error will be sent to your terminal unless you redirect them.</p><p>If you run them from the GUI, however, the standard output and error go wherever the GUI happens to send them.</p><p>Are you running Wireshark from the command line or not?</p></div><div id="comment-33872-info" class="comment-info"><span class="comment-age">(16 Jun '14, 14:05)</span> Guy Harris ♦♦</div></div><span id="33892"></span><div id="comment-33892" class="comment"><div id="post-33892-score" class="comment-score"></div><div class="comment-text"><p>Hi Harris</p><p>We are executing Wireshark from command line and still we are not able to see the printf statements on the console.</p><p>One more thing we observed is that we downloaded Wireshark version 1.10.5 and 1.10.8. Added printf statements in plugin folder under ethercat dissector and found that printf worked in 1.10.8 and not in 1.10.5.</p><p>Request your suggestion. Thank you.</p></div><div id="comment-33892-info" class="comment-info"><span class="comment-age">(17 Jun '14, 05:49)</span> Kiran Kumar G</div></div><span id="33900"></span><div id="comment-33900" class="comment"><div id="post-33900-score" class="comment-score"></div><div class="comment-text"><blockquote><p>We are executing Wireshark from command line</p></blockquote><p>So you're typing "wireshark", possibly with command-line arguments, at a shell prompt?</p><p>What happens if you run "wireshark", with just the argument "-v", from a shell prompt? Does it print the Wireshark version information?</p></div><div id="comment-33900-info" class="comment-info"><span class="comment-age">(17 Jun '14, 09:22)</span> Guy Harris ♦♦</div></div><span id="34121"></span><div id="comment-34121" class="comment not_top_scorer"><div id="post-34121-score" class="comment-score"></div><div class="comment-text"><p>we are typing wireshark without any arguments from the command line as below.</p><p>[[email protected] wireshark-1.10.5]# /usr/local/bin/wireshark</p><p>Below is the output when we execute "wireshark -v" from the command line.</p><p>=================================================================== [[email protected] wireshark-1.10.5]# /usr/local/bin/wireshark -v wireshark 1.10.5 (SVN Rev Unknown from unknown)</p><p>Copyright 1998-2013 Gerald Combs [email protected] and contributors. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p><p>Compiled (64-bit) with GTK+ 2.18.9, with Cairo 1.8.8, with Pango 1.28.1, with GLib 2.22.5, with libpcap, with libz 1.2.3, with POSIX capabilities (Linux), with libnl 1, without SMI, without c-ares, without ADNS, without Lua, without Python, with GnuTLS 2.8.5, with Gcrypt 1.4.5, with MIT Kerberos, without GeoIP, without PortAudio, without AirPcap.</p><p>Running on Linux 2.6.32-71.el6.x86_64, with locale en_US.UTF-8, with libpcap version 1.0.0, with libz 1.2.3, GnuTLS 2.8.5, Gcrypt 1.4.5. Intel(R) Xeon(R) CPU W3520 @ 2.67GHz</p><p>Built using gcc 4.4.4 20100726 (Red Hat 4.4.4-13).</p><p>================================================================== Thank you</p></div><div id="comment-34121-info" class="comment-info"><span class="comment-age">(24 Jun '14, 07:32)</span> Kiran Kumar G</div></div><span id="34127"></span><div id="comment-34127" class="comment not_top_scorer"><div id="post-34127-score" class="comment-score"></div><div class="comment-text"><p>Is <code>/usr/local/bin/wireshark</code> where your <strong>changed and compiled</strong> wireshark executable resides? Usually that's the location of the <em>installed</em> one from the distribution, whereas your changed one is in whatever directory you have the source code in and ran <code>make</code> from (or did you do <code>make install</code>?). To run the locally compiled one, go into the source code's directory and do <code>./wireshark</code> instead of <code>wireshark</code>.</p></div><div id="comment-34127-info" class="comment-info"><span class="comment-age">(24 Jun '14, 07:59)</span> Hadriel</div></div><span id="34132"></span><div id="comment-34132" class="comment not_top_scorer"><div id="post-34132-score" class="comment-score"></div><div class="comment-text"><p>Yes, we did make and make install, so we used to run /usr/local/bin/wireshark. This is the path which consists of the executable that we have built and installed.</p></div><div id="comment-34132-info" class="comment-info"><span class="comment-age">(24 Jun '14, 09:27)</span> Kiran Kumar G</div></div><span id="34133"></span><div id="comment-34133" class="comment not_top_scorer"><div id="post-34133-score" class="comment-score"></div><div class="comment-text"><p>Huh. Well it works for me all the time, as I use it for wireshark debugging a lot. Maybe try <code>fprintf(stderr, ...)</code> or to <code>stdout</code>, instead of <code>printf()</code>.</p><p>But really <code>printf</code> should work - it's used to print the version output, when you run <code>tshark -v</code> or <code>wireshark -v</code>. So go into <code>tshark.c</code> and change the <code>show_version()</code> function's <code>printf</code> string by adding some words or something, recompile, and then run <code>tshark -v</code>... then if you don't see the changes, you'll know you're not running the executable you compiled. Or go into <code>ui/gtk/main.c</code> and change the <code>show_version()</code> function in that, and after compiling run <code>wireshark -v</code> to try the same thing but for wireshark instead of tshark.</p></div><div id="comment-34133-info" class="comment-info"><span class="comment-age">(24 Jun '14, 09:46)</span> Hadriel</div></div><span id="34137"></span><div id="comment-34137" class="comment"><div id="post-34137-score" class="comment-score">1</div><div class="comment-text"><p>Are you sure your dissector gets called?</p></div><div id="comment-34137-info" class="comment-info"><span class="comment-age">(24 Jun '14, 13:53)</span> Anders ♦</div></div><span id="34219"></span><div id="comment-34219" class="comment not_top_scorer"><div id="post-34219-score" class="comment-score"></div><div class="comment-text"><p>We tried the suggestions provided by Hadriel and it works fine, whatever printf statements we add inside the functions in file present under Wireshark base folder works fine. As our dissector was added inside the plugins folder, we observed that printfs are not working if we add under this folder.</p><p>We even tried to add printf under some of the default dissector functions like ethercat present under plugins folder (in a plain downloaded code v1.10.5 - without our changes) and it dint work. Not sure what could be the issue.</p><p>@Anders: Yes, our dissector gets called and dissects the packets perfectly, but fail to print on the console using printfs.</p></div><div id="comment-34219-info" class="comment-info"><span class="comment-age">(26 Jun '14, 07:49)</span> Kiran Kumar G</div></div><span id="34220"></span><div id="comment-34220" class="comment not_top_scorer"><div id="post-34220-score" class="comment-score"></div><div class="comment-text"><p>Did you do make install to run your plugin, if so did you do make install after adding the printfs?</p></div><div id="comment-34220-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:00)</span> Anders ♦</div></div><span id="34222"></span><div id="comment-34222" class="comment not_top_scorer"><div id="post-34222-score" class="comment-score"></div><div class="comment-text"><p>Yes, we did "make" and "make install" after adding the printfs.</p></div><div id="comment-34222-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:04)</span> Kiran Kumar G</div></div><span id="34223"></span><div id="comment-34223" class="comment not_top_scorer"><div id="post-34223-score" class="comment-score"></div><div class="comment-text"><p>ldconfig ?</p></div><div id="comment-34223-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:07)</span> Anders ♦</div></div><span id="34224"></span><div id="comment-34224" class="comment not_top_scorer"><div id="post-34224-score" class="comment-score"></div><div class="comment-text"><p>log off/log on?</p></div><div id="comment-34224-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:07)</span> Anders ♦</div></div><span id="34225"></span><div id="comment-34225" class="comment not_top_scorer"><div id="post-34225-score" class="comment-score"></div><div class="comment-text"><p>what is log off/log on ? can you please let me know.</p></div><div id="comment-34225-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:11)</span> Kiran Kumar G</div></div><span id="34226"></span><div id="comment-34226" class="comment not_top_scorer"><div id="post-34226-score" class="comment-score"></div><div class="comment-text"><p>Logoff the system, on occasion I have seen that the new executable isn't run as you 'd expect...</p></div><div id="comment-34226-info" class="comment-info"><span class="comment-age">(26 Jun '14, 08:49)</span> Anders ♦</div></div><span id="34242"></span><div id="comment-34242" class="comment not_top_scorer"><div id="post-34242-score" class="comment-score"></div><div class="comment-text"><p>We tried both "ldconfig" and log off and log on the system, but no luck, printfs not working.</p></div><div id="comment-34242-info" class="comment-info"><span class="comment-age">(27 Jun '14, 07:01)</span> Kiran Kumar G</div></div></div><div id="comment-tools-32287" class="comment-tools"><span class="comments-showing"> showing 5 of 17 </span> <a href="#" class="show-all-comments-link">show 12 more comments</a></div><div class="clear"></div><div id="comment-32287-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

