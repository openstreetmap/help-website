+++
type = "question"
title = "Can&#x27;t type in terminal program for telnet access."
description = '''Hi, I set up telnet on a switch at the other end of a VPN tunnel. I&#x27;ve tried to login with both SecureCRT and Putty, and although the telnet session is established, I can&#x27;t type into the terminal program, meaning I can&#x27;t put in my username. We can telnet into the switch from the same remote location...'''
date = "2015-11-03T12:07:00Z"
lastmod = "2015-11-04T09:17:00Z"
weight = 47192
keywords = [ "telnet" ]
aliases = [ "/questions/47192" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Can't type in terminal program for telnet access.](/questions/47192/cant-type-in-terminal-program-for-telnet-access)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-47192-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-47192-score" class="post-score" title="current number of votes">0</div><span id="post-47192-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi,</p><p>I set up telnet on a switch at the other end of a VPN tunnel. I've tried to login with both SecureCRT and Putty, and although the telnet session is established, I can't type into the terminal program, meaning I can't put in my username. We can telnet into the switch from the same remote location where the switch resides, but not through the VPN tunnel. There are no firewall rules blocking access on either side, and the terminal programs are configured the same at both locations.</p><p>Looking at the Wireshark captures from my desktop, which is at the other end of the VPN away from said switch, there is the initial TCP SYN --&gt; SYN, ACK --&gt; ACK packets exchanged between the source and destination. A few telnet data packets exchanged between the source and destination, and then a ton of TCP Retransmissions and Dup ACKs between both the source and destination. The switch shows that there is a tcp connection but that it is sending keepalives that aren't being responded to.</p><p>I'm not entirely convinced that packets aren't being dropped on the other end of the tunnel, but have to take their administrators word on that for now.</p><p>Any ideas about what is causing this?</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-telnet" rel="tag" title="see questions tagged &#39;telnet&#39;">telnet</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>03 Nov '15, 12:07</strong></p><img src="https://secure.gravatar.com/avatar/dceb0dbefabbac8e85385fc78d386930?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="rdub15&#39;s gravatar image" /><p><span>rdub15</span><br />
<span class="score" title="6 reputation points">6</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="rdub15 has no accepted answers">0%</span></p></div></div><div id="comments-container-47192" class="comments-container"><span id="47195"></span><div id="comment-47195" class="comment"><div id="post-47195-score" class="comment-score"></div><div class="comment-text"><p>A misconfigured VPN tunnel?</p></div><div id="comment-47195-info" class="comment-info"><span class="comment-age">(03 Nov '15, 12:28)</span> <span class="comment-user userinfo">Jaap ♦</span></div></div><span id="47199"></span><div id="comment-47199" class="comment"><div id="post-47199-score" class="comment-score"></div><div class="comment-text"><p>Jaap,</p><p>This VPN tunnel has been set up for a long time and is used heavily, so I don't think that is the case. The tunnel, and the firewalls, are configured to allow telnet. Plus, I can see that the telnet session is established. I'm not adept enough at deciphering packet captures to tell if something is missing, though, nor do I know a ton about the intricacies of the telnet protocol. With that said, I wonder if the telnet session is established, but some other negotiations are failing? I'm just swinging in the dark, but if anyone knows a great deal about telnet or has heard of this problem before I'd love their insight on this.</p><p>Thanks for the input!</p></div><div id="comment-47199-info" class="comment-info"><span class="comment-age">(03 Nov '15, 12:39)</span> <span class="comment-user userinfo">rdub15</span></div></div><span id="47202"></span><div id="comment-47202" class="comment"><div id="post-47202-score" class="comment-score"></div><div class="comment-text"><p>Can you upload the capture file somewhere (with only the TCP stream in question) and post the link here?</p></div><div id="comment-47202-info" class="comment-info"><span class="comment-age">(03 Nov '15, 14:32)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="47214"></span><div id="comment-47214" class="comment"><div id="post-47214-score" class="comment-score"></div><div class="comment-text"><p><span>@rdub15</span> Heavily used how? Are there other telnet sessions through that tunnel? Are there other TCP connections through that tunnel? I'm asking because usage within another profile may hide an incorrect configuration. Eg. are you sure MTU sizes match at every encapsulation interface?</p></div><div id="comment-47214-info" class="comment-info"><span class="comment-age">(04 Nov '15, 01:28)</span> <span class="comment-user userinfo">Jaap ♦</span></div></div><span id="47241"></span><div id="comment-47241" class="comment"><div id="post-47241-score" class="comment-score"></div><div class="comment-text"><p><span>@Jaap</span> There are no other telnet connections through the tunnel, but lots of tcp connections. All of the associated switch ports that I have access to have the same MTU size. The other end of the tunnel is a DR site, so I don't know what devices separate our switch on-site from the end of the VPN tunnel on their side.</p></div><div id="comment-47241-info" class="comment-info"><span class="comment-age">(04 Nov '15, 08:01)</span> <span class="comment-user userinfo">rdub15</span></div></div><span id="47247"></span><div id="comment-47247" class="comment not_top_scorer"><div id="post-47247-score" class="comment-score"></div><div class="comment-text"><p><span>@Kurt Knochner</span> I don't know how/or where to upload a capture securely. I looked into Cloudshark but I don't see a way to allow access to only the tcp stream I'm interested in. I'm open to suggestions.</p></div><div id="comment-47247-info" class="comment-info"><span class="comment-age">(04 Nov '15, 09:15)</span> <span class="comment-user userinfo">rdub15</span></div></div><span id="47248"></span><div id="comment-47248" class="comment not_top_scorer"><div id="post-47248-score" class="comment-score"></div><div class="comment-text"><p>Set a filter in Wireshark for that TCP session, then export only the filtered frames to a new pcap file (File -&gt; Export Specified Packets). Then upload to dropbox, google drive, whatever you have and post the shared link here.</p></div><div id="comment-47248-info" class="comment-info"><span class="comment-age">(04 Nov '15, 09:17)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div></div><div id="comment-tools-47192" class="comment-tools"><span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a></div><div class="clear"></div><div id="comment-47192-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

</div>

