+++
type = "question"
title = "embedded map has stopped working"
description = '''Since today i get just a light gray area, no map at all (i&#x27;m using the same html iframe that always worked, no changes have been done.. even if put the iframe inside a blank html with no other html or css or php code (to avoid conflict issues) it&#x27;s still not working'''
date = "2020-12-28T23:56:00Z"
lastmod = "2020-12-30T10:45:00Z"
weight = 78091
keywords = [ "iframe" ]
aliases = [ "/questions/78091" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [embedded map has stopped working](/questions/78091/embedded-map-has-stopped-working)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-78091-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-78091-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-78091-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
1
</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>Since today i get just a light gray area, no map at all (i'm using the same html iframe that always worked, no changes have been done.. even if put the iframe inside a blank html with no other html or css or php code (to avoid conflict issues) it's still not working</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-iframe" rel="tag" title="see questions tagged &#39;iframe&#39;">iframe</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>28 Dec '20, 23:56</strong></p>
<img src="https://secure.gravatar.com/avatar/564677d0c321e6efb569edad6db0496a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="cu_i%20comunicazione&#39;s gravatar image" />
<p><span>cu_i comunic...</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="cu_i comunicazione has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>29 Dec '20, 00:26</strong> </span></p>
</div>
</div>
<div id="comments-container-78091" class="comments-container">
<span id="78092"></span>
<div id="comment-78092" class="comment">
<div id="post-78092-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>checking with Google Chrome Console, i get several error: FAILED TO LOAD RESOURCE, the missing resources are pointing to: cdn-fastly-test.tile.openstreetmap.org which appears to be offline</p>
</div>
<div id="comment-78092-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 00:03)</span> <span class="comment-user userinfo">cu_i comunic...</span>
</div>
</div>
<span id="78094"></span>
<div id="comment-78094" class="comment">
<div id="post-78094-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Your question looks like it might be the same as <a href="https://help.openstreetmap.org/questions/77894/were-experiencing-an-issue-where-our-leaflet-map-on-our-homepage-is-not-displaying-any-images-and-remains-entirely-blank-a-lot-of-500-errors-are-reported-from-the-chrome-developer-console">https://help.openstreetmap.org/questions/77894/were-experiencing-an-issue-where-our-leaflet-map-on-our-homepage-is-not-displaying-any-images-and-remains-entirely-blank-a-lot-of-500-errors-are-reported-from-the-chrome-developer-console</a> so the answers there will probably apply to you too.</p>
</div>
<div id="comment-78094-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 01:30)</span> <span class="comment-user userinfo">SomeoneElse ♦</span>
</div>
</div>
<span id="78095"></span>
<div id="comment-78095" class="comment">
<div id="post-78095-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>thank you for supporting, you pointed me to the right direction! it's been very kind of you to provide that link.</p>
<p>have a nice day</p>
</div>
<div id="comment-78095-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 03:03)</span> <span class="comment-user userinfo">cu_i comunic...</span>
</div>
</div>
</div>
<div id="comment-tools-78091" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-78091-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="78096"></span>

<div id="answer-container-78096" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-78096-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-78096-score" class="post-score" title="current number of votes">
2
</div>
<span id="post-78096-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>OSM recently switched to fastly for all tile requests. The embed function had been the first to use the fastly cdn and got an extra URL for that. When the transistion was finished around christmas holidays, they forgot to change the now defunct test tile urls in the embed function that won't work anymore. I'll bring this to the sysadmins attention. It should work soon again. Stay tuned. There is nothing you could do now but waiting for this to get resolved.</p>
<p>Edit: TomH from the sysadmins team changed the embed code, it should be working again soon. And a bravo to the sysadmins for reacting that fast.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>29 Dec '20, 09:21</strong></p>
<img src="https://secure.gravatar.com/avatar/e06ed329df6032df14b5639de4d64782?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Spiekerooger&#39;s gravatar image" />
<p><span>Spiekerooger</span><br />
<span class="score" title="3148 reputation points"><span>3.1k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="23 badges"><span class="silver">●</span><span class="badgecount">23</span></span><span title="56 badges"><span class="bronze">●</span><span class="badgecount">56</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Spiekerooger has 18 accepted answers">16%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>29 Dec '20, 09:40</strong> </span></p>
</div>
</div>
<div id="comments-container-78096" class="comments-container">
<span id="78097"></span>
<div id="comment-78097" class="comment">
<div id="post-78097-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>thank you! i'm glad to hear that.. OSM is providing an amazing service</p>
</div>
<div id="comment-78097-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 10:18)</span> <span class="comment-user userinfo">cu_i comunic...</span>
</div>
</div>
<span id="78102"></span>
<div id="comment-78102" class="comment">
<div id="post-78102-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Here still a grey background. when i use firefox browser the map looks perfect, when I use chrome or chromium only a grey square, just like the description of comunicazione.</p>
</div>
<div id="comment-78102-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 13:09)</span> <span class="comment-user userinfo">straatmapje</span>
</div>
</div>
<span id="78103"></span>
<div id="comment-78103" class="comment">
<div id="post-78103-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>The same embedded code worked fine in chrome yesterday. really weird.</p>
</div>
<div id="comment-78103-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 13:13)</span> <span class="comment-user userinfo">straatmapje</span>
</div>
</div>
<span id="78104"></span>
<div id="comment-78104" class="comment">
<div id="post-78104-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>That tilelayer url that worked a few days ago just got deprecated. Tom already pushed a commit (<a href="https://github.com/openstreetmap/chef/commit/2d781ace5d616fd4888f7823f4c34048f3a9b7b1#diff-c329b954343569fb6106e770631a62630dd566f3eb9420aed5012a352d45fc56">https://github.com/openstreetmap/chef/commit/2d781ace5d616fd4888f7823f4c34048f3a9b7b1#diff-c329b954343569fb6106e770631a62630dd566f3eb9420aed5012a352d45fc56</a>) to delete that url from the iframe embed js function. Now we probably just have to wait for this change to propagate through the caching layers and than it should be working again.</p>
</div>
<div id="comment-78104-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 13:46)</span> <span class="comment-user userinfo">Spiekerooger</span>
</div>
</div>
<span id="78105"></span>
<div id="comment-78105" class="comment">
<div id="post-78105-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Thanks, we just wait then. Forgive me for asking noob questions if it seems silly, but what is the difference in this link between chrome and firefox? I do not see why the same code still works in firefox.</p>
</div>
<div id="comment-78105-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 14:40)</span> <span class="comment-user userinfo">straatmapje</span>
</div>
</div>
<span id="78106"></span>
<div id="comment-78106" class="comment not_top_scorer">
<div id="post-78106-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>We have to wait for the embed.html to refresh. Now you may have a copy in your browsers cache of that file in Chrome, but not in Firefox.</p>
<p>The JS File itself, where the TileLayer URL for the iframe embed function is defined, will never expire but change the filename when its content changes. But then you'll need the new embed.html to fetch the new js file under the new name. So we'll probably have to wait for the embed.html to be rebuilt and expire. That one has a caching time of 7 days. I'm not sure how often cron runs that would rebuild the html page to refer the new js file that has the correct tilelayer url.</p>
<p>You could try the developer tools of Firefox and Chrome (F12) to check for the files loaded and cached at <a href="https://www.openstreetmap.org/export/embed.html.">https://www.openstreetmap.org/export/embed.html.</a></p>
</div>
<div id="comment-78106-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 15:40)</span> <span class="comment-user userinfo">Spiekerooger</span>
</div>
</div>
<span id="78121"></span>
<div id="comment-78121" class="comment not_top_scorer">
<div id="post-78121-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I'm seeing the right url now, so it's working again. (Wed. 2020-12-30 at 10:45 UTC).</p>
</div>
<div id="comment-78121-info" class="comment-info">
<span class="comment-age">(30 Dec '20, 10:45)</span> <span class="comment-user userinfo">Spiekerooger</span>
</div>
</div>
</div>
<div id="comment-tools-78096" class="comment-tools">
<span class="comments-showing"> showing 5 of 7 </span> <a href="#" class="show-all-comments-link">show 2 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-78096-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="78107"></span>

<div id="answer-container-78107" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-78107-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-78107-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-78107-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Thanks. confirmed, it was only cache in firefox. Now same in all browsers I use. (Nothing visible on the map)</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>29 Dec '20, 16:05</strong></p>
<img src="https://secure.gravatar.com/avatar/27372ec72fe51e8c119c72581e4c0f29?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="straatmapje&#39;s gravatar image" />
<p><span>straatmapje</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="straatmapje has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>29 Dec '20, 16:05</strong> </span></p>
</div>
</div>
<div id="comments-container-78107" class="comments-container">
<span id="78108"></span>
<div id="comment-78108" class="comment">
<div id="post-78108-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>So your Firefox had a dns cache for the cdn-fastly-test url still pointing somewhere (which is live not the case anymore). We'll still have to wait for the embed.html to update.</p>
</div>
<div id="comment-78108-info" class="comment-info">
<span class="comment-age">(29 Dec '20, 16:13)</span> <span class="comment-user userinfo">Spiekerooger</span>
</div>
</div>
</div>
<div id="comment-tools-78107" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-78107-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

