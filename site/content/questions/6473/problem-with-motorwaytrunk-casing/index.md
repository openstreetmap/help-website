+++
type = "question"
title = "Problem with Motorway/Trunk casing."
description = '''I am new in OSM(Q-GIS..quantumnik) and I have problems with my Motorway/Trunk casing. I need the casing to be thick.. but it seems that lower level roads does not respect casing and &quot;bites in&quot; ,, see picture. http://imageshack.us/photo/my-images/543/174h.png  I think, that bridge/tunnel stuff solves...'''
date = "2011-07-21T13:44:00Z"
lastmod = "2011-08-03T07:05:00Z"
weight = 6473
keywords = [ "motorway", "quantumnik", "casing", "qgis" ]
aliases = [ "/questions/6473" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [Problem with Motorway/Trunk casing.](/questions/6473/problem-with-motorwaytrunk-casing)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-6473-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-6473-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-6473-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I am new in OSM(Q-GIS..quantumnik) and I have problems with my Motorway/Trunk casing. I need the casing to be thick.. but it seems that lower level roads does not respect casing and "bites in" ,, see picture. <a href="http://imageshack.us/photo/my-images/543/174h.png">http://imageshack.us/photo/my-images/543/174h.png</a> I think, that bridge/tunnel stuff solves only "fill" and not "casing", I guess nobody expected thick casing. I work with XML. Any advice?</p>
<p><a href="http://imageshack.us/photo/my-images/543/174h.png">http://imageshack.us/photo/my-images/543/174h.png</a> [Tertiary bites into Motorway]</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-motorway" rel="tag" title="see questions tagged &#39;motorway&#39;">motorway</span> <span class="post-tag tag-link-quantumnik" rel="tag" title="see questions tagged &#39;quantumnik&#39;">quantumnik</span> <span class="post-tag tag-link-casing" rel="tag" title="see questions tagged &#39;casing&#39;">casing</span> <span class="post-tag tag-link-qgis" rel="tag" title="see questions tagged &#39;qgis&#39;">qgis</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>21 Jul '11, 13:44</strong></p>
<img src="https://secure.gravatar.com/avatar/1c85caf99aee6ddc90f46ebd8801e5ae?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="rocejkar&#39;s gravatar image" />
<p><span>rocejkar</span><br />
<span class="score" title="16 reputation points">16</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="rocejkar has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>21 Jul '11, 18:33</strong> </span></p>
<img src="https://secure.gravatar.com/avatar/9e04333be840d50c6aa66fb112aad77c?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Harry%20Wood&#39;s gravatar image" />
<p><span>Harry Wood</span><br />
<span class="score" title="9489 reputation points"><span>9.5k</span></span><span title="25 badges"><span class="badge1">●</span><span class="badgecount">25</span></span><span title="88 badges"><span class="silver">●</span><span class="badgecount">88</span></span><span title="128 badges"><span class="bronze">●</span><span class="badgecount">128</span></span></p>
</div>
</div>
<div id="comments-container-6473" class="comments-container">
<span id="6479"></span>
<div id="comment-6479" class="comment">
<div id="post-6479-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>The question is not very clear, and the picture is very small. What do you mean by "biting in"?</p>
</div>
<div id="comment-6479-info" class="comment-info">
<span class="comment-age">(21 Jul '11, 16:11)</span> <span class="comment-user userinfo">Janjko</span>
</div>
</div>
<span id="6480"></span>
<div id="comment-6480" class="comment">
<div id="post-6480-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>This seems to be a specific problem at a higher level of data processing.</p>
<p>Maybe you can find better help at one of the OSM Mailing lists ( <a href="http://wiki.openstreetmap.org/wiki/Mailing_lists">http://wiki.openstreetmap.org/wiki/Mailing_lists</a> ) or at the OSM forum, see <a href="http://forum.osm.org">http://forum.osm.org</a></p>
</div>
<div id="comment-6480-info" class="comment-info">
<span class="comment-age">(21 Jul '11, 16:39)</span> <span class="comment-user userinfo">stephan75</span>
</div>
</div>
</div>
<div id="comment-tools-6473" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-6473-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="6497"></span>

<div id="answer-container-6497" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-6497-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-6497-score" class="post-score" title="current number of votes">
3
</div>
<span id="post-6497-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>So normally this is the way you want to draw things - the casings are all drawn first, and all the fills are drawn on top of all the other casings. That's generally what looks best.</p>
<p>Your wide casings are different, and are more similar to the method used for drawing highways in the MapQuest stylesheet. You can find the <a href="https://github.com/MapQuest/MapQuest-Mapnik-Style">XML at github</a> and an example output <a href="http://mapq.st/pk6WzY">on their site</a>. They draw all the other roads first, and then draw the motorway casing after that and the motorway fill last. That means that their casing is never interrupted by fills, which is the problem that you are wanting to solve.</p>
<p>It becomes harder if you want to deal properly with bridges and so on. You will need to experiment with combinations of layer tags, bridge tags and drawing motorway casings after other fills in order to get the effect you seek.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>22 Jul '11, 17:51</strong></p>
<img src="https://secure.gravatar.com/avatar/c3743b1b368f5e209eb8aad30164acc4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Andy%20Allan&#39;s gravatar image" />
<p><span>Andy Allan</span><br />
<span class="score" title="12456 reputation points"><span>12.5k</span></span><span title="23 badges"><span class="badge1">●</span><span class="badgecount">23</span></span><span title="128 badges"><span class="silver">●</span><span class="badgecount">128</span></span><span title="153 badges"><span class="bronze">●</span><span class="badgecount">153</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Andy Allan has 46 accepted answers">28%</span></p>
</div>
</div>
<div id="comments-container-6497" class="comments-container">
<span id="6542"></span>
<div id="comment-6542" class="comment">
<div id="post-6542-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>"" They draw all the other roads first, and then draw the motorway casing after that and the motorway fill last. That means that their casing is never interrupted by fills, ""</p>
<p>Yes, that is what I want, but how to reach that? I though, that this is the ordinary way, how Mapnik works. And I have read somewhere, that I can not change layer order :S</p>
</div>
<div id="comment-6542-info" class="comment-info">
<span class="comment-age">(25 Jul '11, 10:13)</span> <span class="comment-user userinfo">rocejkar</span>
</div>
</div>
<span id="6574"></span>
<div id="comment-6574" class="comment">
<div id="post-6574-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>If you want to solve this problem keeping the wide casings you will have to interact with the layer order in the way Andy suggested. I am sure it is possible (because all the code is open source).</p>
</div>
<div id="comment-6574-info" class="comment-info">
<span class="comment-age">(26 Jul '11, 18:27)</span> <span class="comment-user userinfo">dieterdreist</span>
</div>
</div>
</div>
<div id="comment-tools-6497" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-6497-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="6774"></span>

<div id="answer-container-6774" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-6774-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-6774-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-6774-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Did I mention that I am beginner ? :D. Allright, I have found layer order. They way, how it is rendered, as was said before, is, that first goes casing and on top is fill. This works for every road, basically like in packet (first casing of all roads and then fills of all roads). I need to do:<br />
-layer all casing (except motorway/trunk) -layer all fills (except motorway/trunk) -layer motorway/trunk casing -layer motorway/trunk fill</p>
<p>I dont know, how to exclude motorway/trunk from packet :/</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>02 Aug '11, 10:32</strong></p>
<img src="https://secure.gravatar.com/avatar/1c85caf99aee6ddc90f46ebd8801e5ae?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="rocejkar&#39;s gravatar image" />
<p><span>rocejkar</span><br />
<span class="score" title="16 reputation points">16</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="rocejkar has no accepted answers">0%</span> </br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>02 Aug '11, 15:28</strong> </span></p>
</div>
</div>
<div id="comments-container-6774" class="comments-container">
<span id="6789"></span>
<div id="comment-6789" class="comment">
<div id="post-6789-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Hello rocejar, it is better to use this O&amp;A-site not like a forum with posting a new answer as a further questuion to the core issue or as an answer to others' contributions. Because each answer to your first question can be ranked by all users to find out what might be most helpful.</p>
<p>So please use the comment function here, or convert your new "answer" to a comment of the other answers.</p>
<p>And: for such a deep asking about data structures you might get better help at forum or mailing lists, like I already hinted.</p>
</div>
<div id="comment-6789-info" class="comment-info">
<span class="comment-age">(02 Aug '11, 16:13)</span> <span class="comment-user userinfo">stephan75</span>
</div>
</div>
<span id="6821"></span>
<div id="comment-6821" class="comment">
<div id="post-6821-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I understand. Sorry for this. Anyway.. problem solved :] Needed to take out Motorway/Trunk from standart layer rule and make a new layer rule for them.</p>
</div>
<div id="comment-6821-info" class="comment-info">
<span class="comment-age">(03 Aug '11, 07:05)</span> <span class="comment-user userinfo">rocejkar</span>
</div>
</div>
</div>
<div id="comment-tools-6774" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-6774-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

