+++
type = "question"
title = "Wireshark Build environment error for python"
description = '''While building my wireshark, when I run the command- &quot;nmake -f makefile.nmake all&quot; I get an error: python faq.py | python ..&#92;tools&#92;html2text.py --width=72 --no-links &amp;gt; faq .txt File &quot;..&#92;tools&#92;html2text.py&quot;, line 332  self.o(&quot;][&quot; + a[&#x27;count&#x27;] + &quot;]&quot;)  ^ SyntaxError: invalid syntax Traceback (most r...'''
date = "2014-10-15T07:03:00Z"
lastmod = "2014-10-23T10:40:00Z"
weight = 37063
keywords = [ "python", "wireshark" ]
aliases = [ "/questions/37063" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [Wireshark Build environment error for python](/questions/37063/wireshark-build-environment-error-for-python)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-37063-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-37063-score" class="post-score" title="current number of votes">0</div><span id="post-37063-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>While building my wireshark, when I run the command- "nmake -f makefile.nmake all" I get an error:</p><p>python faq.py | python ..\tools\html2text.py --width=72 --no-links &gt; faq .txt</p><p>File "..\tools\html2text.py", line 332 self.o("][" + <code>a['count']</code> + "]") ^ SyntaxError: invalid syntax</p><p>Traceback (most recent call last):</p><p>File "faq.py", line 2100, in &lt;module&gt; sys.exit(main())</p><p>File "faq.py", line 263, in main create_output(header, footer)</p><p>File "faq.py", line 234, in create_output create_index()</p><p>File "faq.py", line 224, in create_index sec.print_index()</p><p>File "faq.py", line 69, in print_index print(('<a href="#q%s">%s %s</a>\n' % (id, id, question)))</p><p>OSError: [Errno 22] Invalid argument</p><p>NMAKE : fatal error U1077: 'python' : return code '0x1' Stop. NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual Studio 12.0 \VC\BIN\nmake.exe"' : return code '0x2' Stop.</p><p>How do I solve this? my python is running perfectly..</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-python" rel="tag" title="see questions tagged &#39;python&#39;">python</span> <span class="post-tag tag-link-wireshark" rel="tag" title="see questions tagged &#39;wireshark&#39;">wireshark</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>15 Oct '14, 07:03</strong></p><img src="https://secure.gravatar.com/avatar/a9a254ac482208f766093c0f9c144364?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="aman&#39;s gravatar image" /><p><span>aman</span><br />
<span class="score" title="36 reputation points">36</span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="20 badges"><span class="bronze">●</span><span class="badgecount">20</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="aman has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>15 Oct '14, 09:04</strong> </span></p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p><span>grahamb ♦</span><br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span></p></div></div><div id="comments-container-37063" class="comments-container"><span id="37072"></span><div id="comment-37072" class="comment"><div id="post-37072-score" class="comment-score"></div><div class="comment-text"><p>Your python version?</p></div><div id="comment-37072-info" class="comment-info"><span class="comment-age">(15 Oct '14, 08:52)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="37073"></span><div id="comment-37073" class="comment"><div id="post-37073-score" class="comment-score"></div><div class="comment-text"><p>python 3.4</p></div><div id="comment-37073-info" class="comment-info"><span class="comment-age">(15 Oct '14, 08:55)</span> <span class="comment-user userinfo">aman</span></div></div></div><div id="comment-tools-37063" class="comment-tools"></div><div class="clear"></div><div id="comment-37063-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="37076"></span>

<div id="answer-container-37076" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-37076-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-37076-score" class="post-score" title="current number of votes">0</div><span id="post-37076-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>You'll need a 2.x version, we're not 3.x compliant yet. I use 2.7.6.</p><p>The <a href="https://www.wireshark.org/docs/wsdg_html_chunked/ChSetupWin32.html#ChSetupPython">Developers Guide</a> says to install a 2.7.x version.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>15 Oct '14, 09:03</strong></p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p><span>grahamb ♦</span><br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="grahamb has 274 accepted answers">22%</span></p></div></div><div id="comments-container-37076" class="comments-container"><span id="37078"></span><div id="comment-37078" class="comment"><div id="post-37078-score" class="comment-score"></div><div class="comment-text"><p>I installed 2.7.6 version and rebuilt it. Is says:</p><p>powershell -executionpolicy bypass -File tools/textify.ps1 -Destination wireshark-gtk2 ./COPYING ./NEWS ./README ./README.windows 'powershell' is not recognized as an internal or external command, operable program or batch file.</p><p>NMAKE : fatal error U1077: 'powershell' : return code '0x1' Stop. How go work about this?</p></div><div id="comment-37078-info" class="comment-info"><span class="comment-age">(15 Oct '14, 10:31)</span> <span class="comment-user userinfo">aman</span></div></div><span id="37079"></span><div id="comment-37079" class="comment"><div id="post-37079-score" class="comment-score"></div><div class="comment-text"><p>Download and install powershell 2.0 or later from Microsoft website. See <a href="https://www.wireshark.org/docs/wsdg_html_chunked/ChSetupWin32.html#ChSetupPowerShell">https://www.wireshark.org/docs/wsdg_html_chunked/ChSetupWin32.html#ChSetupPowerShell</a></p></div><div id="comment-37079-info" class="comment-info"><span class="comment-age">(15 Oct '14, 10:49)</span> <span class="comment-user userinfo">Pascal Quantin</span></div></div><span id="37081"></span><div id="comment-37081" class="comment"><div id="post-37081-score" class="comment-score"></div><div class="comment-text"><p>It says it is needed only for VISTA.. I am working on Win-7. Do I still need to install it?</p></div><div id="comment-37081-info" class="comment-info"><span class="comment-age">(15 Oct '14, 11:14)</span> <span class="comment-user userinfo">aman</span></div></div><span id="37084"></span><div id="comment-37084" class="comment not_top_scorer"><div id="post-37084-score" class="comment-score"></div><div class="comment-text"><p>Check if powershell is already installed on your system. If yes, add it to the PATH. If not, install it.</p></div><div id="comment-37084-info" class="comment-info"><span class="comment-age">(15 Oct '14, 13:38)</span> <span class="comment-user userinfo">Pascal Quantin</span></div></div><span id="37085"></span><div id="comment-37085" class="comment not_top_scorer"><div id="post-37085-score" class="comment-score"></div><div class="comment-text"><p>Powershell should be available on Win 7, my Wireshark Win 7 dev VM has it, I've never installed it and it isn't listed under Programs and Features, nor in Windows Features.</p><p>See <a href="http://blogs.technet.com/b/heyscriptingguy/archive/2011/01/07/how-do-i-install-powershell-on-windows-7-and-other-questions.aspx">this</a> article on PS and Win 7.</p></div><div id="comment-37085-info" class="comment-info"><span class="comment-age">(15 Oct '14, 13:39)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="37294"></span><div id="comment-37294" class="comment not_top_scorer"><div id="post-37294-score" class="comment-score"></div><div class="comment-text"><p>fatal error C1083: Cannot open include file: 'to_str-deprecat ed.h': No such file or directory</p><p>Any suggestions to solve this for a wireshark plugin?</p></div><div id="comment-37294-info" class="comment-info"><span class="comment-age">(22 Oct '14, 12:40)</span> <span class="comment-user userinfo">aman</span></div></div><span id="37295"></span><div id="comment-37295" class="comment"><div id="post-37295-score" class="comment-score">1</div><div class="comment-text"><p>Stop including it?</p></div><div id="comment-37295-info" class="comment-info"><span class="comment-age">(22 Oct '14, 13:00)</span> <span class="comment-user userinfo">Pascal Quantin</span></div></div><span id="37308"></span><div id="comment-37308" class="comment not_top_scorer"><div id="post-37308-score" class="comment-score"></div><div class="comment-text"><p>if I remove it, I get many other errors.</p></div><div id="comment-37308-info" class="comment-info"><span class="comment-age">(23 Oct '14, 06:25)</span> <span class="comment-user userinfo">aman</span></div></div><span id="37310"></span><div id="comment-37310" class="comment not_top_scorer"><div id="post-37310-score" class="comment-score"></div><div class="comment-text"><p>I don't have the sources at hand, but perhaps the functions have been moved and you need to include a different file? Try grep for the failing functions.</p></div><div id="comment-37310-info" class="comment-info"><span class="comment-age">(23 Oct '14, 07:41)</span> <span class="comment-user userinfo">Anders ♦</span></div></div><span id="37311"></span><div id="comment-37311" class="comment not_top_scorer"><div id="post-37311-score" class="comment-score"></div><div class="comment-text"><p>sadly grep gives the same issue message as to_str-deprecated.h</p></div><div id="comment-37311-info" class="comment-info"><span class="comment-age">(23 Oct '14, 08:37)</span> <span class="comment-user userinfo">aman</span></div></div><span id="37314"></span><div id="comment-37314" class="comment"><div id="post-37314-score" class="comment-score">1</div><div class="comment-text"><p>The fact that you get many errors when removing it is perfectly normal: looks like you are trying to compile a Wireshark plugin not designed for the Wireshark version you installed. So either:</p><ul><li>ask for some support to the plugin author, or</li><li>modify the source code yourself so as to make it compatible with your Wireshark version, or</li><li>install the Wireshark version for which the plugin was written.</li></ul><p>It's up to you.</p></div><div id="comment-37314-info" class="comment-info"><span class="comment-age">(23 Oct '14, 10:40)</span> <span class="comment-user userinfo">Pascal Quantin</span></div></div></div><div id="comment-tools-37076" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-37076-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

