+++
type = "question"
title = "Overpass Turbo: how to get public transport routes and stops with stop names?"
description = '''I am searching metro and tram routes and stops, example Bilbao. With overpass turbo wizard on https://overpass-turbo.eu , I use type=route and route=tram or type=route and route=subway  to create /* This has been generated by the overpass-turbo wizard. The original search was:  “type=route and route...'''
date = "2022-06-21T20:02:00Z"
lastmod = "2022-06-21T22:52:00Z"
weight = 84838
keywords = [ "tram", "stop", "route", "overpass-turbo", "subway" ]
aliases = [ "/questions/84838" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [Overpass Turbo: how to get public transport routes and stops with stop names?](/questions/84838/overpass-turbo-how-to-get-public-transport-routes-and-stops-with-stop-names)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-84838-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-84838-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-84838-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I am searching metro and tram routes and stops, example Bilbao.</p>
<p>With overpass turbo wizard on <a href="https://overpass-turbo.eu">https://overpass-turbo.eu</a> , I use</p>
<pre><code>type=route and route=tram or type=route and route=subway</code></pre>
<p>to create</p>
<pre><code>/*
This has been generated by the overpass-turbo wizard.
The original search was: 
“type=route and route=tram or type=route and route=subway” 
*/
[out:json][timeout:25];
// gather results
(
  // query part for: “type=route and route=tram”
  node[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;tram&quot;]({{bbox}});
  way[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;tram&quot;]({{bbox}});
  relation[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;tram&quot;]({{bbox}});
  // query part for: “type=route and route=subway”
  node[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;subway&quot;]({{bbox}});
  way[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;subway&quot;]({{bbox}});
  relation[&quot;type&quot;=&quot;route&quot;][&quot;route&quot;=&quot;subway&quot;]({{bbox}});
);
// print results
out meta;
&gt;;
out skel qt;</code></pre>
<p>(I changed to "out meta" to get maximum results)</p>
<p>The example is from Bilbao.</p>
<p>I export to geojson, which gives me almost what I need except on thing:</p>
<p>this is how a tram stop looks like:</p>
<pre><code>{
  &quot;type&quot;: &quot;Feature&quot;,
  &quot;properties&quot;: {
    &quot;@id&quot;: &quot;node/5478168779&quot;,
    &quot;@relations&quot;: [
      {
        &quot;role&quot;: &quot;stop&quot;,
        &quot;rel&quot;: 8753521,
        &quot;reltags&quot;: {
          &quot;colour&quot;: &quot;green&quot;,
          &quot;from&quot;: &quot;Bolueta&quot;,
          &quot;name&quot;: &quot;T1 (Bolueta → La Casilla)&quot;,
          &quot;network&quot;: &quot;Euskotren Tranbia&quot;,
          &quot;network:wikidata&quot;: &quot;Q123955&quot;,
          &quot;network:wikipedia&quot;: &quot;eu:Euskotren Tranbia&quot;,
          &quot;operator&quot;: &quot;Euskotren&quot;,
          &quot;operator:wikidata&quot;: &quot;Q3061020&quot;,
          &quot;operator:wikipedia&quot;: &quot;eu:Eusko Trenbideak&quot;,
          &quot;public_transport:version&quot;: &quot;2&quot;,
          &quot;ref&quot;: &quot;T1&quot;,
          &quot;route&quot;: &quot;tram&quot;,
          &quot;to&quot;: &quot;La Casilla&quot;,
          &quot;type&quot;: &quot;route&quot;,
          &quot;wheelchair&quot;: &quot;yes&quot;,
          &quot;wikidata&quot;: &quot;Q2661356&quot;,
          &quot;wikipedia&quot;: &quot;en:Bilbao tram&quot;
        }
      }
    ]
  },
  &quot;geometry&quot;: {
    &quot;type&quot;: &quot;Point&quot;,
    &quot;coordinates&quot;: [
      -2.9287285,
      43.2663144
    ]
  },
  &quot;id&quot;: &quot;node/5478168779&quot;
},</code></pre>
<p>This is how the stop looks in OpenStreetMap:</p>
<p><img src="/upfiles/vj1nA.png" alt="alt text" /></p>
<p>(original data source: <a href="https://www.openstreetmap.org/node/5478168779">https://www.openstreetmap.org/node/5478168779</a> )</p>
<p>OSM has tags, especially the name, that are missing in the geojson export.</p>
<p>How do I get the tags like</p>
<pre><code>name: &quot;Uribitarte&quot;
network: &quot;Euskotren Tranbia&quot;
operator: &quot;Eusko Trenbideak&quot;
Into the geojson export?</code></pre>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-tram" rel="tag" title="see questions tagged &#39;tram&#39;">tram</span> <span class="post-tag tag-link-stop" rel="tag" title="see questions tagged &#39;stop&#39;">stop</span> <span class="post-tag tag-link-route" rel="tag" title="see questions tagged &#39;route&#39;">route</span> <span class="post-tag tag-link-overpass-turbo" rel="tag" title="see questions tagged &#39;overpass-turbo&#39;">overpass-turbo</span> <span class="post-tag tag-link-subway" rel="tag" title="see questions tagged &#39;subway&#39;">subway</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>21 Jun '22, 20:02</strong></p>
<img src="https://secure.gravatar.com/avatar/9c8c0c9d778a20862fa37ea108e9465b?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gerd_c&#39;s gravatar image" />
<p><span>Gerd_c</span><br />
<span class="score" title="9 reputation points">9</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gerd_c has no accepted answers">0%</span></p>
</img>
</div>
</div>
<div id="comments-container-84838" class="comments-container">
&#10;</div>
<div id="comment-tools-84838" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-84838-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="84840"></span>

<div id="answer-container-84840" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-84840-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-84840-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-84840-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Try removing the <code>skel</code> option.</p>
<p>Routes should only be in relations so I shrunk the verbose routine to this:</p>
<pre><code>[bbox:{{bbox}}];
(
  rel[type=route][route=tram];
  rel[type=route][route=subway];
);
out meta;
&gt;;
out qt;</code></pre>
<p><a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide#Concise_(skeleton,_skel)">https://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide#Concise_(skeleton,_skel)</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>21 Jun '22, 22:52</strong></p>
<img src="https://secure.gravatar.com/avatar/c9c8b421ad22f51ddd62f23413717036?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="DaveF&#39;s gravatar image" />
<p><span>DaveF</span><br />
<span class="score" title="3264 reputation points"><span>3.3k</span></span><span title="84 badges"><span class="badge1">●</span><span class="badgecount">84</span></span><span title="98 badges"><span class="silver">●</span><span class="badgecount">98</span></span><span title="133 badges"><span class="bronze">●</span><span class="badgecount">133</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="DaveF has 17 accepted answers">16%</span></p>
</div>
</div>
<div id="comments-container-84840" class="comments-container">
&#10;</div>
<div id="comment-tools-84840" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-84840-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

