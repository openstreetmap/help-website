+++
type = "question"
title = "Slow download speed"
description = '''We are facing slow download speed issue with one of our server . Running trace from client PC shows below output. Could someone please help identify cause of this slow download speed. 10.225.0.10 is IP of client. 192.168.1.10 IP of Server 72 0.131254000 0.000000000 10.225.0.10 192.168.1.10 TCP 66 64...'''
date = "2013-06-07T06:11:00Z"
lastmod = "2013-06-08T08:46:00Z"
weight = 21814
keywords = [ "http" ]
aliases = [ "/questions/21814" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Slow download speed](/questions/21814/slow-download-speed)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-21814-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>We are facing slow download speed issue with one of our server .</p><p>Running trace from client PC shows below output.</p><p>Could someone please help identify cause of this slow download speed.</p><p>10.225.0.10 is IP of client.</p><p>192.168.1.10 IP of Server</p><pre><code>72  0.131254000 0.000000000 10.225.0.10 192.168.1.10    TCP 66  64104 &gt; http [SYN] Seq=0 Win=8192 Len=0 MSS=1460 WS=4 SACK_PERM=1
73  0.000001000 0.000000000 10.225.0.10 192.168.1.10    TCP 66  64103 &gt; http [SYN] Seq=0 Win=8192 Len=0 MSS=1460 WS=4 SACK_PERM=1
74  0.126430000 0.126431000 192.168.1.10    10.225.0.10 TCP 66  http &gt; 64104 [SYN, ACK] Seq=0 Ack=1 Win=5840 Len=0 MSS=1460 SACK_PERM=1 WS=4
75  0.000001000 0.126431000 192.168.1.10    10.225.0.10 TCP 66  http &gt; 64103 [SYN, ACK] Seq=0 Ack=1 Win=5840 Len=0 MSS=1460 SACK_PERM=1 WS=4
76  0.000313000 0.000314000 10.225.0.10 192.168.1.10    TCP 54  64104 &gt; http [ACK] Seq=1 Ack=1 Win=65700 Len=0
77  0.000009000 0.000322000 10.225.0.10 192.168.1.10    TCP 54  64103 &gt; http [ACK] Seq=1 Ack=1 Win=65700 Len=0
78  0.000415000 0.000424000 10.225.0.10 192.168.1.10    HTTP    1035    GET / HTTP/1.1 
79  0.000373000 0.000373000 192.168.1.10    10.225.0.10 TCP 60  http &gt; 64104 [ACK] Seq=1 Ack=982 Win=7804 Len=0
80  0.276084000 0.276084000 192.168.1.10    10.225.0.10 HTTP    469 HTTP/1.1 302 Redirect  (text/html)
81  0.000554000 0.277426000 10.225.0.10 192.168.1.10    HTTP    1041    GET /abc prod HTTP/1.1 
82  0.000320000 0.000320000 192.168.1.10    10.225.0.10 TCP 60  http &gt; 64103 [ACK] Seq=1 Ack=988 Win=7816 Len=0
84  0.029194000 0.131834000 192.168.1.10    10.225.0.10 TCP 1514    [TCP segment of a reassembled PDU]
85  0.000002000 0.000002000 192.168.1.10    10.225.0.10 TCP 1514    [TCP segment of a reassembled PDU]
86  0.000146000 0.000146000 10.225.0.10 192.168.1.10    TCP 54  64103 &gt; http [ACK] Seq=988 Ack=2921 Win=65700 Len=0
89  0.000002000 0.000002000 192.168.1.10    10.225.0.10 HTTP    793 HTTP/1.1 401 Unauthorized  (text/html)</code></pre></div><div id="question-tags" class="tags-container tags">http</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>07 Jun '13, 06:11</strong></p><img src="https://secure.gravatar.com/avatar/6615a61d69b703d89076bb0f18342bbf?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="m_1607&#39;s gravatar image" /><p>m_1607<br />
<span class="score" title="35 reputation points">35</span><span title="12 badges"><span class="badge1">●</span><span class="badgecount">12</span></span><span title="13 badges"><span class="silver">●</span><span class="badgecount">13</span></span><span title="16 badges"><span class="bronze">●</span><span class="badgecount">16</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="m_1607 has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 07 Jun '13, 07:12</p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p>grahamb ♦<br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span></p></div></div><div id="comments-container-21814" class="comments-container"><span id="21817"></span><div id="comment-21817" class="comment"><div id="post-21817-score" class="comment-score"></div><div class="comment-text"><p>Could you upload your capture to the following and post the URL? The .pcap file itself is a lot easier for readers to work with typically: <a href="http://cloudshark.org/">http://cloudshark.org/</a></p></div><div id="comment-21817-info" class="comment-info"><span class="comment-age">(07 Jun '13, 06:47)</span> Quadratic</div></div><span id="21818"></span><div id="comment-21818" class="comment"><div id="post-21818-score" class="comment-score"></div><div class="comment-text"><p>When I reformatted the Question text output, frame 76 had been modified with extra quotes, I removed those, but I'm not entirely sure of the provenance of the text.</p></div><div id="comment-21818-info" class="comment-info"><span class="comment-age">(07 Jun '13, 07:14)</span> grahamb ♦</div></div><span id="21820"></span><div id="comment-21820" class="comment"><div id="post-21820-score" class="comment-score"></div><div class="comment-text"><p>can u please help with this due to sensitivity of data i cannot copy complete trace.</p><p>thank for understanding.</p></div><div id="comment-21820-info" class="comment-info"><span class="comment-age">(07 Jun '13, 09:09)</span> m_1607</div></div><span id="21821"></span><div id="comment-21821" class="comment"><div id="post-21821-score" class="comment-score"></div><div class="comment-text"><p>Sorry but there is but nothing inside the snippet you provided to even try helping you with that issue.</p></div><div id="comment-21821-info" class="comment-info"><span class="comment-age">(07 Jun '13, 09:37)</span> Landi</div></div><span id="21822"></span><div id="comment-21822" class="comment"><div id="post-21822-score" class="comment-score"></div><div class="comment-text"><p>OK issue is when downloading files from http we are getting very slow speed.</p><p>Could you please help me with things we need to look at in that case.</p></div><div id="comment-21822-info" class="comment-info"><span class="comment-age">(07 Jun '13, 09:43)</span> m_1607</div></div><span id="21823"></span><div id="comment-21823" class="comment not_top_scorer"><div id="post-21823-score" class="comment-score"></div><div class="comment-text"><p>For a start, find the reason for the slow transmission like high delta times between data packets, lots of retransmissions, small recieve windows whatever. There must be something in the trace (timing related) that you should be able to find out.</p></div><div id="comment-21823-info" class="comment-info"><span class="comment-age">(07 Jun '13, 09:58)</span> Landi</div></div><span id="21824"></span><div id="comment-21824" class="comment not_top_scorer"><div id="post-21824-score" class="comment-score"></div><div class="comment-text"><p>Below 2 packet I see high delta time. 226 0.439848000 7.283610000 10.225.0.10 192.168.1.10 HTTP 5671 GET /abcProd/Contents/Objects/5175B170 HTTP/1.1 7.283610000</p><p>233 0.001536000 7.280229000 10.225.0.10 192.168.1.10 HTTP 5698 GET /abcProd/PlugIns/CoreObjects/Shared/Display.aspx?o=5175&amp;t=170 HTTP/1.1 7.280229000</p></div><div id="comment-21824-info" class="comment-info"><span class="comment-age">(07 Jun '13, 10:53)</span> m_1607</div></div><span id="21825"></span><div id="comment-21825" class="comment not_top_scorer"><div id="post-21825-score" class="comment-score"></div><div class="comment-text"><p>Seriously, this is not leading to solving your problem - again those two packets posted by you can't be analysed without the rest of the trace. If you really can't post the trace somewhere due to sensitive data I suggest to get external help for this case</p></div><div id="comment-21825-info" class="comment-info"><span class="comment-age">(07 Jun '13, 11:36)</span> Landi</div></div><span id="21826"></span><div id="comment-21826" class="comment not_top_scorer"><div id="post-21826-score" class="comment-score"></div><div class="comment-text"><p>if it is about hiding sensitive data, you can use editcap to remove tha http payload so we can at least look it this from a tcp perspective</p></div><div id="comment-21826-info" class="comment-info"><span class="comment-age">(07 Jun '13, 13:43)</span> mrEEde2</div></div><span id="21829"></span><div id="comment-21829" class="comment not_top_scorer"><div id="post-21829-score" class="comment-score"></div><div class="comment-text"><p>From the details you're able to provide, all I can really say is that the client is receiving a 401 error (unauthorized) from the web server in packet 89. That doesn't explain slow speeds though.</p><p>Other than that, are there timestamps with this trace? Does Wireshark give any warnings/notes under Expert Info which may point to a problem? (click the lower-left circle with the trace loaded into Wireshark)?</p><p>I don't think there's really enough information here to diagnose the cause of the proverbial "slow speeds" issue. It's sometimes not possible to completely diagnose the cause even with the .pcap file of the session, let alone find a cause out of the packet summary details.</p></div><div id="comment-21829-info" class="comment-info"><span class="comment-age">(07 Jun '13, 17:51)</span> Quadratic</div></div><span id="21832"></span><div id="comment-21832" class="comment not_top_scorer"><div id="post-21832-score" class="comment-score"></div><div class="comment-text"><p>Wish to understand one thing when client request get / webpage page delta time is high, what could be reason for this high delta time when client webpage.</p><p>280 0.279926000 4.115363000 10.225.0.10 192.168.1.10 HTTP 5671 GET /abcProd/Contents/Objects/5176B170 HTTP/1.1 4.115363000</p><p>425 0.002877000 6.166599000 10.225.0.10 192.168.1.10 HTTP 5712 GET /abcProd/PlugIns/DocumentManager/Shared/Display.aspx?o=34656&amp;t=3 HTTP/1.1 6.166599000</p><p>419 0.013246000 6.877795000 10.225.0.10 192.168.1.10 HTTP 5681 GET /abcProd/Contents/Objects/34656B3 HTTP/1.1 6.877795000</p></div><div id="comment-21832-info" class="comment-info"><span class="comment-age">(08 Jun '13, 07:05)</span> m_1607</div></div></div><div id="comment-tools-21814" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-21814-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="21833"></span>

<div id="answer-container-21833" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-21833-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Without the whole session, the best we can do is guess what could be a reason. Then again, your guess is as good as ours. Well, your guess should be better, as you can look at the data and we can not.</p><p>Well, here goes my guesses:</p><ul><li>The client could be overloaded and is not able to keep up and therefor has a large delay between requests</li><li>The server is not serving pages quickly</li><li>The transfers are slow because of bad window scaling</li><li>The transfers are slow because of nagle-delayed ack problems</li><li>The transfers are slow because of packet loss</li><li>The transfers are slow because of a full moon ;-)</li></ul><p>Really, this is the 4th question you asked relating to slow downloads and you expect us to help you, but you can't provide us with the info we need to be able to help us. COuld you please create a capture file without the payload and if necessary with the IP addresses randomized and upload it to www.cloudshark.org?</p><p>Here is how you can do this on a linux box:</p><pre><code>tcprewrite -s 5234525  -i &lt;input file&gt; -o - | editcap -s 80 - &lt;output file&gt;</code></pre><p>(tcprewrite is part of <a href="http://tcpreplay.synfin.net/">tcpreplay</a> and editcap comes with wireshark)</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>08 Jun '13, 08:46</strong></p><img src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SYN-bit&#39;s gravatar image" /><p>SYN-bit ♦♦<br />
<span class="score" title="17094 reputation points"><span>17.1k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">●</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">●</span><span class="badgecount">245</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SYN-bit has 174 accepted answers">20%</span></p></div></div><div id="comments-container-21833" class="comments-container"><span id="21839"></span><div id="comment-21839" class="comment"><div id="post-21839-score" class="comment-score"></div><div class="comment-text"><p>Thanks SYN-bit , just wish to understand below point.</p><p>Wish to understand one thing when client request get / webpage page delta time is high, what could be reason for this high delta time when client webpage.</p><p>280 0.279926000 4.115363000 10.225.0.10 192.168.1.10 HTTP 5671 GET /abcProd/Contents/Objects/5176B170 HTTP/1.1 4.115363000</p><p>425 0.002877000 6.166599000 10.225.0.10 192.168.1.10 HTTP 5712 GET /abcProd/PlugIns/DocumentManager/Shared/Display.aspx?o=34656&amp;t=3 HTTP/1.1 6.166599000</p><p>419 0.013246000 6.877795000 10.225.0.10 192.168.1.10 HTTP 5681 GET /abcProd/Contents/Objects/34656B3 HTTP/1.1 6.877795000</p></div><div id="comment-21839-info" class="comment-info"><span class="comment-age">(08 Jun '13, 22:10)</span> m_1607</div></div><span id="21840"></span><div id="comment-21840" class="comment"><div id="post-21840-score" class="comment-score"></div><div class="comment-text"><p>(I did see your previous update and converted it to a comment to the question. I also converted your last "answer" to a comment to my answer. Please see the FAQ for details on how this site works best.)</p><p>My answer was pointed at your previous update in which you asked for the reason for the large intervals between requests. To understand the large delay, one needs to look at the packets in between. So without being able to look at those packets (at least the IP and TCP layers of those packets) there is not really much we can do for you in pinpointing the source of the delays.</p></div><div id="comment-21840-info" class="comment-info"><span class="comment-age">(08 Jun '13, 23:33)</span> SYN-bit ♦♦</div></div></div><div id="comment-tools-21833" class="comment-tools"></div><div class="clear"></div><div id="comment-21833-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

