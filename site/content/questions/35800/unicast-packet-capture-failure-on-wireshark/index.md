+++
type = "question"
title = "Unicast Packet capture failure on wireshark"
description = '''Hi,  I have a test setup which looks like this.  IXIA (Packet generator) -&amp;gt; DUT (2 port switch) -&amp;gt; Wireshark (PC) IXIA transmits a unicast packet which is received by the DUT port1 and sent out on port 2 to Wireshark .  The wireshark packet capture doesnt show up this packet. If I replace wire...'''
date = "2014-08-27T05:15:00Z"
lastmod = "2014-08-28T00:40:00Z"
weight = 35800
keywords = [ "unicast", "capture", "packet", "failure" ]
aliases = [ "/questions/35800" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Unicast Packet capture failure on wireshark](/questions/35800/unicast-packet-capture-failure-on-wireshark)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-35800-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-35800-score" class="post-score" title="current number of votes">0</div><span id="post-35800-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi,</p><p>I have a test setup which looks like this.</p><p>IXIA (Packet generator) -&gt; DUT (2 port switch) -&gt; Wireshark (PC)</p><p>IXIA transmits a unicast packet which is received by the DUT port1 and sent out on port 2 to Wireshark .</p><p>The wireshark packet capture doesnt show up this packet. If I replace wireshark with IXIA, IXIA shows this unicast packet being captured.</p><p>When I do a netstat -e on the PC which is running wireshark it shows the unicast frame counter (received) being incremented, but I still dont see this packet on the wireshark capture.</p><p>I had initially set the capture filter to capture on ethertype , but even when this capture filter is removed I dont see any thing on the wireshark capture .</p><p>Any thoughts on what could be happening here?</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-unicast" rel="tag" title="see questions tagged &#39;unicast&#39;">unicast</span> <span class="post-tag tag-link-capture" rel="tag" title="see questions tagged &#39;capture&#39;">capture</span> <span class="post-tag tag-link-packet" rel="tag" title="see questions tagged &#39;packet&#39;">packet</span> <span class="post-tag tag-link-failure" rel="tag" title="see questions tagged &#39;failure&#39;">failure</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>27 Aug '14, 05:15</strong></p><img src="https://secure.gravatar.com/avatar/c28bb4d117690e1b5f4cec9831338af7?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Prasanna&#39;s gravatar image" /><p><span>Prasanna</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Prasanna has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>27 Aug '14, 22:12</strong> </span></p><img src="https://secure.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Guy%20Harris&#39;s gravatar image" /><p><span>Guy Harris ♦♦</span><br />
<span class="score" title="17443 reputation points"><span>17.4k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="35 badges"><span class="silver">●</span><span class="badgecount">35</span></span><span title="196 badges"><span class="bronze">●</span><span class="badgecount">196</span></span></p></div></div><div id="comments-container-35800" class="comments-container"><span id="35820"></span><div id="comment-35820" class="comment"><div id="post-35820-score" class="comment-score"></div><div class="comment-text"><p>A few thoughts:</p><p>What is the destination mac address for the packet being sent?</p><p>Is there a mac table entry on the switch for that destination mac, and if so what port is it associated with? If not it should get flooded out of all ports assuming your switch works like a regular one so wireshark should see it?</p><p>Is promiscuous mode enabled in the wireshark capture options?</p><p>Does wireshark capture broadcasts / multicasts?</p></div><div id="comment-35820-info" class="comment-info"><span class="comment-age">(27 Aug '14, 14:45)</span> <span class="comment-user userinfo">PaulOfford</span></div></div><span id="35828"></span><div id="comment-35828" class="comment"><div id="post-35828-score" class="comment-score"></div><div class="comment-text"><p>The dst mac address is 18 03 73 20 0f d9 . This is the mac address of the PC on which wireshark is running ? I did not understand what you meant by which port is it associated with ?</p><p>Promiscuous mode is enabled in wireshark .</p><p>Wireshark captures broadcast packets only. It does not capture either unicast or multicast packets.<br />
</p></div><div id="comment-35828-info" class="comment-info"><span class="comment-age">(27 Aug '14, 22:33)</span> <span class="comment-user userinfo">Prasanna</span></div></div><span id="35829"></span><div id="comment-35829" class="comment"><div id="post-35829-score" class="comment-score"></div><div class="comment-text"><p>On many switches you can display the mac table. This shows switch port numbers and the mac addresses the switch has seen on each port.</p><p>You put a question mark after stating that the mac address is that of the pc. Is that because you assume that the dest mac is that of the pc or have you actually seen it in a trace taken at the IXIA?</p><p>When you set up the IXIA do you configure the packet as an ip packet. If so, how is ARP handled? Does the IXIA generate an ARP to resolve the IP address of the PC to its MAC address or do you have to enter preconfigure the dest mac or the ARP cache?</p><p>Sorry for so many questions.</p><p>Best regards...Paul</p></div><div id="comment-35829-info" class="comment-info"><span class="comment-age">(27 Aug '14, 22:57)</span> <span class="comment-user userinfo">PaulOfford</span></div></div><span id="35831"></span><div id="comment-35831" class="comment"><div id="post-35831-score" class="comment-score"></div><div class="comment-text"><p>I think the cuplrit was the anti virus software which was installed on the PC. Once this was removed wireshark is able to capture packets correctly .</p><p>Thanks for all the answers.</p></div><div id="comment-35831-info" class="comment-info"><span class="comment-age">(28 Aug '14, 00:40)</span> <span class="comment-user userinfo">Prasanna</span></div></div></div><div id="comment-tools-35800" class="comment-tools"></div><div class="clear"></div><div id="comment-35800-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

</div>

