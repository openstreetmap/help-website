+++
type = "question"
title = "Avaya VoIP traffic flow"
description = '''I captured the traffic for an Avaya VoIP phone with Wireshark. the user phone (10.10.10.100) is calling another user on the remote site (10.10.30.100). I am not sure I understand the flow of UDP. I don&#x27;t see the conversation between 10.10.10.100 and 10.10.20.100. I only see the conversation between ...'''
date = "2014-04-04T11:07:00Z"
lastmod = "2014-04-04T11:07:00Z"
weight = 31526
keywords = [ "ip", "phone", "network", "voip", "avaya" ]
aliases = [ "/questions/31526" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [Avaya VoIP traffic flow](/questions/31526/avaya-voip-traffic-flow)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-31526-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I captured the traffic for an Avaya VoIP phone with Wireshark. the user phone (10.10.10.100) is calling another user on the remote site (10.10.30.100). I am not sure I understand the flow of UDP. I don't see the conversation between 10.10.10.100 and 10.10.20.100. I only see the conversation between 10.10.10.100 and 10.10.20.1 (the IP Office). 10.10.10.100 and 10.10.20.1 are on the same location.</p></div><div id="question-tags" class="tags-container tags">ip phone network voip avaya</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>04 Apr '14, 11:07</strong></p><img src="https://secure.gravatar.com/avatar/4bf9a4681570406f873b404a912f2a7b?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="character9&#39;s gravatar image" /><p>character9<br />
<span class="score" title="16 reputation points">16</span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="10 badges"><span class="silver">●</span><span class="badgecount">10</span></span><span title="12 badges"><span class="bronze">●</span><span class="badgecount">12</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="character9 has no accepted answers">0%</span></p></div></div><div id="comments-container-31526" class="comments-container"><span id="31527"></span><div id="comment-31527" class="comment"><div id="post-31527-score" class="comment-score"></div><div class="comment-text"><p>O.K. and what is your <strong>question</strong>?</p></div><div id="comment-31527-info" class="comment-info"><span class="comment-age">(04 Apr '14, 11:11)</span> Kurt Knochner ♦</div></div><span id="31530"></span><div id="comment-31530" class="comment"><div id="post-31530-score" class="comment-score"></div><div class="comment-text"><p>Why I cannot see the conversation between 2 phones? Why I only see the conversation between the phone and the IP Office?</p></div><div id="comment-31530-info" class="comment-info"><span class="comment-age">(04 Apr '14, 12:03)</span> character9</div></div><span id="31532"></span><div id="comment-31532" class="comment"><div id="post-31532-score" class="comment-score"></div><div class="comment-text"><p>Define "conversation". You mean SIP signaling? That almost never goes directly between two phones. Do you mean the RTP/RTCP media? That sometimes does and sometimes does not go directly between two phones, depending on a bunch of factors.</p><p>Or do you just mean why does Wireshark not capture packets from everywhere, even though there are packets? It can only capture the packets on the wire connected to the PC it's running on, and if you're in a switched ethernet environment, that won't be much unless you're connected to a monitoring port. (or are you running on wireless? that has its own issues...)</p></div><div id="comment-31532-info" class="comment-info"><span class="comment-age">(04 Apr '14, 12:59)</span> Hadriel</div></div><span id="31537"></span><div id="comment-31537" class="comment"><div id="post-31537-score" class="comment-score"></div><div class="comment-text"><p>You are talking about 10.10.<strong>30</strong>.100 and then about 10.10.<strong>20</strong>.100. Is that intentional or a typo?</p><p>Furthermore: please add information about the systems. What is</p><ul><li>10.10.20.100</li><li>10.10.20.1</li><li>where is your VoIP PBX</li><li>where and how did you capture</li></ul><p>Without, at least <strong>some</strong>, information about your environment it would need a clairvoyant to understand the problem ;-))</p></div><div id="comment-31537-info" class="comment-info"><span class="comment-age">(05 Apr '14, 00:31)</span> Kurt Knochner ♦</div></div><span id="31561"></span><div id="comment-31561" class="comment"><div id="post-31561-score" class="comment-score"></div><div class="comment-text"><p>Yes it is a type. Sorry.</p><p>10.10.10.100 is the phone on site A. 10.10.30.100 is the phone on site B. 10.10.20.1 is the PBX on site A</p><p>From my understanding about the VoIP, before phone A can communicate with phone B, it needs to communicate with the Call Manager for the call setup. Once it is setup the 2 phones can communicate directly with each other.</p><p>I don't know what is using for voice signaling for this conversation. That is why I am using Wireshark to trace the traffic. I only see UDP traffic. I was trying to use the Telephony feature for SIP. But there are no SIP packets. I also tried VoIP calls but nothing.</p></div><div id="comment-31561-info" class="comment-info"><span class="comment-age">(05 Apr '14, 18:09)</span> character9</div></div><span id="31562"></span><div id="comment-31562" class="comment not_top_scorer"><div id="post-31562-score" class="comment-score"></div><div class="comment-text"><p>Avaya supports multiple VoIP protocols, depending on the exact software, version, etc. - a common one is SIP, but they do H.323 as well, and probably some proprietary stuff I don't know about.</p><p>The easiest way to help you is if you can post your capture file online somewhere we can get it, like on cloudshark.org. It's much harder to do this without seeing what you see.</p><p>For the UDP packets you see, when you click on one and look in the Bytes Pane, is it readable ASCII characters? If so, it might still be SIP but just not on UDP port 5060; in which case you can tell Wireshark to decode it as SIP anyway by right-clicking on the packet and selecting "Decode As..." and selecting SIP protocol.</p><p>Or the UDP packets might be the RTP media, and you simply can't see the SIP (or whatever) signaling packets. If wireshark didn't see the SIP packets create the call, then it won't know which UDP packets are for RTP, so again you'd have to tell it by selecting Decode As...</p><p>As for 2 phones communicating directly with each other, the short answer is no - they sometimes do, and sometimes don't. Most standards and books assume they do, but in the real world that's just not the case. It depends on many factors, such as the systems being used, their configuration, NATs/Firewalls, security policies, etc. Don't believe everything you read. :)</p></div><div id="comment-31562-info" class="comment-info"><span class="comment-age">(05 Apr '14, 20:13)</span> Hadriel</div></div></div><div id="comment-tools-31526" class="comment-tools"><span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a></div><div class="clear"></div><div id="comment-31526-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

</div>

