+++
type = "question"
title = "performance problem with online game over canopy wireless link"
description = '''any knowledgeable volunteers to take a quick look at a log for me issues with an online game provider they keep blaming our ISP our ISP blames them Thanks Andy.'''
date = "2014-03-03T10:51:00Z"
lastmod = "2014-03-03T16:09:00Z"
weight = 30353
keywords = [ "wireless", "performance", "canopy", "game" ]
aliases = [ "/questions/30353" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [performance problem with online game over canopy wireless link](/questions/30353/performance-problem-with-online-game-over-canopy-wireless-link)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-30353-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>any knowledgeable volunteers to take a quick look at a log for me issues with an online game provider they keep blaming our ISP our ISP blames them</p><p>Thanks Andy.</p></div><div id="question-tags" class="tags-container tags">wireless performance canopy game</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>03 Mar '14, 10:51</strong></p><img src="https://secure.gravatar.com/avatar/a53b5ec239fadace859fb62f183281c3?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Andy%20Taylor&#39;s gravatar image" /><p>Andy Taylor<br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Andy Taylor has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 03 Mar '14, 16:04</p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p>Kurt Knochner ♦<br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span></p></div></div><div id="comments-container-30353" class="comments-container"><span id="30363"></span><div id="comment-30363" class="comment"><div id="post-30363-score" class="comment-score"></div><div class="comment-text"><p>what is the problem with the game?</p><p>BTW: Please add (much) more details about your environment. At least, but not limited to</p><ul><li>client OS and OS version</li><li>client connection (WLAN, ethernet)</li><li>Internet connection type (DSL, Cable, Satellite, etc.)</li><li>ping times to the game server</li><li>etc.</li><li>etc.</li></ul></div><div id="comment-30363-info" class="comment-info"><span class="comment-age">(03 Mar '14, 15:02)</span> Kurt Knochner ♦</div></div><span id="30368"></span><div id="comment-30368" class="comment"><div id="post-30368-score" class="comment-score"></div><div class="comment-text"><p>lag, dropped connects, general un playability. OS win7 Ultimate</p><p>========================================================================== VisualRoute trace to bp-fb-vip.sjc2.kixeye.com ==========================================================================</p><p>This trace was started on 3-Mar-2014 6:31:22 PM. The host 'bp-fb-vip.sjc2.kixeye.com' has been found, and is reachable in 4 hops. Also, it responded to HTTP requests on port 80 (it is running server nginx/1.0.6, which responded in 3346ms). The TTL value of packets received from it is 49.In general this route offers a good throughput, with hops responding on average within 53ms. However, hop 3 in network '[Network for 64.74.130.75]' is noticeably slower than others. The DNS lookup was completed almost instantaneously (less than 2ms - this may be the result of caching).</p><pre><code>----------------------------------------------------------------------------------------------------------------------------------------
| Hop | %Loss | IP Address    | Node Name                 | Location           | Tzone | ms  | Graph      | Network                    |
----------------------------------------------------------------------------------------------------------------------------------------
| 0   |       | 192.168.1.113 | Q8400.kos.net             |                    |       | 0   | x          | [Local Network]            |
| 1   |       | 192.168.1.1   | SUTHERLANDTAYLO           |                    |       | 1   | x          | [Local Network]            |
| 2   |       | 64.74.130.75  | bp-fb-vip.sjc2.kixeye.com | San Francisco, usa |       | 155 |       --x- | [Network for 64.74.130.75] |
----------------------------------------------------------------------------------------------------------------------------------------</code></pre><p>Log snapped as text for a traceroute</p><p>on a wireless canopy 4MBS connection our ping to somewhere like google returns slowest hop is 42 seconds</p><p>We know damn well it is at their end they keep claiming it is our internet, was hoping someone could look at an actual log and tell us what is going on or give me a site where I can look up what the traffic really is.</p><p>Thanks Andy.</p></div><div id="comment-30368-info" class="comment-info"><span class="comment-age">(03 Mar '14, 15:37)</span> Andy Taylor</div></div></div><div id="comment-tools-30353" class="comment-tools"></div><div class="clear"></div><div id="comment-30353-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="30372"></span>

<div id="answer-container-30372" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-30372-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><blockquote><p>on a <strong>wireless canopy 4MBS connection</strong> our ping to somewhere like google returns slowest hop is 42 seconds</p></blockquote><p><strong>canopy</strong>?</p><p>Are you sure it's not your wireless connection that has way too high latency for online gaming !?! 42 ms to google is not what I would call good/fast. Even on my worst internet connection I still get 15 ms to google (well, they do geo balancing, so that's not really comparable to your values). And <strong>155 ms to the target server</strong> is probably too much latency for that specific online game !?!</p><p>Anyway: What is the RTT (ping time) you get to the nearest hop, directly 'after' the canopy link?</p><p>Regards<br />
Kurt</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>03 Mar '14, 16:09</strong></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p>Kurt Knochner ♦<br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kurt Knochner has 344 accepted answers">15%</span> </br></p></div></div><div id="comments-container-30372" class="comments-container"><span id="30373"></span><div id="comment-30373" class="comment"><div id="post-30373-score" class="comment-score"></div><div class="comment-text"><p>Hi Kurt thanks for your time first and foremost, I am really sure it's not at our end, they love blaming the end user. If I test with say Speedtest we get returns of 42 ms, however from Kixeye returns come back at over 140 (varies between 185 avg 150 min and 185 max ATM) . If we ping say Google, Yahoo show the same 42 MS but the way KOS has it set up it is shown as a peering point the connection between the tower point and what I'm sure is Bell's Internet infrastructure,as Kingston Online subs out their services, does not show . If I return to Yahoo or Google or a major IP it's always 42 or lower.</p><p>We do however using a packet logger get tons of keep Stay alive acks and this message in red in the logger:</p><p>273 8.194927000 192.168.1.137 64.74.130.75 TCP 54 venus-se &gt; https [RST] Seq=746986586 Win=0 Len=0</p><p>272 8.194913000 64.74.130.75 192.168.1.137 TCP 54 [TCP ACKed unseen segment] https &gt; venus-se [ACK] Seq=1 Ack=746986586 Win=12672 Len=0</p><p>461 9.375984000 192.168.1.137 63.251.19.21 TCP 66 [TCP Dup ACK 444#1] venus &gt; https [ACK] Seq=1533 Ack=4495 Win=65536 Len=0 TSval=192566 TSecr=952753794</p><p>these are coming in in black &amp; red in the log.</p><p>Andy.</p></div><div id="comment-30373-info" class="comment-info"><span class="comment-age">(03 Mar '14, 16:30)</span> Andy Taylor</div></div><span id="30374"></span><div id="comment-30374" class="comment"><div id="post-30374-score" class="comment-score"></div><div class="comment-text"><p>That's a sign for packet loss. <strong>However</strong> with only a capture at the client, you won't be able to figure out where the packet loss occurs. It could be the local network, the canopy link, 'the Internet' or the target server.</p></div><div id="comment-30374-info" class="comment-info"><span class="comment-age">(03 Mar '14, 16:45)</span> Kurt Knochner ♦</div></div><span id="30378"></span><div id="comment-30378" class="comment"><div id="post-30378-score" class="comment-score"></div><div class="comment-text"><p>One way to get a better global view is to check a few looking glasses (<a href="http://www.bgp4.as/looking-glasses).">http://www.bgp4.as/looking-glasses).</a></p><p>150ms might not be the cause of your performance problems, and to be honest I don't think it is. I'm actually seeing packet loss when doing extended pings from a few different ISPs. For example, from route-views.oregon-ix.net:</p><hr /><p>Sending 5, 100-byte ICMP Echos to 64.74.130.75, timeout is 2 seconds: !.!!! Success rate is 80 percent (4/5), round-trip min/avg/max = 256/286/368 ms route-views&gt;ping 64.74.130.75</p><p>Followed a few minutes later by:</p><p>Sending 5, 100-byte ICMP Echos to 64.74.130.75, timeout is 2 seconds: !!!!! Success rate is 100 percent (5/5), round-trip min/avg/max = 24/24/24 ms</p><hr /><p>That might be something local to them though, since LG's like route-server.cbbtier3.att.net and route-server.ip.att.net showed no packet loss at the time that that one did.</p><p>I suggest you do traces and pings across a distribute set of looking glasses when you get this performance issue on your game (assuming this is intermittent?). If you can map out multiple ISPs with measurable performance issues toward them that could help pinpoint the problem.</p></div><div id="comment-30378-info" class="comment-info"><span class="comment-age">(03 Mar '14, 21:18)</span> Quadratic</div></div><span id="30480"></span><div id="comment-30480" class="comment"><div id="post-30480-score" class="comment-score"></div><div class="comment-text"><p>Thanks a ton I'll do that there are a bunch of packets coming in with invalid checksums and being re-requested I'm seeing using capsa so I will look into it.the info from the capsa reports are much easier for a newb to understand.</p><p>Thanks Again, Andy.</p></div><div id="comment-30480-info" class="comment-info"><span class="comment-age">(06 Mar '14, 09:37)</span> Andy Taylor</div></div><span id="30499"></span><div id="comment-30499" class="comment"><div id="post-30499-score" class="comment-score"></div><div class="comment-text"><p>can you post a sample capture file, that contains both the frames with invalid checksum and the 're-requested' ones (on google drive, dropbox, cloudshark.org)?</p></div><div id="comment-30499-info" class="comment-info"><span class="comment-age">(06 Mar '14, 13:16)</span> Kurt Knochner ♦</div></div></div><div id="comment-tools-30372" class="comment-tools"></div><div class="clear"></div><div id="comment-30372-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

