+++
type = "question"
title = "Files was unexpected at this time. [osmosis]"
description = '''Hi All, I&#x27;m totally new in OpenStreetMap forum. I need to do one, probably simple filtering operation in Osmosis but I&#x27;m getting this message &quot;Files was unexpected at this time.&quot; I&#x27;m using windows 8.1 and Java 1.7. First I installed Java 32bit but after restarting computer osmosis it didn&#x27;t run. I d...'''
date = "2014-06-17T08:58:00Z"
lastmod = "2014-06-18T16:38:00Z"
weight = 34022
keywords = [ "files_unexpected", "java", "osmosis", "error" ]
aliases = [ "/questions/34022" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [Files was unexpected at this time. \[osmosis\]](/questions/34022/files-was-unexpected-at-this-time-osmosis)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-34022-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-34022-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-34022-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p><em>Hi All, I'm totally new in OpenStreetMap forum. I need to do one, probably simple filtering operation in Osmosis but I'm getting this message "Files was unexpected at this time." I'm using windows 8.1 and Java 1.7. First I installed Java 32bit but after restarting computer osmosis it didn't run. I downloaded and install Java 64 bit and after running osmosis I was able to see loading script but it looks incomplete.</em><br />
</p>
<p><em>I specified path to IF</em> "%JAVACMD%"=="" set JAVACMD="C:\Program Files (x86)\Java\jre7\bin\java" but after running this line: osmosis --read-xml highways.osm --tf accept-w ays highway=* --used-node --write-xml highwaysdone.osm</p>
<p><em>but i got this message:</em> C:\Users\adam.roborelanium\Desktop&gt;"C:\Program Files (x86)\OSMOSIS\bin\osmosis.b at" Files was unexpected at this time.</p>
<p><em>here's all log copy.</em></p>
<pre><code>C:\Users\adam.roborelanium\Desktop&gt;&quot;C:\Program Files (x86)\OSMOSIS\bin\osmosis.b
at&quot;
cze 17, 2014 2:00:13 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Osmosis Version 0.43.1
cze 17, 2014 2:00:13 PM org.java.plugin.registry.xml.ManifestParser &lt;init&gt;
INFO: got SAX parser factory - org.apache.xerces.jaxp.SAXParserFactoryImpl@13d72
54
cze 17, 2014 2:00:13 PM org.java.plugin.registry.xml.PluginRegistryImpl configur
e
INFO: configured, stopOnError=false, isValidating=true
cze 17, 2014 2:00:14 PM org.java.plugin.registry.xml.PluginRegistryImpl register
&#10;INFO: plug-in and fragment descriptors registered - 1
cze 17, 2014 2:00:14 PM org.java.plugin.standard.StandardPluginManager activateP
lugin
INFO: plug-in started - org.openstreetmap.osmosis.core.plugin.Core@0.0.0.42-6-gf
39a160-dirty
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Preparing pipeline.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Launching pipeline execution.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline executing, waiting for completion.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline complete.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Total execution time: 697 milliseconds.
&#10;C:\Users\adam.roborelanium\Desktop&gt;osmosis --read-xml highways.osm --tf accept-w
ays highway=* --used-node --write-xml highwaysdone.osm
&#10;C:\Users\adam.roborelanium\Desktop&gt;&quot;C:\Program Files (x86)\OSMOSIS\bin\osmosis.b
at&quot;
Files was unexpected at this time.
&#10;C:\Users\adam.roborelanium\Desktop&gt;</code></pre>
<p><em>Any idea, what can cause a problem ? ps. I put double quotes before and after %JAVACMD% but then osmosis doesn't want to start at all. Thank You for help</em></p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-files_unexpected" rel="tag" title="see questions tagged &#39;files_unexpected&#39;">files_unexpected</span> <span class="post-tag tag-link-java" rel="tag" title="see questions tagged &#39;java&#39;">java</span> <span class="post-tag tag-link-osmosis" rel="tag" title="see questions tagged &#39;osmosis&#39;">osmosis</span> <span class="post-tag tag-link-error" rel="tag" title="see questions tagged &#39;error&#39;">error</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>17 Jun '14, 08:58</strong></p>
<img src="https://secure.gravatar.com/avatar/4829d9903fb2e5bf31a3e7c44b18ac81?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="roborelanium&#39;s gravatar image" />
<p><span>roborelanium</span><br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="roborelanium has no accepted answers">0%</span> </br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>17 Jun '14, 13:14</strong> </span></p>
<img src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="aseerel4c26&#39;s gravatar image" />
<p><span>aseerel4c26 ♦</span><br />
<span class="score" title="32615 reputation points"><span>32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div id="comments-container-34022" class="comments-container">
<span id="34031"></span>
<div id="comment-34031" class="comment">
<div id="post-34031-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>The <em>Files</em> originates from <em>C:\Program Files[...]</em>.</p>
</div>
<div id="comment-34031-info" class="comment-info">
<span class="comment-age">(17 Jun '14, 12:04)</span> <span class="comment-user userinfo">scai ♦</span>
</div>
</div>
<span id="34033"></span>
<div id="comment-34033" class="comment">
<div id="post-34033-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Are you sure that this is a java problem and not a windows batch file problem? You were running "osmosis.bat" last. Adding to scai's comment: Try to cd into the directory C:\Program Files (x86)\OSMOSIS\bin\ and run the bat there.</p>
</div>
<div id="comment-34033-info" class="comment-info">
<span class="comment-age">(17 Jun '14, 13:16)</span> <span class="comment-user userinfo">aseerel4c26 ♦</span>
</div>
</div>
<span id="34073"></span>
<div id="comment-34073" class="comment">
<div id="post-34073-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Thanks a lot for answers.</p>
<p>I run osmosis.bat directly from the C:\Program Files (x86)\OSMOSIS\bin\ location but it's the same error. Is this what You are suggesting or I'm misunderstanding scai's "Files originates from C:\Program Files[...]" ?</p>
<p>In addition I tried to use OSMembrane which is using osmosis engine and it asked about the location of a batch file (I specified osmosis.bat in C:\Program Files[...]) but after running pipeline I got error too.</p>
<p>what am I doing wrong ?</p>
<pre><code>C:\Program Files (x86)\OSMOSIS\bin&gt;&quot;C:\Program Files (x86)\OSMOSIS\bin\osmosis.bat&quot;
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Osmosis Version 0.43.1
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.ManifestParser &lt;init&gt;
INFO: got SAX parser factory - org.apache.xerces.jaxp.SAXParserFactoryImpl@198ee2f
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.PluginRegistryImpl configure
INFO: configured, stopOnError=false, isValidating=true
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.PluginRegistryImpl register
INFO: plug-in and fragment descriptors registered - 1
cze 18, 2014 12:34:43 PM org.java.plugin.standard.StandardPluginManager activatePlugin
INFO: plug-in started - org.openstreetmap.osmosis.core.plugin.Core@0.0.0.42-6-gf39a160-dirty
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Preparing pipeline.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Launching pipeline execution.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline executing, waiting for completion.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline complete.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Total execution time: 665 milliseconds.
&#10;C:\Program Files (x86)\OSMOSIS\bin&gt;cd c:/
&#10;c:\&gt;cd C:\Program Files (x86)\OSMOSIS\bin
&#10;C:\Program Files (x86)\OSMOSIS\bin&gt;osmosis --read-xml highways.osm --tf accept-ways highway=* --used-node --write-xml highwaysdone.osm
Files was unexpected at this time.
&#10;C:\Program Files (x86)\OSMOSIS\bin&gt;</code></pre>
<p>Thank You for help</p>
</div>
<div id="comment-34073-info" class="comment-info">
<span class="comment-age">(18 Jun '14, 06:53)</span> <span class="comment-user userinfo">roborelanium</span>
</div>
</div>
<span id="34075"></span>
<div id="comment-34075" class="comment">
<div id="post-34075-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Maybe osmosis has a bug which prevents it from running inside paths which contain spaces? Try to run it in a path without spaces.</p>
</div>
<div id="comment-34075-info" class="comment-info">
<span class="comment-age">(18 Jun '14, 07:41)</span> <span class="comment-user userinfo">scai ♦</span>
</div>
</div>
<span id="34077"></span>
<div id="comment-34077" class="comment not_top_scorer">
<div id="post-34077-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Thank you scai</p>
<p>I run it in C:/ path but I got following error:</p>
<p><em>'osmosis' is not recognized as an internal or external command, operable program or batch file.</em></p>
<p>or how to access path without the spaces ?</p>
</div>
<div id="comment-34077-info" class="comment-info">
<span class="comment-age">(18 Jun '14, 09:07)</span> <span class="comment-user userinfo">roborelanium</span>
</div>
</div>
<span id="34079"></span>
<div id="comment-34079" class="comment">
<div id="post-34079-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>By installing/moving osmosis to a different directory, e.g. "C:\OSMOSIS" instead of "C:\Program Files (x86)\OSMOSIS".</p>
</div>
<div id="comment-34079-info" class="comment-info">
<span class="comment-age">(18 Jun '14, 09:39)</span> <span class="comment-user userinfo">scai ♦</span>
</div>
</div>
</div>
<div id="comment-tools-34022" class="comment-tools">
<span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-34022-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="34110"></span>

<div id="answer-container-34110" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-34110-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-34110-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-34110-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>OK works ! But... installation of osmosis-latest.zip was giving me problems I mentioned above even after running it in c:\</p>
<p>After many try I run osmosis-0.43.1 and I filtered file successfully</p>
<p>Thanks for help good forum !</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>18 Jun '14, 16:38</strong></p>
<img src="https://secure.gravatar.com/avatar/4829d9903fb2e5bf31a3e7c44b18ac81?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="roborelanium&#39;s gravatar image" />
<p><span>roborelanium</span><br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="roborelanium has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-34110" class="comments-container">
&#10;</div>
<div id="comment-tools-34110" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-34110-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

