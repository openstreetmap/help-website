+++
type = "question"
title = "Ubuntu machine - no interfaces listed"
description = '''I&#x27;ve tried the procedures listed in the CaptureSetup/CapturePrivileges, and the Debian specific file, but still see no interfaces. I saw an earlier post referring to bpf* file permissions, but this appears to only be relevant to Mac OS X users. I&#x27;m running Ubuntu 10.04 LTS. Any ideas?'''
date = "2011-11-20T18:13:00Z"
lastmod = "2014-02-10T04:16:00Z"
weight = 7523
keywords = [ "interfaces", "ubuntu" ]
aliases = [ "/questions/7523" ]
osqa_answers = 3
osqa_accepted = true
+++

<div class="headNormal">

# [Ubuntu machine - no interfaces listed](/questions/7523/ubuntu-machine-no-interfaces-listed)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-7523-score" class="post-score" title="current number of votes">16</div><div id="favorite-count" class="favorite-count">7</div></div></td><td><div id="item-right"><div class="question-body"><p>I've tried the procedures listed in the CaptureSetup/CapturePrivileges, and the Debian specific file, but still see no interfaces. I saw an earlier post referring to bpf* file permissions, but this appears to only be relevant to Mac OS X users. I'm running Ubuntu 10.04 LTS. Any ideas?</p></div><div id="question-tags" class="tags-container tags">interfaces ubuntu</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>20 Nov '11, 18:13</strong></p><img src="https://secure.gravatar.com/avatar/a16a9fcaace47bdb3066b384b3232c07?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="mrcpuhead&#39;s gravatar image" /><p>mrcpuhead<br />
<span class="score" title="246 reputation points">246</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="mrcpuhead has no accepted answers">0%</span></p></div></div><div id="comments-container-7523" class="comments-container"><span id="7529"></span><div id="comment-7529" class="comment"><div id="post-7529-score" class="comment-score"></div><div class="comment-text"><p>Hope i'm not stating the obvious here...? Wireshark will only see interfaces that are actually active, are they? use 'ifconfig' on the prompt to see use 'ifconfig eth0 up' to activate then check wireshark again</p></div><div id="comment-7529-info" class="comment-info"><span class="comment-age">(21 Nov '11, 02:55)</span> Marc</div></div><span id="7530"></span><div id="comment-7530" class="comment"><div id="post-7530-score" class="comment-score"></div><div class="comment-text"><p>Yes, the eth0 interface is quite active!</p></div><div id="comment-7530-info" class="comment-info"><span class="comment-age">(21 Nov '11, 04:11)</span> mrcpuhead</div></div><span id="7531"></span><div id="comment-7531" class="comment not_top_scorer"><div id="post-7531-score" class="comment-score">-1</div><div class="comment-text"><p>I had the same problem. I couldn't figure out the specific files/devices that needed permissions in Ubuntu, so I resorted to:</p><pre><code>$ sudo wireshark</code></pre><p>I didn't mind running as root since I was in a VM.</p></div><div id="comment-7531-info" class="comment-info"><span class="comment-age">(21 Nov '11, 04:59)</span> bstn</div></div><span id="7532"></span><div id="comment-7532" class="comment"><div id="post-7532-score" class="comment-score"></div><div class="comment-text"><p>Sorry, had to ask :-) 2nd obvious thing then would be to see if it would run under sudo..</p></div><div id="comment-7532-info" class="comment-info"><span class="comment-age">(21 Nov '11, 05:00)</span> Marc</div></div><span id="7533"></span><div id="comment-7533" class="comment"><div id="post-7533-score" class="comment-score">1</div><div class="comment-text"><p>While this might work (and is fine inside a VM), it should generally be avoided. The http://wiki.wireshark.org/CaptureSetup/CapturePrivileges article lays out what needs to be done, and file:///usr/share/doc/wireshark-common/README.Debian is the relevant document in this case.</p></div><div id="comment-7533-info" class="comment-info"><span class="comment-age">(21 Nov '11, 05:57)</span> multipleinte...</div></div><span id="7534"></span><div id="comment-7534" class="comment"><div id="post-7534-score" class="comment-score"></div><div class="comment-text"><p>Haven't tried sudo yet - I'm willing to be it'll work - just didn't want to run wireshark that way if I didn't have to.</p></div><div id="comment-7534-info" class="comment-info"><span class="comment-age">(21 Nov '11, 09:24)</span> mrcpuhead</div></div><span id="7536"></span><div id="comment-7536" class="comment not_top_scorer"><div id="post-7536-score" class="comment-score"></div><div class="comment-text"><p>As I mentioned in my orig post, I went to the aforementioned pages, and did what they said, with no luck. The problem is that the README.Debian page doesn't really give the needed steps, it only states in general what you need to do. I'm comfortable enough with Linux to run through most any procedure. This one simply didn't work. I even tried the "Other linux based..." steps: I verified wireshark group membership, group ownership of the dumpcap file, and the setcap command. No joy!</p></div><div id="comment-7536-info" class="comment-info"><span class="comment-age">(21 Nov '11, 09:41)</span> mrcpuhead</div></div><span id="7538"></span><div id="comment-7538" class="comment not_top_scorer"><div id="post-7538-score" class="comment-score"></div><div class="comment-text"><ol><li>Did you install Wireshark via a package (<code>apt-get install wireshark</code> or similar) or from source?</li><li>What are the user and group ownership and file permissions of /usr/bin/dumpcap (as provided by <code>ls -l /usr/bin/dumpcap</code>)?</li><li>Did the <code>setcap</code> command result in any error output?</li><li>What command do you execute to launch wireshark (if you use a launcher, what command does it execute)? If it is just <code>wireshark</code>, what is the output of <code>file $(which wireshark)</code>?</li></ol><p><strong>Edit</strong>: Also, have you verified group membership in wireshark, and logged out and back in at least once?</p></div><div id="comment-7538-info" class="comment-info"><span class="comment-age">(21 Nov '11, 11:15)</span> multipleinte...</div></div><span id="19870"></span><div id="comment-19870" class="comment not_top_scorer"><div id="post-19870-score" class="comment-score">-1</div><div class="comment-text"><p>For all you non Linux people like me. I just copied the icon to the desktop, then right clicked and opened as root. This opened the contain folder and I launched it (double Clicked) from there. Wireshark then prompted me it was running as root. I may become a Linux user yet.</p></div><div id="comment-19870-info" class="comment-info"><span class="comment-age">(27 Mar '13, 08:11)</span> dskaiser</div></div><span id="19873"></span><div id="comment-19873" class="comment not_top_scorer"><div id="post-19873-score" class="comment-score"></div><div class="comment-text"><p>As per the comment by @helloworld above running Wireshark as root is not a good idea. Wireshark contains millions of lines of code and the potential for exploitation is considerable.</p><p>Was there something deficient in the instructions in the accepted answer by @helloworld?</p></div><div id="comment-19873-info" class="comment-info"><span class="comment-age">(27 Mar '13, 09:17)</span> grahamb ♦</div></div></div><div id="comment-tools-7523" class="comment-tools"><span class="comments-showing"> showing 5 of 10 </span> <a href="#" class="show-all-comments-link">show 5 more comments</a></div><div class="clear"></div><div id="comment-7523-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

3 Answers:

</div>

</div>

<span id="7546"></span>

<div id="answer-container-7546" class="answer accepted-answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-7546-score" class="post-score" title="current number of votes">28</div></div></td><td><div class="item-right"><div class="answer-body"><p><strong>EDIT:</strong> The instructions from <a href="http://pastebin.com/yk7HKxUR">README.Debian</a> actually <em>do</em> work (except it's missing the step that tells you to log out and then back in). The <code>dpkg-reconfigure</code> command creates the <code>wireshark</code> group (so you don't need to), but then you need to add your user to the group, and re-login.</p><p>These commands work for me with Wireshark 1.6.2 on Ubuntu Server 11.10 (64-bit):</p><pre><code>$ sudo apt-get install wireshark
$ sudo dpkg-reconfigure wireshark-common 
$ sudo usermod -a -G wireshark $USER
$ sudo reboot</code></pre><p>Instead of rebooting, you can logout with this command:</p><ul><li><p>Ubuntu Desktop:</p><pre><code>$ gnome-session-quit --logout --no-prompt</code></pre></li><li><p>Ubuntu Server:</p><pre><code>$ pkill -KILL -u $USER </code></pre></li></ul><p>or simply (if you're already at the login shell):</p><pre><code>$ exit</code></pre><p>If the solution above still fails on your system, an alternative is to set the <code>setuid</code> bit for <code>dumpcap</code> (which lets <code>dumpcap</code> run effectively as the owner of the file, which is root in this case):</p><pre><code>$ sudo chmod 4711 `which dumpcap`</code></pre><p><em>(FYI: There's an open <a href="https://bugs.launchpad.net/ubuntu/+source/wireshark/+bug/513903">ticket</a> for this "security vulnerability", but no one seems to have done anything about it since it was reported JAN-2010.)</em>****</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>21 Nov '11, 15:20</strong></p><img src="https://secure.gravatar.com/avatar/362ba1008ad9a075d1556d33e97dfed6?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="helloworld&#39;s gravatar image" /><p>helloworld<br />
<span class="score" title="3149 reputation points"><span>3.1k</span></span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="20 badges"><span class="silver">●</span><span class="badgecount">20</span></span><span title="41 badges"><span class="bronze">●</span><span class="badgecount">41</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="helloworld has 28 accepted answers">28%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 16 Dec '11, 07:47</p></div></div><div id="comments-container-7546" class="comments-container"><span id="7571"></span><div id="comment-7571" class="comment"><div id="post-7571-score" class="comment-score">2</div><div class="comment-text"><p>helloworld - that last command (sudo chmod 4711 'which dumpcap') did the trick - Thanks!</p></div><div id="comment-7571-info" class="comment-info"><span class="comment-age">(22 Nov '11, 19:19)</span> mrcpuhead</div></div><span id="10495"></span><div id="comment-10495" class="comment"><div id="post-10495-score" class="comment-score"></div><div class="comment-text"><p>It really work for me too!!! great boss!!!</p></div><div id="comment-10495-info" class="comment-info"><span class="comment-age">(27 Apr '12, 23:39)</span> kuldip</div></div><span id="13203"></span><div id="comment-13203" class="comment"><div id="post-13203-score" class="comment-score">1</div><div class="comment-text"><p>If you don't want to kill your GNOME session process, you can run Wireshark from the command line <a href="http://superuser.com/questions/122744" title="Using newgrp">using newgrp to get the new group privileges</a>:</p><pre><code>newgrp wireshark
(wireshark &amp;)
^D</code></pre><p>The parenthesis and ampersand will <a href="http://superuser.com/questions/177218" title="Launching detached background process">run the process in the background, detached from the shell process</a>, so you can log out from the terminal without losing the Wireshark.</p></div><div id="comment-13203-info" class="comment-info"><span class="comment-age">(31 Jul '12, 19:41)</span> D_Bezborodov</div></div><span id="32931"></span><div id="comment-32931" class="comment"><div id="post-32931-score" class="comment-score"></div><div class="comment-text"><p>possibly, <code>sudo chmod 4711 'sudo which dumpcap'</code>. <code>which dumpcap</code> returned nothing when executed as myself.</p></div><div id="comment-32931-info" class="comment-info"><span class="comment-age">(20 May '14, 10:51)</span> xtofl</div></div><span id="38903"></span><div id="comment-38903" class="comment"><div id="post-38903-score" class="comment-score"></div><div class="comment-text"><p>only did , sudo chmod 4711 'which dumpcap' , and interfaces appeared.</p></div><div id="comment-38903-info" class="comment-info"><span class="comment-age">(06 Jan '15, 06:47)</span> oori</div></div><span id="52378"></span><div id="comment-52378" class="comment not_top_scorer"><div id="post-52378-score" class="comment-score"></div><div class="comment-text"><p>TONY; Thank you sir!! WORKED Perfectly... "sudo chmod 4711 <code>which dumpcap</code>" &amp; Of Course returned "nothing" (AHEM!) as permissions were only being changed, hence no dialog should gbe expected after command entered. Thank you again "helloworld" {Tony}!<br />
... (Linux Mint; via "official" .deb ~ April 19th 2016) THANK You sir!</p></div><div id="comment-52378-info" class="comment-info"><span class="comment-age">(09 May '16, 19:08)</span> krstep2</div></div></div><div id="comment-tools-7546" class="comment-tools"><span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a></div><div class="clear"></div><div id="comment-7546-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="9941"></span>

<div id="answer-container-9941" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-9941-score" class="post-score" title="current number of votes">7</div></div></td><td><div class="item-right"><div class="answer-body"><p>Complete solution found at <a href="http://cmc.site11.com/?p=2165">http://cmc.site11.com/?p=2165</a></p><pre><code>sudo addgroup -system wireshark
sudo chown root:wireshark /usr/bin/dumpcap
sudo setcap cap_net_raw,cap_net_admin=eip /usr/bin/dumpcap
sudo usermod -a -G wireshark YOUR_USER_NAME</code></pre><p>Then just start Wireshark and select the network interface. It worked for me on 10.04 LTS.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>04 Apr '12, 11:41</strong></p><img src="https://secure.gravatar.com/avatar/405d6459b85e3935f673118651af2142?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="kyphos&#39;s gravatar image" /><p>kyphos<br />
<span class="score" title="106 reputation points">106</span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="kyphos has no accepted answers">0%</span> </br></p></div></div><div id="comments-container-9941" class="comments-container"><span id="17652"></span><div id="comment-17652" class="comment"><div id="post-17652-score" class="comment-score"></div><div class="comment-text"><p>bravo!!! these commands works fine in my ubuntu 12.04 lts thnk..</p></div><div id="comment-17652-info" class="comment-info"><span class="comment-age">(13 Jan '13, 11:13)</span> dipesh</div></div><span id="18166"></span><div id="comment-18166" class="comment"><div id="post-18166-score" class="comment-score"></div><div class="comment-text"><p>Yes It's Working</p></div><div id="comment-18166-info" class="comment-info"><span class="comment-age">(31 Jan '13, 02:45)</span> Rajitha</div></div><span id="30817"></span><div id="comment-30817" class="comment"><div id="post-30817-score" class="comment-score"></div><div class="comment-text"><p>Did this as it seemed quicker than the other methods - seems to be working :)</p></div><div id="comment-30817-info" class="comment-info"><span class="comment-age">(15 Mar '14, 09:40)</span> alexgmcm</div></div><span id="33007"></span><div id="comment-33007" class="comment"><div id="post-33007-score" class="comment-score"></div><div class="comment-text"><p>on mu ubuntu 13.10 and wireshark Version 1.10.2 (SVN Rev 51934 from /trunk-1.10) works perfect!!!!</p></div><div id="comment-33007-info" class="comment-info"><span class="comment-age">(22 May '14, 10:05)</span> nicksat</div></div><span id="33756"></span><div id="comment-33756" class="comment"><div id="post-33756-score" class="comment-score"></div><div class="comment-text"><p>Worked perfectly for me on Xubuntu 14.04. Well done and thank you.</p></div><div id="comment-33756-info" class="comment-info"><span class="comment-age">(12 Jun '14, 19:35)</span> funklebits</div></div><span id="35006"></span><div id="comment-35006" class="comment not_top_scorer"><div id="post-35006-score" class="comment-score"></div><div class="comment-text"><p>Its work for me, Using Ubuntu 14.04. Thank you buddy. @kyphos</p></div><div id="comment-35006-info" class="comment-info"><span class="comment-age">(30 Jul '14, 09:31)</span> gamer_h2so4</div></div><span id="40044"></span><div id="comment-40044" class="comment not_top_scorer"><div id="post-40044-score" class="comment-score"></div><div class="comment-text"><p>Thanks, perfect, Raspberry Pi, RPi</p></div><div id="comment-40044-info" class="comment-info"><span class="comment-age">(24 Feb '15, 03:59)</span> Diez66</div></div><span id="41363"></span><div id="comment-41363" class="comment not_top_scorer"><div id="post-41363-score" class="comment-score"></div><div class="comment-text"><p>Yep, worked for me too!</p></div><div id="comment-41363-info" class="comment-info"><span class="comment-age">(10 Apr '15, 15:14)</span> herogee</div></div><span id="56351"></span><div id="comment-56351" class="comment not_top_scorer"><div id="post-56351-score" class="comment-score"></div><div class="comment-text"><p>CAN I GET SOME HELP? What do i do with the sudo? where would i add them?</p></div><div id="comment-56351-info" class="comment-info"><span class="comment-age">(13 Oct '16, 12:54)</span> JKeaney</div></div><span id="56355"></span><div id="comment-56355" class="comment not_top_scorer"><div id="post-56355-score" class="comment-score"></div><div class="comment-text"><p>You don't add them anywhere. You run these commands just once, in the order given. <code>sudo</code> allows you to execute commands as <code>s</code>uper<code>u</code>ser although you're not logged in as such.</p><p>What you actually do is:</p><p><code>sudo addgroup -system wireshark</code> - you add a new group of users called <code>wireshark</code></p><p><code>sudo chown root:wireshark /usr/bin/dumpcap</code> - you make user <code>root</code> and group <code>wireshark</code> the owners of <code>/usr/bin/dumpcap</code> which is the binary which actually does the capture. With this setting, any member of the group <code>wireshark</code> can start the binary</p><p><code>sudo setcap cap_net_raw,cap_net_admin=eip /usr/bin/dumpcap</code> - allow the binary to access the interfaces and capture on them</p><p><code>sudo usermod -a -G wireshark YOUR_USER_NAME</code> - you make Mr. YOUR_USER_NAME <strong>also</strong> a member of the group wireshark (also because he remains a member of his original group), so if that user runs Wireshark, that instance of Wireshark can start <code>dumpcap</code>.</p></div><div id="comment-56355-info" class="comment-info"><span class="comment-age">(13 Oct '16, 13:26)</span> sindy</div></div></div><div id="comment-tools-9941" class="comment-tools"><span class="comments-showing"> showing 5 of 10 </span> <a href="#" class="show-all-comments-link">show 5 more comments</a></div><div class="clear"></div><div id="comment-9941-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="29616"></span>

<div id="answer-container-29616" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-29616-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><pre><code>sudo groupadd wireshark
sudo usermod -a -G wireshark $USER
sudo chgrp wirshark /usr/bin/dumpcap
sudo setcap cap_net_raw,cap_net_admin=eip /usr/bin/dumpcap</code></pre></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>10 Feb '14, 04:16</strong></p><img src="https://secure.gravatar.com/avatar/7a7c81f94a4020ece8ee84d0f66c3367?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="adamali&#39;s gravatar image" /><p>adamali<br />
<span class="score" title="25 reputation points">25</span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="adamali has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 24 Feb '15, 04:05</p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p>grahamb ♦<br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span></p></div></div><div id="comments-container-29616" class="comments-container"><span id="43769"></span><div id="comment-43769" class="comment"><div id="post-43769-score" class="comment-score"></div><div class="comment-text"><p>Thanks Graham, it works now!!!!</p></div><div id="comment-43769-info" class="comment-info"><span class="comment-age">(01 Jul '15, 00:43)</span> paysan</div></div></div><div id="comment-tools-29616" class="comment-tools"></div><div class="clear"></div><div id="comment-29616-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

