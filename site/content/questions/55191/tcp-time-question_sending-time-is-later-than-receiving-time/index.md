+++
type = "question"
title = "TCP time question_sending time is later than receiving time"
description = '''I connected two computers in one local area network by using MQTT protocol. But in the first tcp three way handshake seems have some time problem. 10.1.1.5 is my client, 10.1.1.10 is my server. The first graph is the result in my client, the second graph is the result in my server. The first one of ...'''
date = "2016-08-30T01:40:00Z"
lastmod = "2016-08-30T03:54:00Z"
weight = 55191
keywords = [ "tcp" ]
aliases = [ "/questions/55191" ]
osqa_answers = 2
osqa_accepted = true
+++

<div class="headNormal">

# [TCP time question\_sending time is later than receiving time](/questions/55191/tcp-time-question_sending-time-is-later-than-receiving-time)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-55191-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I connected two computers in one local area network by using MQTT protocol. But in the first tcp three way handshake seems have some time problem. 10.1.1.5 is my client, 10.1.1.10 is my server. The first graph is the result in my client, the second graph is the result in my server. The first one of tcp three way handshake seems right, because the time when my server received is later than the time when my client send. But for the second and third of tcp three way handshake, the sending time is later than the receiving time. What's the problem.</p><p>Appreciated for all reply.</p><p><img src="https://osqa-ask.wireshark.org/upfiles/jpg.jpg" alt="alt text" /></p><p><img src="https://osqa-ask.wireshark.org/upfiles/jpg2.jpg" alt="alt text" /></p></div><div id="question-tags" class="tags-container tags">tcp</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>30 Aug '16, 01:40</strong></p><img src="https://secure.gravatar.com/avatar/dc6a1b601521c2233e96a4f0bd8f44f5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="vviolett&#39;s gravatar image" /><p>vviolett<br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="vviolett has no accepted answers">0%</span></p></img></div></div><div id="comments-container-55191" class="comments-container"></div><div id="comment-tools-55191" class="comment-tools"></div><div class="clear"></div><div id="comment-55191-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="55195"></span>

<div id="answer-container-55195" class="answer accepted-answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-55195-score" class="post-score" title="current number of votes">1</div></div></td><td><div class="item-right"><div class="answer-body"><p>The timestamps are generated by the capturing mechanism on each machine, so when performing captures on both the client and server, the timestamps will be those of the capturing machine and not related.</p><p>The first image (captured on the client) shows a round-trip time between the client's initial SYN and the server's SYN, ACK response of ~2.5 ms, with the client's SYN, ACK going out very quickly (60us) in reply.</p><p>The second image (captured on the server) shows the server's SYN, ACK response to the client's initial SYN is sent after ~116 us, and the client's SYN, ACK is received after ~2.5 ms, consistent with the rtt observed on the client capture.</p><p>In short, all looks normal to me.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '16, 03:12</strong></p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p>grahamb ♦<br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="grahamb has 274 accepted answers">22%</span></p></img></div></div><div id="comments-container-55195" class="comments-container"></div><div id="comment-tools-55195" class="comment-tools"></div><div class="clear"></div><div id="comment-55195-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="55199"></span>

<div id="answer-container-55199" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-55199-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Who says the timestamping clocks on both machines are <strong>exactly</strong> synhronized? This is a very difficult subject (distributed clocks), so unless there's IEEE 1588 synchronized Ethernet and hardware timestamping, it's virtually impossible to assume these clocks are in synch.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>30 Aug '16, 03:54</strong></p><img src="https://secure.gravatar.com/avatar/2337f0406681e5c72ea0e6f1f0d6c0b0?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jaap&#39;s gravatar image" /><p>Jaap ♦<br />
<span class="score" title="11680 reputation points"><span>11.7k</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="101 badges"><span class="bronze">●</span><span class="badgecount">101</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jaap has 155 accepted answers">14%</span></p></div></div><div id="comments-container-55199" class="comments-container"></div><div id="comment-tools-55199" class="comment-tools"></div><div class="clear"></div><div id="comment-55199-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

