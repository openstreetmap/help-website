+++
type = "question"
title = "No VOIP or SIP calls detected in Telephony VOIP Calls"
description = '''I&#x27;ve used Wire Shark many of times, but for some reason when capturing a VOIP call that I know is using SIP as it&#x27;s protocol, I don&#x27;t see the call in the Telephony VOIP calls tab. Nor do I see the SIP protocol detected. Am I missing a setting?'''
date = "2015-07-13T08:09:00Z"
lastmod = "2015-07-13T12:09:00Z"
weight = 44097
keywords = [ "detected", "calls", "voip", "no" ]
aliases = [ "/questions/44097" ]
osqa_answers = 3
osqa_accepted = true
+++

<div class="headNormal">

# [No VOIP or SIP calls detected in Telephony VOIP Calls](/questions/44097/no-voip-or-sip-calls-detected-in-telephony-voip-calls)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-44097-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I've used Wire Shark many of times, but for some reason when capturing a VOIP call that I know is using SIP as it's protocol, I don't see the call in the Telephony VOIP calls tab. Nor do I see the SIP protocol detected. Am I missing a setting?</p></div><div id="question-tags" class="tags-container tags">detected calls voip no</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>13 Jul '15, 08:09</strong></p><img src="https://secure.gravatar.com/avatar/7680a2a610d43f1161f289dd85b76a30?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kenny70&#39;s gravatar image" /><p>Kenny70<br />
<span class="score" title="11 reputation points">11</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kenny70 has no accepted answers">0%</span></p></div></div><div id="comments-container-44097" class="comments-container"><span id="44126"></span><div id="comment-44126" class="comment"><div id="post-44126-score" class="comment-score"></div><div class="comment-text"><p>I think I've cleaned up the mess of comments posted as "answers" here, although IMHO the actual answer to the question as posted is that by @Amato_C regarding the filter. The question marked as answered is a follow-up about the encoding of the rtp when it has been found.</p></div><div id="comment-44126-info" class="comment-info"><span class="comment-age">(14 Jul '15, 03:04)</span> grahamb ♦</div></div></div><div id="comment-tools-44097" class="comment-tools"></div><div class="clear"></div><div id="comment-44097-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

3 Answers:

</div>

</div>

<span id="44106"></span>

<div id="answer-container-44106" class="answer accepted-answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-44106-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Looking at the capture, the audio is encoded using G.729 CODEC. Refer to the following Wireshark Wiki:</p><p><a href="https://wiki.wireshark.org/HowToDecodeG729">https://wiki.wireshark.org/HowToDecodeG729</a></p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>13 Jul '15, 12:09</strong></p><img src="https://secure.gravatar.com/avatar/d9cf592a79eafbc3b2a8b3f38cf38362?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Amato_C&#39;s gravatar image" /><p>Amato_C<br />
<span class="score" title="1098 reputation points"><span>1.1k</span></span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="20 badges"><span class="silver">●</span><span class="badgecount">20</span></span><span title="32 badges"><span class="bronze">●</span><span class="badgecount">32</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Amato_C has 15 accepted answers">14%</span></p></div></div><div id="comments-container-44106" class="comments-container"><span id="44108"></span><div id="comment-44108" class="comment"><div id="post-44108-score" class="comment-score"></div><div class="comment-text"><p>Amato, I read through the Wiki link. Completed all of the steps. The decoder gives an error opening the raw file. <img src="https://osqa-ask.wireshark.org/upfiles/2015-07-13_14-50-26.jpg" alt="alt text" /></p></div><div id="comment-44108-info" class="comment-info"><span class="comment-age">(13 Jul '15, 12:53)</span> Kenny70</div></div><span id="44111"></span><div id="comment-44111" class="comment"><div id="post-44111-score" class="comment-score"></div><div class="comment-text"><p>Strange. I was able to convert to PCM and then to AU. I uploaded the RAW file I used to convert to PCM on Google drive:</p><p><a href="https://drive.google.com/file/d/0B80gG9wZvGF0WFFOVFJObzk1OFk/view?usp=sharing">https://drive.google.com/file/d/0B80gG9wZvGF0WFFOVFJObzk1OFk/view?usp=sharing</a></p><p>Download this RAW file and try to convert to PCM using the codec. We can then determine if it is the RAW file or the codec you downloaded.</p></div><div id="comment-44111-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:15)</span> Amato_C</div></div><span id="44112"></span><div id="comment-44112" class="comment"><div id="post-44112-score" class="comment-score"></div><div class="comment-text"><p>Amato, I downloaded the test.raw file. Get the same error.</p><p><img src="https://osqa-ask.wireshark.org/upfiles/2015-07-13_15-21-30.jpg" alt="alt text" /></p></div><div id="comment-44112-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:24)</span> Kenny70</div></div><span id="44113"></span><div id="comment-44113" class="comment"><div id="post-44113-score" class="comment-score"></div><div class="comment-text"><p>I used the recommended decoder as specified on the wiki link.</p></div><div id="comment-44113-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:26)</span> Kenny70</div></div><span id="44114"></span><div id="comment-44114" class="comment"><div id="post-44114-score" class="comment-score"></div><div class="comment-text"><p>Are the RAW files located in the same directory as the cp_g729_decoder.exe file?</p></div><div id="comment-44114-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:30)</span> Amato_C</div></div><span id="44115"></span><div id="comment-44115" class="comment not_top_scorer"><div id="post-44115-score" class="comment-score"></div><div class="comment-text"><p>Amato, the raw file has to be in the same directory. YOU ARE THE MAN!!! Thanks for the help.</p></div><div id="comment-44115-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:36)</span> Kenny70</div></div><span id="44116"></span><div id="comment-44116" class="comment not_top_scorer"><div id="post-44116-score" class="comment-score"></div><div class="comment-text"><p>I had to create 2 audio files - one for each direction. In Wireshark, after performing the "Telephony -&gt; RTP -&gt; Show All Streams", you should see 2 IP address. I had to save the RAW files for each IP address (stream) and perform the procedure on each RAW file. In the end, I was able to hear the entire conversation.</p></div><div id="comment-44116-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:44)</span> Amato_C</div></div><span id="44117"></span><div id="comment-44117" class="comment not_top_scorer"><div id="post-44117-score" class="comment-score"></div><div class="comment-text"><p>Amato, Yep, I got that all figured out. Thanks again for all of your help.</p></div><div id="comment-44117-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:48)</span> Kenny70</div></div><span id="44118"></span><div id="comment-44118" class="comment not_top_scorer"><div id="post-44118-score" class="comment-score"></div><div class="comment-text"><p>Glad to hear it. Could you please accept my answer (click on the check mark)? This will help others in the future to find the answer.</p></div><div id="comment-44118-info" class="comment-info"><span class="comment-age">(13 Jul '15, 13:51)</span> Amato_C</div></div></div><div id="comment-tools-44106" class="comment-tools"><span class="comments-showing"> showing 5 of 9 </span> <a href="#" class="show-all-comments-link">show 4 more comments</a></div><div class="clear"></div><div id="comment-44106-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="44100"></span>

<div id="answer-container-44100" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-44100-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>The settings for SIP are in the preferences setting for the SIP protocol: go to menu Edit-&gt;Preferences-&gt;Protocol-&gt;SIP.</p><p>By default it decodes SIP in UDP and TCP ports 5060, and SIP/TLS in 5061; but it also has a heuristic decoder that tries to decode SIP in other transport ports, which should detect SIP unless another protocol decodes it successfully first. Obviously if you're running SIP over TLS, Wireshark won't be able to decode it without the keys, and it won't show up in the telephony calls.</p><p>If the above doesn't help, then please post your capture somewhere and provide the link here, if you can.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>13 Jul '15, 09:21</strong></p><img src="https://secure.gravatar.com/avatar/d02f20c18a7742ec73a666f1974bf6dc?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Hadriel&#39;s gravatar image" /><p>Hadriel<br />
<span class="score" title="2652 reputation points"><span>2.7k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="39 badges"><span class="bronze">●</span><span class="badgecount">39</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Hadriel has 30 accepted answers">18%</span></p></img></div></div><div id="comments-container-44100" class="comments-container"><span id="44103"></span><div id="comment-44103" class="comment"><div id="post-44103-score" class="comment-score"></div><div class="comment-text"><p>I understand the default decodes. Just not sure why these calls don't appear. Attached is the link to the test call.</p><p><a href="http://www.mediafire.com/download/33447i08t578m3d/TestCall.rar">http://www.mediafire.com/download/33447i08t578m3d/TestCall.rar</a></p></div><div id="comment-44103-info" class="comment-info"><span class="comment-age">(13 Jul '15, 10:51)</span> Kenny70</div></div><span id="44107"></span><div id="comment-44107" class="comment"><div id="post-44107-score" class="comment-score"></div><div class="comment-text"><p>Probably because it's as I said: "Obviously if you're running SIP over TLS, Wireshark won't be able to decode it without the keys, and it won't show up in the telephony calls."</p><p>Your capture has SIP over TLS. (TCP port 5061)</p></div><div id="comment-44107-info" class="comment-info"><span class="comment-age">(13 Jul '15, 12:31)</span> Hadriel</div></div><span id="44109"></span><div id="comment-44109" class="comment"><div id="post-44109-score" class="comment-score"></div><div class="comment-text"><p>Using the procedure in the Wiki (see link in my below response) I was able to successfully decode and listen to the voice message. I know that @Kenny70 called Tammy and referenced this Wireshark forum. Either I am a magician or I was successful. :)</p></div><div id="comment-44109-info" class="comment-info"><span class="comment-age">(13 Jul '15, 12:56)</span> Amato_C</div></div><span id="44137"></span><div id="comment-44137" class="comment"><div id="post-44137-score" class="comment-score"></div><div class="comment-text"><p>I'm not sure if that's a response to my comment, but if so: the procedures in the wiki are not what was originally asked in the question. The question asked why "I don't see the call in the Telephony VOIP calls tab. Nor do I see the SIP protocol detected".</p><p>The answer to that question is: because the capture has SIP/TLS, as I said. What your wiki answer is about, is taking the <em>RTP</em> content and the audio in that out of the capture. That's a horse of a different color, and not what the actual question asked. (I realize now that it might be what the asker was looking for, but I am not a magician and can't read people's minds ;)</p></div><div id="comment-44137-info" class="comment-info"><span class="comment-age">(14 Jul '15, 09:48)</span> Hadriel</div></div><span id="44140"></span><div id="comment-44140" class="comment"><div id="post-44140-score" class="comment-score"></div><div class="comment-text"><p>@Hadriel - I apologize for my rude comment. Sorry</p></div><div id="comment-44140-info" class="comment-info"><span class="comment-age">(14 Jul '15, 10:13)</span> Amato_C</div></div><span id="44142"></span><div id="comment-44142" class="comment not_top_scorer"><div id="post-44142-score" class="comment-score"></div><div class="comment-text"><p>Oh I didn't think it was rude - made me chuckle actually. :) I just wasn't sure if it was in response to my comment or something else. No worries.</p></div><div id="comment-44142-info" class="comment-info"><span class="comment-age">(14 Jul '15, 10:25)</span> Hadriel</div></div></div><div id="comment-tools-44100" class="comment-tools"><span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a></div><div class="clear"></div><div id="comment-44100-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="44104"></span>

<div id="answer-container-44104" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-44104-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>Try this display filter:</p><p>tcp.port==5060 || tcp.port == 5061 || rtp</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>13 Jul '15, 11:44</strong></p><img src="https://secure.gravatar.com/avatar/d9cf592a79eafbc3b2a8b3f38cf38362?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Amato_C&#39;s gravatar image" /><p>Amato_C<br />
<span class="score" title="1098 reputation points"><span>1.1k</span></span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="20 badges"><span class="silver">●</span><span class="badgecount">20</span></span><span title="32 badges"><span class="bronze">●</span><span class="badgecount">32</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Amato_C has 15 accepted answers">14%</span></p></img></div></div><div id="comments-container-44104" class="comments-container"><span id="44105"></span><div id="comment-44105" class="comment"><div id="post-44105-score" class="comment-score"></div><div class="comment-text"><p>Amato. I tried that display filter. It does display RTP. I viewed the RTP streams in the Telephony tab. I save the streams as Raw and use Audacity to decode and play the RTP. I just hear a second of static. I tried this for almost all of the RTP streams.</p></div><div id="comment-44105-info" class="comment-info"><span class="comment-age">(13 Jul '15, 11:53)</span> Kenny70</div></div></div><div id="comment-tools-44104" class="comment-tools"></div><div class="clear"></div><div id="comment-44104-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

