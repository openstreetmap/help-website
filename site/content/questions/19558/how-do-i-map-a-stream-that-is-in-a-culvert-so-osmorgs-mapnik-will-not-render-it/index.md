+++
type = "question"
title = "How do I map a stream that is in a Culvert so osm.org&#x27;s mapnik will not render it?"
description = '''How do I map a stream that is in a Culvert so osm.org&#x27;s mapnik will not render it? This shopping center has a stream in a culvert under the ground I already added tunnel=culvert to the section of the stream that is in the culvert and layer = -1. OSM.org&#x27;s mapnik theme still renders the stream. Am I ...'''
date = "2013-02-03T22:54:00Z"
lastmod = "2013-05-05T10:55:00Z"
weight = 19558
keywords = [ "culvert", "stream", "tagging", "mapnik", "bug" ]
aliases = [ "/questions/19558" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [How do I map a stream that is in a Culvert so osm.org's mapnik will not render it?](/questions/19558/how-do-i-map-a-stream-that-is-in-a-culvert-so-osmorgs-mapnik-will-not-render-it)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-19558-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-19558-score" class="post-score" title="current number of votes">
3
</div>
<span id="post-19558-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>How do I map a stream that is in a Culvert so osm.org's mapnik will not render it?</p>
<p><a href="https://www.openstreetmap.org/?lat=41.22165396809578&amp;lon=-73.21808338165283&amp;zoom=18">This shopping center has a stream in a culvert under the ground</a> I already added tunnel=culvert to the section of the stream that is in the culvert and layer = -1. OSM.org's mapnik theme still renders the stream. Am I doing something wrong or is this a bug in the mapnik theme osm.org uses? What are your thoughts on this?</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-culvert" rel="tag" title="see questions tagged &#39;culvert&#39;">culvert</span> <span class="post-tag tag-link-stream" rel="tag" title="see questions tagged &#39;stream&#39;">stream</span> <span class="post-tag tag-link-tagging" rel="tag" title="see questions tagged &#39;tagging&#39;">tagging</span> <span class="post-tag tag-link-mapnik" rel="tag" title="see questions tagged &#39;mapnik&#39;">mapnik</span> <span class="post-tag tag-link-bug" rel="tag" title="see questions tagged &#39;bug&#39;">bug</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>03 Feb '13, 22:54</strong></p>
<img src="https://secure.gravatar.com/avatar/602a4908e9bea5a3f086bd91654717c4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="redsteakraw&#39;s gravatar image" />
<p><span>redsteakraw</span><br />
<span class="score" title="1040 reputation points"><span>1.0k</span></span><span title="17 badges"><span class="badge1">●</span><span class="badgecount">17</span></span><span title="24 badges"><span class="silver">●</span><span class="badgecount">24</span></span><span title="37 badges"><span class="bronze">●</span><span class="badgecount">37</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="redsteakraw has 2 accepted answers">22%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>03 Feb '13, 22:55</strong> </span></p>
</div>
</div>
<div id="comments-container-19558" class="comments-container">
&#10;</div>
<div id="comment-tools-19558" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-19558-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="19561"></span>

<div id="answer-container-19561" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-19561-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-19561-score" class="post-score" title="current number of votes">
8
</div>
<span id="post-19561-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Yes that is a bug, but you should tag something as what it is anyway, not as what you want it to look like.</p>
<p><a href="https://wiki.openstreetmap.org/wiki/Tagging_for_the_renderer">https://wiki.openstreetmap.org/wiki/Tagging for the renderer</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>04 Feb '13, 06:40</strong></p>
<img src="https://secure.gravatar.com/avatar/fed945e27bb98de054a867827550812e?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="cartinus&#39;s gravatar image" />
<p><span>cartinus</span><br />
<span class="score" title="7033 reputation points"><span>7.0k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="66 badges"><span class="silver">●</span><span class="badgecount">66</span></span><span title="105 badges"><span class="bronze">●</span><span class="badgecount">105</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="cartinus has 35 accepted answers">27%</span></p>
</div>
</div>
<div id="comments-container-19561" class="comments-container">
<span id="20374"></span>
<div id="comment-20374" class="comment">
<div id="post-20374-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Have you filed the bug against mapnik?</p>
</div>
<div id="comment-20374-info" class="comment-info">
<span class="comment-age">(28 Feb '13, 10:17)</span> <span class="comment-user userinfo">gormo</span>
</div>
</div>
<span id="20387"></span>
<div id="comment-20387" class="comment">
<div id="post-20387-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>I've only looked at a very old mapnik stylesheet, but the rule for streams and tunnels was : &lt;filter&gt;(([waterway]='stream') and ([tunnel]='yes'))&lt;/filter&gt;. This may still be true, so tunnel=culvert would never trigger the rule.</p>
</div>
<div id="comment-20387-info" class="comment-info">
<span class="comment-age">(28 Feb '13, 14:19)</span> <span class="comment-user userinfo">SK53 ♦</span>
</div>
</div>
<span id="21111"></span>
<div id="comment-21111" class="comment">
<div id="post-21111-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>"Have you filed a bug" - it would have been handy to give a link to tell us how to ;) - I've worked out it goes on Github, so <a href="https://github.com/mapnik/mapnik/issues/1784">here is a bug asking Mapnik to respect tunnel=culvert</a></p>
</div>
<div id="comment-21111-info" class="comment-info">
<span class="comment-age">(31 Mar '13, 19:01)</span> <span class="comment-user userinfo">mcld</span>
</div>
</div>
<span id="21128"></span>
<div id="comment-21128" class="comment">
<div id="post-21128-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Well, I didn't know how, either. <em>/shame</em></p>
</div>
<div id="comment-21128-info" class="comment-info">
<span class="comment-age">(02 Apr '13, 11:08)</span> <span class="comment-user userinfo">gormo</span>
</div>
</div>
<span id="22101"></span>
<div id="comment-22101" class="comment">
<div id="post-22101-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>Ummm - it turns out bugs are supposed to go to trac not github... so here's the bug <a href="https://trac.openstreetmap.org/ticket/3341">https://trac.openstreetmap.org/ticket/3341</a> and here's my fix: <a href="https://github.com/openstreetmap/mapnik-stylesheets/pull/7">https://github.com/openstreetmap/mapnik-stylesheets/pull/7</a></p>
</div>
<div id="comment-22101-info" class="comment-info">
<span class="comment-age">(04 May '13, 22:58)</span> <span class="comment-user userinfo">mcld</span>
</div>
</div>
</div>
<div id="comment-tools-19561" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-19561-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="21118"></span>

<div id="answer-container-21118" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-21118-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-21118-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-21118-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>On the Standard map I used the link in the question and using P2 editor the stream as a node just north of the car park splitting the stream, both North and South of this node the stream bears the tag tunnel=culvert I think this should be tunnel=yes for the long under ground sections or culvert=yes for short under ground sections. the North section appears, from bing to be above ground so should not have either of these tags. Perhaps this is the problem as SK53 as said edit tunnel=yes works here <a href="https://www.openstreetmap.org/?lat=52.332177&amp;lon=-0.181714&amp;zoom=18&amp;layers=M">https://www.openstreetmap.org/?lat=52.332177&amp;lon=-0.181714&amp;zoom=18&amp;layers=M</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>01 Apr '13, 13:21</strong></p>
<img src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="andy%20mackey&#39;s gravatar image" />
<p><span>andy mackey</span><br />
<span class="score" title="13238 reputation points"><span>13.2k</span></span><span title="87 badges"><span class="badge1">●</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">●</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">●</span><span class="badgecount">285</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="andy mackey has 37 accepted answers">4%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>05 May '13, 10:29</strong> </span></p>
</div>
</div>
<div id="comments-container-21118" class="comments-container">
<span id="22104"></span>
<div id="comment-22104" class="comment">
<div id="post-22104-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I have just edited a short section of your tunnel to tunnel=yes does it work for you <a href="https://www.openstreetmap.org/?mlat=41.222199&amp;mlon=-73.21890&amp;zoom=18&amp;layers=M">https://www.openstreetmap.org/?mlat=41.222199&amp;mlon=-73.21890&amp;zoom=18&amp;layers=M</a></p>
</div>
<div id="comment-22104-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:21)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
<span id="22105"></span>
<div id="comment-22105" class="comment">
<div id="post-22105-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p><span>@andy</span>-mackey yes it does (I can see it as a dashed line) but we shouldn't change our mapping to suit the renderer, we need to fix the renderer, since tunnel=culvert is agreed and widely used. <a href="https://wiki.openstreetmap.org/wiki/Key:tunnel">https://wiki.openstreetmap.org/wiki/Key:tunnel</a></p>
</div>
<div id="comment-22105-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:29)</span> <span class="comment-user userinfo">mcld</span>
</div>
</div>
<span id="22106"></span>
<div id="comment-22106" class="comment">
<div id="post-22106-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>??? isn't tunnel=culvert a bit like street=road so are tunnel=yes and culvert=yes wrong? If it's just a case of the rendering engine not liking or drawing tunnel=culvert I have to agree with it.</p>
</div>
<div id="comment-22106-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:40)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
<span id="22107"></span>
<div id="comment-22107" class="comment">
<div id="post-22107-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>In my humble opinion neither ways of tagging are wrong. tunnel=culvert fits the standard convention of using a more descriptive term to give a narrower description: like using building=yes versus building=church, both are OK, one is a narrower category than the other.</p>
<p>It's fine not to like tunnel=culvert, but if it's agreed AND common AND recommended in the wiki, then the renderer should handle it.</p>
</div>
<div id="comment-22107-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:46)</span> <span class="comment-user userinfo">mcld</span>
</div>
</div>
<span id="22108"></span>
<div id="comment-22108" class="comment">
<div id="post-22108-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Thanks mcid I understand now</p>
</div>
<div id="comment-22108-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:52)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
<span id="22109"></span>
<div id="comment-22109" class="comment not_top_scorer">
<div id="post-22109-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I have an example I mapped here that works with “tunnel=yes” and displays as a feint line <a href="https://www.openstreetmap.org/?mlat=52.331150&amp;mlon=-0.178147&amp;zoom=18&amp;layers=M">https://www.openstreetmap.org/?mlat=52.331150&amp;mlon=-0.178147&amp;zoom=18&amp;layers=M</a></p>
</div>
<div id="comment-22109-info" class="comment-info">
<span class="comment-age">(05 May '13, 10:55)</span> <span class="comment-user userinfo">andy mackey</span>
</div>
</div>
</div>
<div id="comment-tools-21118" class="comment-tools">
<span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-21118-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

