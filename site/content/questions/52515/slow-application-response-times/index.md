+++
type = "question"
title = "Slow application response times"
description = '''I&#x27;m troubleshooting a slow performing application which is developed by a third party.  Info:  Client/server application setup End-users are located in Site A with client app installed on their physical Pc&#x27;s Server is located in Site B, accessible via a private 1Gbps circuit Circuit utilization is l...'''
date = "2016-05-13T08:27:00Z"
lastmod = "2016-05-16T14:42:00Z"
weight = 52515
keywords = [ "performance", "slow" ]
aliases = [ "/questions/52515" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [Slow application response times](/questions/52515/slow-application-response-times)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-52515-score" class="post-score" title="current number of votes">1</div><div id="favorite-count" class="favorite-count">1</div></div></td><td><div id="item-right"><div class="question-body"><p>I'm troubleshooting a slow performing application which is developed by a third party.<br />
</p><p>Info:</p><ul><li>Client/server application setup</li><li>End-users are located in Site A with client app installed on their physical Pc's</li><li>Server is located in Site B, accessible via a private 1Gbps circuit</li><li>Circuit utilization is low/normal</li><li><p>No other issues reported</p></li><li><p>The response times are circa 10000ms</p></li><li>Slow response times only noticed on physical desktop Pc's</li><li>Issue not present on thin client sessions (thin client server is located in Site B)</li></ul><p>q</p><ul><li>Upload 1 = <a href="https://drive.google.com/open?id=0BxWWq7ozi-PFTXVmZm9MU2U0c3M">https://drive.google.com/open?id=0BxWWq7ozi-PFTXVmZm9MU2U0c3M</a></li><li>Upload 1 is a packet capture on a physical desktop Pc (client side)</li><li>Packet # 11250 is the moment the test was started</li><li>Response time approx 13s</li></ul><p>q</p><ul><li>Upload B = <a href="https://drive.google.com/open?id=0BxWWq7ozi-PFbTFMeG5EenV5NG8">https://drive.google.com/open?id=0BxWWq7ozi-PFbTFMeG5EenV5NG8</a></li><li>Upload B is a packet capture on the server (during the above test)</li><li>Packet # 10440 is the moment the test was started</li><li>Response time as above</li></ul><p>q</p><ul><li>Upload C = <a href="https://drive.google.com/open?id=0BxWWq7ozi-PFTnFSRGZ0Ui13WU0">https://drive.google.com/open?id=0BxWWq7ozi-PFTnFSRGZ0Ui13WU0</a></li><li>Upload C is a packet capture on a think client (isolated test)</li><li>This returned a normal or acceptable response time circa 6s</li></ul><p>I am looking for assistance in ruling in (or out) the network and any other pointers if visible from these traces</p><p>Thank you</p></div><div id="question-tags" class="tags-container tags">performance slow</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>13 May '16, 08:27</strong></p><img src="https://secure.gravatar.com/avatar/7ed8c3ce35fb8f90f49428398992b223?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Brad_101&#39;s gravatar image" /><p>Brad_101<br />
<span class="score" title="41 reputation points">41</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="8 badges"><span class="silver">●</span><span class="badgecount">8</span></span><span title="11 badges"><span class="bronze">●</span><span class="badgecount">11</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Brad_101 has no accepted answers">0%</span> </br></p></div><div class="post-update-info post-update-info-edited"><p>edited 16 May '16, 03:41</p></div></div><div id="comments-container-52515" class="comments-container"><span id="52530"></span><div id="comment-52530" class="comment"><div id="post-52530-score" class="comment-score"></div><div class="comment-text"><p>Do you mean with response time, the time the test need to run? On a physical client it takes 13s and on a Thin Client the test needs 6s to run?</p><p>BTW: My personal understanding of response time, is the time the application needs to response to the request.</p></div><div id="comment-52530-info" class="comment-info"><span class="comment-age">(13 May '16, 12:25)</span> Christian_R</div></div><span id="52531"></span><div id="comment-52531" class="comment"><div id="post-52531-score" class="comment-score"></div><div class="comment-text"><p>That is correct. The time for the test to run and it seems to be physical client only</p></div><div id="comment-52531-info" class="comment-info"><span class="comment-age">(13 May '16, 12:36)</span> Brad_101</div></div><span id="52532"></span><div id="comment-52532" class="comment"><div id="post-52532-score" class="comment-score"></div><div class="comment-text"><p>Well the thin clients are connected server. So if I understand it right the terminal server is located in the same location (Datacenter) like the Oracle?! So only the graphical output must be transfered over WAN, or am I wrong?</p></div><div id="comment-52532-info" class="comment-info"><span class="comment-age">(13 May '16, 12:47)</span> Christian_R</div></div><span id="52533"></span><div id="comment-52533" class="comment"><div id="post-52533-score" class="comment-score"></div><div class="comment-text"><p>That is correct however I have been advised the same test has been conducted from a physical pc in another site (all three in a triangle) and the response time was good.</p><p>I haven't seen that for myself Though</p></div><div id="comment-52533-info" class="comment-info"><span class="comment-age">(13 May '16, 12:59)</span> Brad_101</div></div><span id="52534"></span><div id="comment-52534" class="comment"><div id="post-52534-score" class="comment-score"></div><div class="comment-text"><p>In the trace we see for the terminal server &lt;1ms network delay for the physical client we see up to 8ms delay between request and response at the client side.</p></div><div id="comment-52534-info" class="comment-info"><span class="comment-age">(13 May '16, 12:59)</span> Christian_R</div></div></div><div id="comment-tools-52515" class="comment-tools"></div><div class="clear"></div><div id="comment-52515-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="52546"></span>

<div id="answer-container-52546" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-52546-score" class="post-score" title="current number of votes">1</div></div></td><td><div class="item-right"><div class="answer-body"><p>Well in the trace of the terminal server we can see test duration of 1.3s (Paket 1225 to 4399) and in the physical we can see a duration 11,2s (Paket 11250 to 14433) which is around 6 times more. We know that the Response time varies a little bit around 6 - 8 ms and of the terminal server, too. It could explain it from my point of view.</p><p><img src="https://osqa-ask.wireshark.org/upfiles/2016-05-13_21-32-03.png" alt="alt text" /></p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>13 May '16, 14:23</strong></p><img src="https://secure.gravatar.com/avatar/3b24b339fc62fb46dced6a443d3202ea?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Christian_R&#39;s gravatar image" /><p>Christian_R<br />
<span class="score" title="1830 reputation points"><span>1.8k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="silver">●</span><span class="badgecount">6</span></span><span title="25 badges"><span class="bronze">●</span><span class="badgecount">25</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Christian_R has 25 accepted answers">16%</span></p></img></div></div><div id="comments-container-52546" class="comments-container"><span id="52547"></span><div id="comment-52547" class="comment"><div id="post-52547-score" class="comment-score"></div><div class="comment-text"><p>So, do you mean the delay is due to WAN?</p></div><div id="comment-52547-info" class="comment-info"><span class="comment-age">(13 May '16, 14:29)</span> Brad_101</div></div><span id="52548"></span><div id="comment-52548" class="comment"><div id="post-52548-score" class="comment-score"></div><div class="comment-text"><p>Yes and 6-8ms round trip time is not so long for WAN from my point of view. The test scenario does not like this, by design.</p></div><div id="comment-52548-info" class="comment-info"><span class="comment-age">(13 May '16, 14:31)</span> Christian_R</div></div><span id="52555"></span><div id="comment-52555" class="comment"><div id="post-52555-score" class="comment-score"></div><div class="comment-text"><p>Probably because the database query is badly written and requires say 1,250 request-response pairs to complete. 1,250 times 8 ms is 10s. On the LAN 1,250 times 0.8s is 1 second.</p></div><div id="comment-52555-info" class="comment-info"><span class="comment-age">(13 May '16, 15:11)</span> PaulOfford</div></div><span id="52569"></span><div id="comment-52569" class="comment"><div id="post-52569-score" class="comment-score"></div><div class="comment-text"><p>It is exactly like Paul said. The database query is written so badly.</p></div><div id="comment-52569-info" class="comment-info"><span class="comment-age">(14 May '16, 12:21)</span> Christian_R</div></div><span id="52624"></span><div id="comment-52624" class="comment"><div id="post-52624-score" class="comment-score"></div><div class="comment-text"><p>Why are the start &amp; end times the same on client and server?</p><p>Wouldn't we see a longer period of time at the client?</p><p><img src="https://osqa-ask.wireshark.org/upfiles/Image.JPG" alt="If" /></p></div><div id="comment-52624-info" class="comment-info"><span class="comment-age">(16 May '16, 09:17)</span> Brad_101</div></div><span id="52625"></span><div id="comment-52625" class="comment not_top_scorer"><div id="post-52625-score" class="comment-score"></div><div class="comment-text"><p>@Brad_101</p><p>Your "answer" has been converted to a comment as that's how this site works. Please read the FAQ for more information.</p></div><div id="comment-52625-info" class="comment-info"><span class="comment-age">(16 May '16, 09:36)</span> grahamb ♦</div></div><span id="52626"></span><div id="comment-52626" class="comment not_top_scorer"><div id="post-52626-score" class="comment-score"></div><div class="comment-text"><p>No. You will see more or less the same graph on both ends, because the client first sends a new request after he has received the response of the old request.</p></div><div id="comment-52626-info" class="comment-info"><span class="comment-age">(16 May '16, 09:47)</span> Christian_R</div></div><span id="52628"></span><div id="comment-52628" class="comment not_top_scorer"><div id="post-52628-score" class="comment-score"></div><div class="comment-text"><p>Ah ok, thanks</p><p>What can you tell from these traces:</p><p>Client = <a href="https://drive.google.com/file/d/0BxWWq7ozi-PFeGZrNlBUanpkOWs/view?usp=sharing">https://drive.google.com/file/d/0BxWWq7ozi-PFeGZrNlBUanpkOWs/view?usp=sharing</a> Server = <a href="https://drive.google.com/file/d/0BxWWq7ozi-PFNHhHLV8yNXREbVE/view?usp=sharing">https://drive.google.com/file/d/0BxWWq7ozi-PFNHhHLV8yNXREbVE/view?usp=sharing</a></p><p>Took 50 secs to load on client</p></div><div id="comment-52628-info" class="comment-info"><span class="comment-age">(16 May '16, 10:15)</span> Brad_101</div></div><span id="52636"></span><div id="comment-52636" class="comment not_top_scorer"><div id="post-52636-score" class="comment-score"></div><div class="comment-text"><p>No. There is a gap of more than 30 sec in the trace, where no data flows. I guess it is application or user related. But can´t say more, because the app data is sanitized. I talk about frame 956 and 057 of the server trace for example.</p></div><div id="comment-52636-info" class="comment-info"><span class="comment-age">(16 May '16, 11:59)</span> Christian_R</div></div><span id="52640"></span><div id="comment-52640" class="comment not_top_scorer"><div id="post-52640-score" class="comment-score"></div><div class="comment-text"><p>I see that now, thanks Christian.</p><p>That isn't user delay as I used that application during the capture &amp; all that was done was run Wireshark, open app, wait for traffic to stop, open customer record, stop capture.</p><p>With TCP streams, how do you tell / know if in my example of opening a customer record, that conversation is or isn't a single TCP conversation?</p></div><div id="comment-52640-info" class="comment-info"><span class="comment-age">(16 May '16, 12:24)</span> Brad_101</div></div><span id="52645"></span><div id="comment-52645" class="comment not_top_scorer"><div id="post-52645-score" class="comment-score"></div><div class="comment-text"><p>I just guessed. But this looks like the one. Because it goes over 50s and looks a liitle bit like a download sessioon. But of course I am not sure, because the application data is missing. For 100% to be sure you always need the full socket pair.</p></div><div id="comment-52645-info" class="comment-info"><span class="comment-age">(16 May '16, 12:56)</span> Christian_R</div></div><span id="52647"></span><div id="comment-52647" class="comment not_top_scorer"><div id="post-52647-score" class="comment-score"></div><div class="comment-text"><p>Hopefully this is a better trace for you:</p><p><a href="https://drive.google.com/open?id=0BxWWq7ozi-PFek1lbzBFcFVYS0U">https://drive.google.com/open?id=0BxWWq7ozi-PFek1lbzBFcFVYS0U</a></p></div><div id="comment-52647-info" class="comment-info"><span class="comment-age">(16 May '16, 13:25)</span> Brad_101</div></div><span id="52687"></span><div id="comment-52687" class="comment not_top_scorer"><div id="post-52687-score" class="comment-score"></div><div class="comment-text"><p>Well this trace shows something new and something old. So could you please describe again in prosa the problem which we should see in the trace.</p><p>Because I don´t want explain things that does not matter in this case, like the zero windows.</p></div><div id="comment-52687-info" class="comment-info"><span class="comment-age">(17 May '16, 11:56)</span> Christian_R</div></div><span id="52717"></span><div id="comment-52717" class="comment not_top_scorer"><div id="post-52717-score" class="comment-score"></div><div class="comment-text"><p>This capture has approx a approx 35sec user delay and then a record was searched which took approx 50 sec to load. The 50 delay is the problem</p></div><div id="comment-52717-info" class="comment-info"><span class="comment-age">(18 May '16, 04:50)</span> Brad_101</div></div><span id="52743"></span><div id="comment-52743" class="comment not_top_scorer"><div id="post-52743-score" class="comment-score"></div><div class="comment-text"><p>Well as we cann see for StreamID==9 the RoundtripTime Grows during the session. Beware of, that we are now on the server side. The reason, if it is the network or the client can´t be reliable answered with this trace. But at least we can say it is not the server. <img src="https://osqa-ask.wireshark.org/upfiles/18-05-_2016_20-48-55_urbmvcG.png" alt="alt text" /> <img src="https://osqa-ask.wireshark.org/upfiles/18-05-_2016_20-49-10.png" alt="alt text" /></p></div><div id="comment-52743-info" class="comment-info"><span class="comment-age">(18 May '16, 11:53)</span> Christian_R</div></div></div><div id="comment-tools-52546" class="comment-tools"><span class="comments-showing"> showing 5 of 15 </span> <a href="#" class="show-all-comments-link">show 10 more comments</a></div><div class="clear"></div><div id="comment-52546-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="52652"></span>

<div id="answer-container-52652" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-52652-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>It's probably unfaiir to say it's badly written without seeing the code. However, it's fair to say that it's written in a way that is not optimized for use over a WAN.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>16 May '16, 14:42</strong></p><img src="https://secure.gravatar.com/avatar/2e1b4057f2ff59fe059b23cc6571abaf?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="PaulOfford&#39;s gravatar image" /><p>PaulOfford<br />
<span class="score" title="131 reputation points">131</span><span title="28 badges"><span class="badge1">●</span><span class="badgecount">28</span></span><span title="32 badges"><span class="silver">●</span><span class="badgecount">32</span></span><span title="37 badges"><span class="bronze">●</span><span class="badgecount">37</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="PaulOfford has 5 accepted answers">11%</span></p></img></div></div><div id="comments-container-52652" class="comments-container"></div><div id="comment-tools-52652" class="comment-tools"></div><div class="clear"></div><div id="comment-52652-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

