+++
type = "question"
title = "TCP analysis"
description = '''Hi all, Could anyone please explain the difference between &quot;tcp.analysis.lost_segment&quot; and &quot;tcp.analysis.ack_lost_segment&quot;?. My goal is to make some counting on what is the percentage of lost packet during tcp communication.  Or, if you have any better idea how to do this. Thank you VERY MUCH, radim'''
date = "2013-04-09T10:16:00Z"
lastmod = "2013-04-09T11:43:00Z"
weight = 20240
keywords = [ "loss", "packet", "tcp" ]
aliases = [ "/questions/20240" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [TCP analysis](/questions/20240/tcp-analysis)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-20240-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-20240-score" class="post-score" title="current number of votes">0</div><span id="post-20240-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi all,</p><p>Could anyone please explain the difference between "tcp.analysis.lost_segment" and "tcp.analysis.ack_lost_segment"?. My goal is to make some counting on what is the percentage of lost packet during tcp communication. Or, if you have any better idea how to do this.</p><p>Thank you VERY MUCH,</p><p>radim</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-loss" rel="tag" title="see questions tagged &#39;loss&#39;">loss</span> <span class="post-tag tag-link-packet" rel="tag" title="see questions tagged &#39;packet&#39;">packet</span> <span class="post-tag tag-link-tcp" rel="tag" title="see questions tagged &#39;tcp&#39;">tcp</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>09 Apr '13, 10:16</strong></p><img src="https://secure.gravatar.com/avatar/198f364985a629d7dd0991bc6a838e21?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="radim0574&#39;s gravatar image" /><p><span>radim0574</span><br />
<span class="score" title="11 reputation points">11</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="radim0574 has no accepted answers">0%</span></p></div></div><div id="comments-container-20240" class="comments-container"></div><div id="comment-tools-20240" class="comment-tools"></div><div class="clear"></div><div id="comment-20240-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="20241"></span>

<div id="answer-container-20241" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-20241-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-20241-score" class="post-score" title="current number of votes">1</div><span id="post-20241-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>"tcp.analysis.lost_segment" is a message that tells you that Wireshark has seen a gap in the sequence numbers of a conversation. That usually indicates either a lost packet or an out-of-order arrival, which means it is not always a critical thing.</p><p>"tcp.analysis.ack_lost_segment" means that Wireshark has seen an acknowledgement number for a sequence number that is <strong>hasn't</strong> seen, so basically you have a confirmation that some data arrived at the receiver while Wireshark hasn't seen that data itself.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>09 Apr '13, 10:20</strong></p><img src="https://secure.gravatar.com/avatar/c578ba2967741f25aebd6afef702f432?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jasper&#39;s gravatar image" /><p><span>Jasper ♦♦</span><br />
<span class="score" title="23806 reputation points"><span>23.8k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="51 badges"><span class="silver">●</span><span class="badgecount">51</span></span><span title="284 badges"><span class="bronze">●</span><span class="badgecount">284</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jasper has 263 accepted answers">18%</span></p></div></div><div id="comments-container-20241" class="comments-container"><span id="20242"></span><div id="comment-20242" class="comment"><div id="post-20242-score" class="comment-score"></div><div class="comment-text"><p>thank you very much, it looks like it doesn<code>t solve my problem. Do you know the best way how to count dropped packets on my tcp communication? I</code>m finishing my bachelor thesis and got stuck with that. I`m a bit confused with the "analysis" filters. I need to compare how many packets were dropeed in various communications.</p><p>thank you,</p><p>radim</p></div><div id="comment-20242-info" class="comment-info"><span class="comment-age">(09 Apr '13, 10:38)</span> <span class="comment-user userinfo">radim0574</span></div></div><span id="20243"></span><div id="comment-20243" class="comment"><div id="post-20243-score" class="comment-score"></div><div class="comment-text"><p>dropped packets are not easy to track unless you are certain that your capture didn't miss any packet while recording the conversation. Since you mentioned "tcp.analysis.ack_lost_segment" I guess that you had that kind of symptom in your trace, which would mean that your capture did in fact miss packets that were transmitted.</p><p>The only solid way of counting dropped conversation packets (meaning that the packet didn't get through to the receiver and had to be retransmitted) is by looking for lost segments that are followed by matching retransmissions AND by making sure that they are not just out-of-orders. Deciding what retransmission is a real retransmission and what is an out-of-order needs to be done by comparing retransmission delay to round trip time, and can be difficult and/or tedious.</p></div><div id="comment-20243-info" class="comment-info"><span class="comment-age">(09 Apr '13, 10:46)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="20244"></span><div id="comment-20244" class="comment"><div id="post-20244-score" class="comment-score"></div><div class="comment-text"><p>ok, I do my counting on wireless network. what if i included ALL retransmitted packets in my counting, meaning it doesn<code>t matter if it</code>s out-of-order or not being received by receiver. does it make sense to you?the thing is i need to compare SOME values between different TCP variants (e.g. TCP Cubic, TCP Vegas, TCP Illinois etc..)</p></div><div id="comment-20244-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:00)</span> <span class="comment-user userinfo">radim0574</span></div></div><span id="20245"></span><div id="comment-20245" class="comment"><div id="post-20245-score" class="comment-score"></div><div class="comment-text"><p>Out-of-orders are not lost packets, so if you want to determine real packet loss you must sort out-of-orders out. It depends on your goal basically - if someone asks you about drops vs. out-of-orders you should have an explanation of how they're related and what you did when you counted them.</p></div><div id="comment-20245-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:05)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="20246"></span><div id="comment-20246" class="comment"><div id="post-20246-score" class="comment-score"></div><div class="comment-text"><p>thank you, It looks like you<code>re a network professional. Could it be possible to have a chat e.g. on skype? I</code>m in a huge press with the thesis and would appreciate ANY help from some professional.</p><p>thank you very much,</p><p>radim</p></div><div id="comment-20246-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:10)</span> <span class="comment-user userinfo">radim0574</span></div></div><span id="20247"></span><div id="comment-20247" class="comment not_top_scorer"><div id="post-20247-score" class="comment-score"></div><div class="comment-text"><p>I could offer ICQ or MSN if you want.</p></div><div id="comment-20247-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:21)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="20248"></span><div id="comment-20248" class="comment not_top_scorer"><div id="post-20248-score" class="comment-score"></div><div class="comment-text"><p>ok, i understand, so would it be any other way of how to get in touch with you?</p><p>thank you in advance,</p><p>radim</p></div><div id="comment-20248-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:36)</span> <span class="comment-user userinfo">radim0574</span></div></div><span id="20249"></span><div id="comment-20249" class="comment not_top_scorer"><div id="post-20249-score" class="comment-score"></div><div class="comment-text"><p>well, email should work, jasper [at] packet-foo.com.</p></div><div id="comment-20249-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:37)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="20250"></span><div id="comment-20250" class="comment not_top_scorer"><div id="post-20250-score" class="comment-score"></div><div class="comment-text"><p>ok, i understand, please, could it be any other way of how to get in touch with you? I wouldn<code>t take up much of your time. that</code>s my last measurement, and I`m completely lost in that.</p><p>Thank you in advance,</p><p>radim</p></div><div id="comment-20250-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:40)</span> <span class="comment-user userinfo">radim0574</span></div></div><span id="20251"></span><div id="comment-20251" class="comment not_top_scorer"><div id="post-20251-score" class="comment-score"></div><div class="comment-text"><p>If you mean voice chat, I don't have that since there's no microphone connected to my PC at the moment.</p></div><div id="comment-20251-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:43)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="20252"></span><div id="comment-20252" class="comment not_top_scorer"><div id="post-20252-score" class="comment-score"></div><div class="comment-text"><p>sorry, somehow i didn<code>t your previous comments, i</code>ve just sent you an email</p><p>radim</p></div><div id="comment-20252-info" class="comment-info"><span class="comment-age">(09 Apr '13, 11:43)</span> <span class="comment-user userinfo">radim0574</span></div></div></div><div id="comment-tools-20241" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-20241-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

