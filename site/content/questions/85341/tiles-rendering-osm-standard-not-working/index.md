+++
type = "question"
title = "tiles rendering osm standard not working"
description = '''Hi, 3 days ago I improved a very simple wetland multipolygon: an outer closed way with a water inner area. All the elements (the 2 ways and the relation) already existed, I didn&#x27;t change geometry, I didn&#x27;t change the ways, I just put back some tags on the relation.  at zoom 18, rendering was updated...'''
date = "2022-08-14T15:43:00Z"
lastmod = "2022-08-28T20:20:00Z"
weight = 85341
keywords = [ "rendering", "tiles", "standard" ]
aliases = [ "/questions/85341" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [tiles rendering osm standard not working](/questions/85341/tiles-rendering-osm-standard-not-working)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-85341-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-85341-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-85341-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>3 days ago I improved a very simple wetland multipolygon: an outer closed way with a water inner area. All the elements (the 2 ways and the relation) already existed, I didn't change geometry, I didn't change the ways, I just put back some tags on the relation.</p>
<ul>
<li>at zoom 18, rendering was updated in a few minutes : <a href="https://www.openstreetmap.org/relation/11143425#map=18/55.86530/36.68869">https://www.openstreetmap.org/relation/11143425#map=18/55.86530/36.68869</a></li>
<li>at zoom 17, rendering is still outdated 3 days after my changeset: <a href="https://www.openstreetmap.org/relation/11143425#map=17/55.86530/36.68869">https://www.openstreetmap.org/relation/11143425#map=17/55.86530/36.68869</a></li>
<li>same thing at zoom 16 to 14</li>
<li>but rendering is ok at zoom 13, 12 and 11 (at 10 or smaller zoom the area is almost invisible on my screen so I don't know).</li>
</ul>
<p>Same thing with this big multipolygon:</p>
<ul>
<li>at zoom 13 all is ok <a href="https://www.openstreetmap.org/relation/11979428#map=13/50.3531/44.1880">https://www.openstreetmap.org/relation/11979428#map=13/50.3531/44.1880</a></li>
<li>at zoom 14 a part is outdated <a href="https://www.openstreetmap.org/relation/11979428#map=14/50.3502/44.1449">https://www.openstreetmap.org/relation/11979428#map=14/50.3502/44.1449</a></li>
<li>worst at zoom 15 <a href="https://www.openstreetmap.org/relation/11979428#map=15/50.3431/44.1279">https://www.openstreetmap.org/relation/11979428#map=15/50.3431/44.1279</a></li>
<li>very bad at zoom 17 <a href="https://www.openstreetmap.org/relation/11979428#map=17/50.34552/44.12372">https://www.openstreetmap.org/relation/11979428#map=17/50.34552/44.12372</a></li>
<li>but better at zoom 18 <a href="https://www.openstreetmap.org/relation/11979428#map=18/50.34547/44.12408">https://www.openstreetmap.org/relation/11979428#map=18/50.34547/44.12408</a></li>
</ul>
<p>Why it doesn't work at highest zooms but work at lowest zooms ? A few months ago this problem was not there, is it a bug because of the new CDN ?</p>
<p>Best regards</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-rendering" rel="tag" title="see questions tagged &#39;rendering&#39;">rendering</span> <span class="post-tag tag-link-tiles" rel="tag" title="see questions tagged &#39;tiles&#39;">tiles</span> <span class="post-tag tag-link-standard" rel="tag" title="see questions tagged &#39;standard&#39;">standard</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>14 Aug '22, 15:43</strong></p>
<img src="https://secure.gravatar.com/avatar/33b586336c1978cc33b67e8b3cff9cb6?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Fred73000&#39;s gravatar image" />
<p><span>Fred73000</span><br />
<span class="score" title="54 reputation points">54</span><span title="6 badges"><span class="badge1">●</span><span class="badgecount">6</span></span><span title="6 badges"><span class="silver">●</span><span class="badgecount">6</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Fred73000 has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-85341" class="comments-container">
&#10;</div>
<div id="comment-tools-85341" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-85341-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="85348"></span>

<div id="answer-container-85348" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-85348-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-85348-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-85348-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Changes to relations only don't trigger tile updates, only changes to ways and nodes do:</p>
<blockquote>
<p>Relations currently get ignored completely in this process.</p>
</blockquote>
<ul>
<li><a href="/questions/178/how-often-does-the-main-mapnik-map-get-updated">How often does the main (mapnik) map get updated - OSM Help</a></li>
<li>linked in <a href="https://wiki.openstreetmap.org/wiki/FAQ#I_have_just_made_some_changes_to_the_map._How_do_I_get_to_see_my_changes?">FAQ: I have just made some changes to the map. How do I get to see my changes? - OpenStreetMap Wiki</a></li>
</ul>
<p>That answer is quite old, but if I found the right corresponding source code, it does still handle only nodes and ways: <code>expire-tiles-single</code> <a href="https://github.com/openstreetmap/chef/blob/3bf2779805eeb2fff9fdda563e9188814c0859cf/cookbooks/tile/files/default/bin/expire-tiles-single#L42-L55">permalink</a> (<a href="https://github.com/openstreetmap/chef/blob/master/cookbooks/tile/files/default/bin/expire-tiles-single#L42-L55">current</a>).</p>
<p>Plausible explanations why some tiles are updated anyway for me would be:</p>
<ul>
<li>mid zoom tiles (like z13,14) cover larger areas where it is more likely that some other changes triggered an update</li>
<li>high zoom tiles (like z18) probably hadn't been looked at since the recent carto release invalidated them, so they would need be re-rendered anyway when looked at, regardless of any changes</li>
</ul>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>15 Aug '22, 17:46</strong></p>
<img src="https://secure.gravatar.com/avatar/f92748c8fa508a936bcf2169b30cabf6?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="ikonor&#39;s gravatar image" />
<p><span>ikonor</span><br />
<span class="score" title="1286 reputation points"><span>1.3k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="19 badges"><span class="bronze">●</span><span class="badgecount">19</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="ikonor has 4 accepted answers">18%</span></p>
</div>
</div>
<div id="comments-container-85348" class="comments-container">
<span id="85349"></span>
<div id="comment-85349" class="comment">
<div id="post-85349-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>The easiest way to get the tiles updated on all zoom levels and servers would probably be to just move some node a tiny bit.</p>
</div>
<div id="comment-85349-info" class="comment-info">
<span class="comment-age">(15 Aug '22, 17:53)</span> <span class="comment-user userinfo">ikonor</span>
</div>
</div>
<span id="85378"></span>
<div id="comment-85378" class="comment">
<div id="post-85378-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>The answer in the OSM help is very old and recently they have changed the way to update tiles so probably some parts are outdated. In particular: <em>/dirty doesn't work anymore</em> "As tiles only get rerendered once they are viewed" : I looked at the area everyday for one week at zoom 17 (with CTRL+F5) and rendering is still outdated. 7 days outdated is not normal so I have created an issue on github.</p>
</div>
<div id="comment-85378-info" class="comment-info">
<span class="comment-age">(18 Aug '22, 15:31)</span> <span class="comment-user userinfo">Fred73000</span>
</div>
</div>
<span id="85379"></span>
<div id="comment-85379" class="comment">
<div id="post-85379-score" class="comment-score">
1
</div>
<div class="comment-text">
<blockquote>
<p>The answer in the OSM help is very old</p>
</blockquote>
<p>Therefore I included links to current code to confirm that tile invalidation still works as described.</p>
<blockquote>
<p>recently they have changed the way to update tiles</p>
</blockquote>
<p>Only manual tile update using /dirty and /status calls, see issue <a href="https://github.com/openstreetmap/operations/issues/681">https://github.com/openstreetmap/operations/issues/681</a></p>
<blockquote>
<p>"As tiles only get rerendered once they are viewed"</p>
</blockquote>
<p>But only when when they have been invalidated before. Changing tags of relations, like in your case, does not invalidate tiles.</p>
</div>
<div id="comment-85379-info" class="comment-info">
<span class="comment-age">(18 Aug '22, 16:32)</span> <span class="comment-user userinfo">ikonor</span>
</div>
</div>
<span id="85460"></span>
<div id="comment-85460" class="comment">
<div id="post-85460-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<ol>
<li>Sorry but for a beginner like me the current code is incomprehensible but no problem, I believe you of course.</li>
<li>Thanks for the link about dirty and status</li>
<li>You give me the rules but I would like to talk about these rules. Is this the right place here or is it better to open an issue on a specific github ?</li>
</ol>
</div>
<div id="comment-85460-info" class="comment-info">
<span class="comment-age">(27 Aug '22, 17:21)</span> <span class="comment-user userinfo">Fred73000</span>
</div>
</div>
<span id="85461"></span>
<div id="comment-85461" class="comment">
<div id="post-85461-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Not sure, for a longer discussion and going into details, the community thread is probably the best place:</p>
<p><a href="https://community.openstreetmap.org/t/slow-rendering-of-some-tiles-of-openstreetmap-standard/2188">https://community.openstreetmap.org/t/slow-rendering-of-some-tiles-of-openstreetmap-standard/2188</a></p>
</div>
<div id="comment-85461-info" class="comment-info">
<span class="comment-age">(27 Aug '22, 17:30)</span> <span class="comment-user userinfo">ikonor</span>
</div>
</div>
<span id="85467"></span>
<div id="comment-85467" class="comment not_top_scorer">
<div id="post-85467-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Ok, thanks. Good news, after 17 days of waiting, rendering is now ok for both relations (first relation: since today, the other: I don't know, I did't look at it for a while). The subject can be closed. Best regards to you, ikonor, for all your answers.</p>
</div>
<div id="comment-85467-info" class="comment-info">
<span class="comment-age">(28 Aug '22, 20:20)</span> <span class="comment-user userinfo">Fred73000</span>
</div>
</div>
</div>
<div id="comment-tools-85348" class="comment-tools">
<span class="comments-showing"> showing 5 of 6 </span> <a href="#" class="show-all-comments-link">show 1 more comments</a>
</div>
<div class="clear">
&#10;</div>
<div id="comment-85348-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

