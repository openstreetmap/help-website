+++
type = "question"
title = "Get distance from gpx programmatic-ally using javascript"
description = '''I have a gpx file. I mapped the route to a local openstreetmap (followed https://wiki.openstreetmap.org/wiki/Openlayers_Track_example example). My requirement is to get distance of the route. How can i achieve that? I need to achieve it programmatic-ally using javascript.  Please help, Thanks.'''
date = "2014-05-15T12:02:00Z"
lastmod = "2014-05-16T19:41:00Z"
weight = 33195
keywords = [ "calculation", "distance", "javascript", "gpx" ]
aliases = [ "/questions/33195" ]
osqa_answers = 3
osqa_accepted = false
+++

<div class="headNormal">

# [Get distance from gpx programmatic-ally using javascript](/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-33195-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-33195-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-33195-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I have a gpx file. I mapped the route to a local openstreetmap (followed <a href="https://wiki.openstreetmap.org/wiki/Openlayers_Track_example">https://wiki.openstreetmap.org/wiki/Openlayers_Track_example</a> example).</p>
<p>My requirement is to get distance of the route. How can i achieve that? I need to achieve it programmatic-ally using javascript.</p>
<p>Please help, Thanks.</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-calculation" rel="tag" title="see questions tagged &#39;calculation&#39;">calculation</span> <span class="post-tag tag-link-distance" rel="tag" title="see questions tagged &#39;distance&#39;">distance</span> <span class="post-tag tag-link-javascript" rel="tag" title="see questions tagged &#39;javascript&#39;">javascript</span> <span class="post-tag tag-link-gpx" rel="tag" title="see questions tagged &#39;gpx&#39;">gpx</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>15 May '14, 12:02</strong></p>
<img src="https://secure.gravatar.com/avatar/4cb6366ce1566eab1149c611c79b25c5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="ErmaIsabel&#39;s gravatar image" />
<p><span>ErmaIsabel</span><br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="ErmaIsabel has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>15 May '14, 13:24</strong> </span></p>
<img src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="aseerel4c26&#39;s gravatar image" />
<p><span>aseerel4c26 ♦</span><br />
<span class="score" title="32615 reputation points"><span>32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div id="comments-container-33195" class="comments-container">
<span id="33196"></span>
<div id="comment-33196" class="comment">
<div id="post-33196-score" class="comment-score">
1
</div>
<div class="comment-text">
<p>What about an external solution (as gpsPrune for example), or does it need to be a webimplementation?</p>
</div>
<div id="comment-33196-info" class="comment-info">
<span class="comment-age">(15 May '14, 12:45)</span> <span class="comment-user userinfo">iii</span>
</div>
</div>
<span id="33199"></span>
<div id="comment-33199" class="comment">
<div id="post-33199-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>So there is no relation to OSM at all, right? It is just how to calculate the distance from a "route" inside a gpx file? OSM is just the background for viewing, right?</p>
</div>
<div id="comment-33199-info" class="comment-info">
<span class="comment-age">(15 May '14, 13:26)</span> <span class="comment-user userinfo">aseerel4c26 ♦</span>
</div>
</div>
</div>
<div id="comment-tools-33195" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-33195-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

3 Answers:

</div>

</div>

<span id="33197"></span>

<div id="answer-container-33197" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-33197-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-33197-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-33197-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Hi Ermalsabel, the short answer : 1) Get a (free) copy of <a href="http://www.garmin.com/en-US/shop/downloads/basecamp">BaseCamp</a> 2) Import your *.gpx file in BaseCamp 3) Right Click the file 4) Choose open. One of the statistics is the total lenght</p>
<p>The long answer : 1) Get a (free) copy of eg <a href="http://www.gpsbabel.org/download.html">GpsBabel</a> 2) Convert the <em>.gpx to</em> .csv 3) Use a spreadsheet to calculate any statistic</p>
<p>I use Excel but others will work. Calculating distances can be done with <a href="http://en.wikipedia.org/wiki/Great-circle_distance">The haversine formula</a> but also more straight forward with the spherical law of cosines if you use double precision variables. Also use double precision to calculate time and average speed if there are a few thousand data points in your *.Gpx log as adding increase the error proportionally.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>15 May '14, 12:55</strong></p>
<img src="https://secure.gravatar.com/avatar/5c3b258ebdc5943f1ab6008f146e7f7c?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Gys%20de%20Jongh&#39;s gravatar image" />
<p><span>Gys de Jongh</span><br />
<span class="score" title="713 reputation points">713</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="14 badges"><span class="bronze">●</span><span class="badgecount">14</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Gys de Jongh has 5 accepted answers">16%</span></p>
</div>
</div>
<div id="comments-container-33197" class="comments-container">
<span id="33198"></span>
<div id="comment-33198" class="comment">
<div id="post-33198-score" class="comment-score">
3
</div>
<div class="comment-text">
<p>Thank you very much for your reply.I need to achieve it programmatic-ally using javascript. Sorry my question doesn't explain much</p>
</div>
<div id="comment-33198-info" class="comment-info">
<span class="comment-age">(15 May '14, 13:08)</span> <span class="comment-user userinfo">ErmaIsabel</span>
</div>
</div>
</div>
<div id="comment-tools-33197" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-33197-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="33247"></span>

<div id="answer-container-33247" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-33247-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-33247-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-33247-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Openlayers is a JavaScript lib that allows to show maps on websites. It also contains stuff to handle gpx data, and a few geometric functions that would very probably answer your need.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>16 May '14, 18:04</strong></p>
<img src="https://secure.gravatar.com/avatar/3c7cffe544d6a1c46c97a25b2fdcdedc?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="yvecai&#39;s gravatar image" />
<p><span>yvecai</span><br />
<span class="score" title="1481 reputation points"><span>1.5k</span></span><span title="12 badges"><span class="silver">●</span><span class="badgecount">12</span></span><span title="26 badges"><span class="bronze">●</span><span class="badgecount">26</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="yvecai has 7 accepted answers">9%</span></p>
</div>
</div>
<div id="comments-container-33247" class="comments-container">
&#10;</div>
<div id="comment-tools-33247" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-33247-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="33248"></span>

<div id="answer-container-33248" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-33248-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-33248-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-33248-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>GPX files are XML. Its been a while since I've played with Javascript so I can't remember if the XML calls I was using are built in or were part of a library. But anyway, your first step is parsing the GPX to get an array of data.</p>
<p>You may find a bunch of "wpt" (waypoint) elements which you want to ignore. Then there can be one or more "trk" (track) elements that you are interested in. Each track element contains a bunch of "trkpt" elements with "lat" and "lon" attributes. You want to add the distances between each track element to get the total length of the track.</p>
<p>However you don't want the angular distance summed: Convert it to feet/meters or what ever units you need first. There are some quick and dirty conversions you could do but you'll probably want to read up on the official equations for converting spherical coordinates to linear distances. Since that is just math, you can do it in Javascript.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>16 May '14, 19:41</strong></p>
<img src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="n76&#39;s gravatar image" />
<p><span>n76</span><br />
<span class="score" title="10839 reputation points"><span>10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="n76 has 48 accepted answers">17%</span></p>
</div>
</div>
<div id="comments-container-33248" class="comments-container">
&#10;</div>
<div id="comment-tools-33248" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-33248-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

