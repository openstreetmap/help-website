+++
type = "question"
title = "Why is this connection hung up"
description = '''Hello, First of all, let me say that I am not network trained at all. So, I am in way over my head. We have a server that a learner was accessing to take an assessment. The learner says that the assessment hung up and wouldn&#x27;t do anything. I happened to be running some Wireshark captures at the time...'''
date = "2012-11-15T13:48:00Z"
lastmod = "2012-11-18T14:44:00Z"
weight = 15941
keywords = [ "capture", "browser", "server" ]
aliases = [ "/questions/15941" ]
osqa_answers = 0
osqa_accepted = true
+++

<div class="headNormal">

# [Why is this connection hung up](/questions/15941/why-is-this-connection-hung-up)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-15941-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hello,</p><p>First of all, let me say that I am not network trained at all. So, I am in way over my head.</p><p>We have a server that a learner was accessing to take an assessment. The learner says that the assessment hung up and wouldn't do anything. I happened to be running some Wireshark captures at the time. I thought that I was figuring some stuff out, but I've just been blown away.</p><p>The capture data is below this description.</p><p>The 199 ip is the server and the 173 ip is the client's browser. As you can see, the client makes several requests for images, javascript, etc and the server replies accordingly. Then on line number 49307, the learner has gotten fed up and restarted the test.</p><p>I'm wondering if anyone can look at the capture below and tell me (hopefully in layman's terms) what the problem might be.</p><p>Thanks, here is the capture:</p><p>No. Time Source Destination Protocol Length Info 47608 2012-11-15 11:45:09.145673 173.227.155.230 199.185.13.61 HTTP 484 GET /htm/images/treeimg/folder_closed_bc.gif HTTP/1.1</p><p>No. Time Source Destination Protocol Length Info 47609 2012-11-15 11:45:09.145792 199.185.13.61 173.227.155.230 HTTP 300 HTTP/1.1 304 Not Modified</p><p>No. Time Source Destination Protocol Length Info 47616 2012-11-15 11:45:09.176746 173.227.155.230 199.185.13.61 HTTP 478 GET /htm/images/treeimg/example_gc.gif HTTP/1.1</p><p>No. Time Source Destination Protocol Length Info 47617 2012-11-15 11:45:09.176878 199.185.13.61 173.227.155.230 HTTP 300 HTTP/1.1 304 Not Modified</p><p>No. Time Source Destination Protocol Length Info 47618 2012-11-15 11:45:09.190744 173.227.155.230 199.185.13.61 HTTP 484 GET /htm/images/treeimg/example_mastered.gif HTTP/1.1</p><p>No. Time Source Destination Protocol Length Info 47622 2012-11-15 11:45:09.190859 199.185.13.61 173.227.155.230 HTTP 300 HTTP/1.1 304 Not Modified</p><p>No. Time Source Destination Protocol Length Info 47623 2012-11-15 11:45:09.199225 173.227.155.230 199.185.13.61 HTTP 472 GET /htm/images/treeimg/quiz.gif HTTP/1.1</p><p>No. Time Source Destination Protocol Length Info 47624 2012-11-15 11:45:09.199334 199.185.13.61 173.227.155.230 HTTP 300 HTTP/1.1 304 Not Modified</p><p>No. Time Source Destination Protocol Length Info 47628 2012-11-15 11:45:09.212121 173.227.155.230 199.185.13.61 TCP 60 22601 &gt; http [RST, ACK] Seq=3341 Ack=1729 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 47629 2012-11-15 11:45:09.212313 173.227.155.230 199.185.13.61 TCP 60 62028 &gt; http [RST, ACK] Seq=3375 Ack=1729 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 47630 2012-11-15 11:45:09.212537 173.227.155.230 199.185.13.61 TCP 60 22602 &gt; http [RST, ACK] Seq=3288 Ack=3112 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 47631 2012-11-15 11:45:09.212761 173.227.155.230 199.185.13.61 TCP 60 44619 &gt; http [RST, ACK] Seq=2428 Ack=11530 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 47632 2012-11-15 11:45:09.214457 173.227.155.230 199.185.13.61 TCP 60 22600 &gt; http [FIN, ACK] Seq=1638 Ack=751 Win=64936 Len=0</p><p>No. Time Source Destination Protocol Length Info 47633 2012-11-15 11:45:09.214467 199.185.13.61 173.227.155.230 TCP 54 http &gt; 22600 [ACK] Seq=997 Ack=1639 Win=29696 Len=0</p><p>No. Time Source Destination Protocol Length Info 47634 2012-11-15 11:45:09.214536 173.227.155.230 199.185.13.61 TCP 60 22583 &gt; http [RST, ACK] Seq=3344 Ack=1735 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 47668 2012-11-15 11:45:09.349561 173.227.155.230 199.185.13.61 TCP 60 22600 &gt; http [RST, ACK] Seq=1639 Ack=997 Win=0 Len=0</p><p>No. Time Source Destination Protocol Length Info 49283 2012-11-15 11:45:22.980033 173.227.155.230 199.185.13.61 TCP 66 46146 &gt; http [SYN] Seq=0 Win=8192 Len=0 MSS=1428 WS=4 SACK_PERM=1</p><p>No. Time Source Destination Protocol Length Info 49284 2012-11-15 11:45:22.980049 199.185.13.61 173.227.155.230 TCP 66 http &gt; 46146 [SYN, ACK] Seq=0 Ack=1 Win=17136 Len=0 MSS=1460 WS=1 SACK_PERM=1</p><p>No. Time Source Destination Protocol Length Info 49285 2012-11-15 11:45:22.980161 173.227.155.230 199.185.13.61 TCP 66 44097 &gt; http [SYN] Seq=0 Win=8192 Len=0 MSS=1428 WS=4 SACK_PERM=1</p><p>No. Time Source Destination Protocol Length Info 49286 2012-11-15 11:45:22.980190 199.185.13.61 173.227.155.230 TCP 66 http &gt; 44097 [SYN, ACK] Seq=0 Ack=1 Win=17136 Len=0 MSS=1460 WS=1 SACK_PERM=1</p><p>No. Time Source Destination Protocol Length Info 49303 2012-11-15 11:45:23.084480 173.227.155.230 199.185.13.61 TCP 60 46146 &gt; http [ACK] Seq=1 Ack=1 Win=65688 Len=0</p><p>No. Time Source Destination Protocol Length Info 49304 2012-11-15 11:45:23.084573 199.185.13.61 173.227.155.230 TCP 54 [TCP Window Update] http &gt; 46146 [ACK] Seq=1 Ack=1 Win=29696 Len=0</p><p>No. Time Source Destination Protocol Length Info 49305 2012-11-15 11:45:23.084608 173.227.155.230 199.185.13.61 TCP 60 44097 &gt; http [ACK] Seq=1 Ack=1 Win=65688 Len=0</p><p>No. Time Source Destination Protocol Length Info 49306 2012-11-15 11:45:23.084734 199.185.13.61 173.227.155.230 TCP 54 [TCP Window Update] http &gt; 44097 [ACK] Seq=1 Ack=1 Win=29696 Len=0</p><p>No. Time Source Destination Protocol Length Info 49307 2012-11-15 11:45:23.085857 173.227.155.230 199.185.13.61 HTTP 637 POST / HTTP/1.1 (application/x-www-form-urlencoded) Line-based text data: application/x-www-form-urlencoded REQUEST=658&amp;resumesession=true&amp;groupID=1&amp;submit=Click+here+to+start+your+training.&amp;loginID=42687&amp;contentID=70&amp;sytm=LMS</p><p>No. Time Source Destination Protocol Length Info 49308 2012-11-15 11:45:23.101752 199.185.13.61 173.227.155.230 TCP 254 [TCP segment of a reassembled PDU]</p><p>No. Time Source Destination Protocol Length Info 49309 2012-11-15 11:45:23.101762 199.185.13.61 173.227.155.230 TCP 1482 [TCP segment of a reassembled PDU]</p><p>No. Time Source Destination Protocol Length Info 49310 2012-11-15 11:45:23.101767 199.185.13.61 173.227.155.230 HTTP 591 HTTP/1.1 200 OK (text/html)</p></div><div id="question-tags" class="tags-container tags">capture browser server</div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>15 Nov '12, 13:48</strong></p><img src="https://secure.gravatar.com/avatar/10a8fff9df1cf196eead74c7160b7e12?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Dana&#39;s gravatar image" /><p>Dana<br />
<span class="score" title="11 reputation points">11</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Dana has no accepted answers">0%</span></p></div></div><div id="comments-container-15941" class="comments-container"><span id="15942"></span><div id="comment-15942" class="comment"><div id="post-15942-score" class="comment-score"></div><div class="comment-text"><p>can you post the trace on <a href="http://www.cloudshark.org">www.cloudshark.org</a> and tell us the link? Way easier than reading a text export...</p></div><div id="comment-15942-info" class="comment-info"><span class="comment-age">(15 Nov '12, 14:18)</span> Jasper ♦♦</div></div><span id="15943"></span><div id="comment-15943" class="comment"><div id="post-15943-score" class="comment-score"></div><div class="comment-text"><p>Hi Jasper,</p><p>Sorry for the delay. I had to figure out how to chop the capture down. My captures are 50 meg.</p><p>You can see it here: <a href="http://www.cloudshark.org/captures/cb747e499e3a">http://www.cloudshark.org/captures/cb747e499e3a</a></p><p>Thanks</p></div><div id="comment-15943-info" class="comment-info"><span class="comment-age">(15 Nov '12, 14:37)</span> Dana</div></div><span id="15944"></span><div id="comment-15944" class="comment"><div id="post-15944-score" class="comment-score"></div><div class="comment-text"><p>Sorry. I forgot to mention that I think that the relevent line numbers are: 47608 - 49310</p><p>Thanks again,</p><p>Dana</p></div><div id="comment-15944-info" class="comment-info"><span class="comment-age">(15 Nov '12, 14:40)</span> Dana</div></div><span id="15946"></span><div id="comment-15946" class="comment"><div id="post-15946-score" class="comment-score"></div><div class="comment-text"><p>Right click on a packet you want to show - Follow TCP stream, then save only shown packets and upload.</p></div><div id="comment-15946-info" class="comment-info"><span class="comment-age">(15 Nov '12, 16:37)</span> xpeh</div></div><span id="15966"></span><div id="comment-15966" class="comment"><div id="post-15966-score" class="comment-score"></div><div class="comment-text"><p>Hi xpeh,</p><p>I did as you suggested. It shows several get requests being responded to and then the browser sends what I guess is a reset. I'm not sure how helpful this capture is. I thought that the communication after the reset would be required, but they weren't included in the follow TCP stream.</p><p>You can get to it here: <a href="http://www.cloudshark.org/captures/d49fc6b9f133">http://www.cloudshark.org/captures/d49fc6b9f133</a></p><p>Thanks,</p><p>Dana</p></div><div id="comment-15966-info" class="comment-info"><span class="comment-age">(16 Nov '12, 07:38)</span> Dana</div></div></div><div id="comment-tools-15941" class="comment-tools"></div><div class="clear"></div><div id="comment-15941-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="16024"></span>

<div id="answer-container-16024" class="answer accepted-answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-16024-score" class="post-score" title="current number of votes">0</div></div></td><td><div class="item-right"><div class="answer-body"><p>The only thing you can see in your <a href="http://www.cloudshark.org/captures/cb747e499e3a">capture file</a> is this:</p><ul><li>in frames #80-#83 and #86-#87, the client closes 6 different TCP connections with a TCP Reset and one connection with a FIN (#85). The reason for that is not indicated. One reason could be, that user closed the application and restarted it. I conclude that from the first SYN (after 13-14 seconds) in frame #88, which could be the time the user needed to restart the application.</li></ul><p>So, unfortunately there is no sign at all in the posted capture file regarding any 'hanging' of the server.</p><p>Regards<br />
Kurt</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>18 Nov '12, 14:44</strong></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p>Kurt Knochner ♦<br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kurt Knochner has 344 accepted answers">15%</span> </br></p></div><div class="post-update-info post-update-info-edited"><p>edited 18 Nov '12, 14:46</p></div></div><div id="comments-container-16024" class="comments-container"><span id="16028"></span><div id="comment-16028" class="comment"><div id="post-16028-score" class="comment-score"></div><div class="comment-text"><p>Thanks Kurt. The explanation makes sense and has given me some information that gives me some more insight into how TCP communication takes place. Obviously, I have much to learn.</p><p>Dana</p></div><div id="comment-16028-info" class="comment-info"><span class="comment-age">(18 Nov '12, 18:44)</span> Dana</div></div></div><div id="comment-tools-16024" class="comment-tools"></div><div class="clear"></div><div id="comment-16024-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

