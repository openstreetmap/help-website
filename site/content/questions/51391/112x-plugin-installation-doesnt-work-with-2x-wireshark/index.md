+++
type = "question"
title = "1.12.x plugin installation doesn&#x27;t work with 2.x Wireshark"
description = '''I build with success a plugin downloaded from the net, i use headers&#x27; wireshark 1.12.6, but i&#x27;m using wireshark 2.0.2. when i put the plug in in the appropriate directory and i start up wireshark i see this message:  Couldn&#x27;t load module /Applications/Wireshark.app/Contents/PlugIns/wireshark/whatsap...'''
date = "2016-04-04T06:23:00Z"
lastmod = "2016-04-04T07:03:00Z"
weight = 51391
keywords = [ "osx", "plugin", "crash", "whatsapp.so", "wireshark" ]
aliases = [ "/questions/51391" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [1.12.x plugin installation doesn't work with 2.x Wireshark](/questions/51391/112x-plugin-installation-doesnt-work-with-2x-wireshark)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-51391-score" class="post-score" title="current number of votes">0</div><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>I build with success a plugin downloaded from the net, i use headers' wireshark 1.12.6, but i'm using wireshark 2.0.2. when i put the plug in in the appropriate directory and i start up wireshark i see this message:</p><pre><code>Couldn&#39;t load module /Applications/Wireshark.app/Contents/PlugIns/wireshark/whatsapp.so: dlopen(/Applications/Wireshark.app/Contents/PlugIns/wireshark/whatsapp.so, 10): Library not loaded: /usr/local/lib/libwireshark.5.dylib
  Referenced from: /Applications/Wireshark.app/Contents/PlugIns/wireshark/whatsapp.so
  Reason: image not found</code></pre><p>Maybe because i use a plugin for wireshark 1.12.6 but when i totally disintall wireshark 2.0.2 and then install wireshark 1.12.6 wireshark 1.12.6 crash at start up. Do u know why? If i reinstall wireshark 2.0.2 it crash at startup without any message!</p></div><div id="question-tags" class="tags-container tags">osx plugin crash whatsapp.so wireshark</div><div id="question-controls" class="post-controls"><div class="community-wiki">This question is marked "community wiki".</div></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>04 Apr '16, 06:23</strong></p><img src="https://secure.gravatar.com/avatar/1f422a72eab029cae4d8742650674201?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="cicciovo&#39;s gravatar image" /><p>cicciovo<br />
<span class="score" title="6 reputation points">6</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="cicciovo has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p>edited 04 Apr '16, 07:10</p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p>grahamb ♦<br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span></p></div></div><div id="comments-container-51391" class="comments-container"></div><div id="comment-tools-51391" class="comment-tools"></div><div class="clear"></div><div id="comment-51391-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="51394"></span>

<div id="answer-container-51394" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><div id="post-51394-score" class="post-score" title="current number of votes">1</div></div></td><td><div class="item-right"><div class="answer-body"><p>Wireshark does not guarantee binary compatibility between versions, so a plugin has to be compiled for the version of Wireshark it is to be used with.</p><p>You'll need to recompile the plugin using a Wireshark 2.0 build environment.</p><p>Note this appears to be a duplicate of your earlier question, please don't post duplicates, instead try to edit your question to better describe the issue so someone may help you. I've deleted the earlier question.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>04 Apr '16, 07:03</strong></p><img src="https://secure.gravatar.com/avatar/d2a7e24ca66604c749c7c88c1da8ff78?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="grahamb&#39;s gravatar image" /><p>grahamb ♦<br />
<span class="score" title="19834 reputation points"><span>19.8k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="30 badges"><span class="silver">●</span><span class="badgecount">30</span></span><span title="206 badges"><span class="bronze">●</span><span class="badgecount">206</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="grahamb has 274 accepted answers">22%</span></p></div></div><div id="comments-container-51394" class="comments-container"><span id="51395"></span><div id="comment-51395" class="comment"><div id="post-51395-score" class="comment-score"></div><div class="comment-text"><p>i'm very sorry for the duplicate question. Thank you so much for the fast answer. now i try and then i can check this question as solved!</p></div><div id="comment-51395-info" class="comment-info"><span class="comment-age">(04 Apr '16, 08:11)</span> cicciovo</div></div><span id="51396"></span><div id="comment-51396" class="comment"><div id="post-51396-score" class="comment-score"></div><div class="comment-text"><p>@grahamb, now i have another problem... while i'm building the plugin for wireshark 2.0.2 now, i see this message: 2 warnings generated.</p><p><code> [ 66%] Building C object CMakeFiles/whatsapp.dir/tinfl.c.o [ 83%] Linking CXX shared module whatsapp.so ld: library not found for -lwireshark</code> then, i copy libwireshark.6.0.2.dylib libwireshark.6.dylib libwireshark.dylib in /usr/local/lib and after the make i see this message: <code> [ 16%] Linking CXX shared module whatsapp.so Undefined symbols for architecture x86_64:   "_tvb_length", referenced from:       _get_whatsapp_message_len in packet-whatsapp.c.o       _dissect_whatsapp_message in packet-whatsapp.c.o ld: symbol(s) not found for architecture x86_64</code></p><p>can anyone help me please?</p></div><div id="comment-51396-info" class="comment-info"><span class="comment-age">(04 Apr '16, 10:12)</span> cicciovo</div></div><span id="51412"></span><div id="comment-51412" class="comment"><div id="post-51412-score" class="comment-score"></div><div class="comment-text"><p>API in Wireshark 2.0 was changed. Function tvb_length is no longer present. It was renamed to tvb_captured_length. It is also quite possible you're going to encounter more errors similar to this caused by API change.</p></div><div id="comment-51412-info" class="comment-info"><span class="comment-age">(05 Apr '16, 04:04)</span> Aliniel</div></div><span id="51417"></span><div id="comment-51417" class="comment"><div id="post-51417-score" class="comment-score"></div><div class="comment-text"><p>@Aliniel , thank you so much! you're very kind. So i have only two possibilities: or build the plugin whit wireshark 1.12.6 and install Wireshark 1.12.6 or.... i can trash "my project" ? I don't won't to trash "my project" so i install wireshark 1.12.6 but whit this i have some problem, because when i install it wireshark crash at startup.... what do u think? In the checkAPIS.pl i find 'tvb_length_remaining', # replaced with tvb_captured_length_remaining ... now i try to change the tvb_length in tvb_captured_lentgth .. maybe is the more fast solution :D</p></div><div id="comment-51417-info" class="comment-info"><span class="comment-age">(05 Apr '16, 09:59)</span> cicciovo</div></div><span id="51419"></span><div id="comment-51419" class="comment"><div id="post-51419-score" class="comment-score"></div><div class="comment-text"><p>I think you have a few options:</p><ol><li>Debug the crashing issue in 1.12.6.</li><li>Rebuild the plugin using 1.12.10 (the last release of 1.12.x) as that may have fixed the issue causing the crash, and if it still crashes debug it.</li><li>Fix up the plugin so it compiles with 2.0.2.</li></ol></div><div id="comment-51419-info" class="comment-info"><span class="comment-age">(05 Apr '16, 10:10)</span> grahamb ♦</div></div><span id="51420"></span><div id="comment-51420" class="comment not_top_scorer"><div id="post-51420-score" class="comment-score"></div><div class="comment-text"><p>I am not sure if list of all the changes can be found somewhere. Anyway, you don't have to "trash" your project. I updated two plugins myself. It's not impossible, just keep changing everything that's not recognized until it compiles right.</p></div><div id="comment-51420-info" class="comment-info"><span class="comment-age">(05 Apr '16, 10:22)</span> Aliniel</div></div><span id="51421"></span><div id="comment-51421" class="comment not_top_scorer"><div id="post-51421-score" class="comment-score"></div><div class="comment-text"><p>Thank you so much! i try to fix the plugin ;)</p></div><div id="comment-51421-info" class="comment-info"><span class="comment-age">(05 Apr '16, 10:33)</span> cicciovo</div></div><span id="51426"></span><div id="comment-51426" class="comment not_top_scorer"><div id="post-51426-score" class="comment-score"></div><div class="comment-text"><p>Wow. I fix up the plugin! thank you to you! I hope that i can help someone here! tank you to all! This is SOLVED!</p></div><div id="comment-51426-info" class="comment-info"><span class="comment-age">(05 Apr '16, 15:23)</span> cicciovo</div></div><span id="60770"></span><div id="comment-60770" class="comment not_top_scorer"><div id="post-60770-score" class="comment-score"></div><div class="comment-text"><p>@Aliniel When you updated those plugins to compile with Wireshark 2.0.2 and compiled with no errors or warnings...were you able to launch the app and use your filter first try?</p><p>The reason why I ask is because I too am updating my plugin, and after I was able to make some changes to compile...the executable crashes with a Runtime error when registering my plugin. Just looking for any help here. I can provide more info if needed.</p><p>FYI...I remove my dll, wireshark works just fine for what it's worth. And this plugin did work with wireshark v.1.6.</p></div><div id="comment-60770-info" class="comment-info"><span class="comment-age">(12 Apr '17, 10:01)</span> aawale15</div></div><span id="60771"></span><div id="comment-60771" class="comment not_top_scorer"><div id="post-60771-score" class="comment-score"></div><div class="comment-text"><p>I'm sorry, @aawale15, but I haven't worked with Wireshark for almost a year now. As far as I remember we only needed to apply those few API changes and then plugins worked as before.</p></div><div id="comment-60771-info" class="comment-info"><span class="comment-age">(12 Apr '17, 10:10)</span> Aliniel</div></div><span id="60772"></span><div id="comment-60772" class="comment not_top_scorer"><div id="post-60772-score" class="comment-score"></div><div class="comment-text"><p>No problem @Aliniel, thanks for the immediate response!</p></div><div id="comment-60772-info" class="comment-info"><span class="comment-age">(12 Apr '17, 10:13)</span> aawale15</div></div></div><div id="comment-tools-51394" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-51394-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

