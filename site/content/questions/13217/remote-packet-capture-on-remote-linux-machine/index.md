+++
type = "question"
title = "Remote packet capture on Remote Linux machine"
description = '''Hello all, I am trying to capture packets on a Remote Linux machine ( CentOS 6). I have already tried the instructions mentioned in the URL : http://www.winpcap.org/docs/docs_40_2/html/group__remote.html I have run the command to start daemon on that Remote machine. But from my Local machine ( Windo...'''
date = "2012-08-01T02:24:00Z"
lastmod = "2012-09-25T21:43:00Z"
weight = 13217
keywords = [ "rpcapd", "remote", "linux" ]
aliases = [ "/questions/13217" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [Remote packet capture on Remote Linux machine](/questions/13217/remote-packet-capture-on-remote-linux-machine)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-13217-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-13217-score" class="post-score" title="current number of votes">0</div><span id="post-13217-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hello all, I am trying to capture packets on a Remote Linux machine ( CentOS 6). I have already tried the instructions mentioned in the URL : <a href="http://www.winpcap.org/docs/docs_40_2/html/group__remote.html">http://www.winpcap.org/docs/docs_40_2/html/group__remote.html</a></p><p>I have run the command to start daemon on that Remote machine. But from my Local machine ( Windows XP), it shows the following error while trying to start the Remote Capture!</p><p>Can't get list of interfaces: Is the server properly installed on 192.168.0.72? connect() failed: A socket operation was attempted to an unreachable host. (code 10065)</p><p>Please Help!!</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-rpcapd" rel="tag" title="see questions tagged &#39;rpcapd&#39;">rpcapd</span> <span class="post-tag tag-link-remote" rel="tag" title="see questions tagged &#39;remote&#39;">remote</span> <span class="post-tag tag-link-linux" rel="tag" title="see questions tagged &#39;linux&#39;">linux</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>01 Aug '12, 02:24</strong></p><img src="https://secure.gravatar.com/avatar/e82780891a1e938f0bf3a529adc858a5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="baila&#39;s gravatar image" /><p><span>baila</span><br />
<span class="score" title="21 reputation points">21</span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="baila has no accepted answers">0%</span></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>01 Aug '12, 03:53</strong> </span></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p><span>Kurt Knochner ♦</span><br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span></p></div></div><div id="comments-container-13217" class="comments-container"></div><div id="comment-tools-13217" class="comment-tools"></div><div class="clear"></div><div id="comment-13217-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="13219"></span>

<div id="answer-container-13219" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-13219-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-13219-score" class="post-score" title="current number of votes">0</div><span id="post-13219-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>10065 is a winsock error message, telling you that your Windows XP machine is unable to reach the host (usually no route).</p><blockquote><p><code>http://msdn.microsoft.com/en-us/library/windows/desktop/ms740668%28v=vs.85%29.aspx</code></p></blockquote><p>Some questions:</p><ol><li>Can you ping the linux box from your Windows XP?</li><li>Did you write a firewall rule on linux to allow traffic on port 2002?</li></ol><p>Regards<br />
Kurt</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>01 Aug '12, 02:29</strong></p><img src="https://secure.gravatar.com/avatar/23b7bf5b13bc2c98b2e8aa9869ca5d75?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Kurt%20Knochner&#39;s gravatar image" /><p><span>Kurt Knochner ♦</span><br />
<span class="score" title="24767 reputation points"><span>24.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="237 badges"><span class="bronze">●</span><span class="badgecount">237</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Kurt Knochner has 344 accepted answers">15%</span> </br></p></div></div><div id="comments-container-13219" class="comments-container"><span id="13221"></span><div id="comment-13221" class="comment"><div id="post-13221-score" class="comment-score"></div><div class="comment-text"><ol><li>Yes, the ping response is fine from XP machine.</li><li>I don't know how to write any firewall rule on linux!</li></ol></div><div id="comment-13221-info" class="comment-info"><span class="comment-age">(01 Aug '12, 02:35)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13223"></span><div id="comment-13223" class="comment"><div id="post-13223-score" class="comment-score"></div><div class="comment-text"><blockquote><p>I don't know how to write any firewall rule on linux!</p></blockquote><p>Take a look at the <a href="http://wiki.centos.org/HowTos/Network/IPTables">CentOS wiki</a>.</p><p>BTW: Are you sure the system does a LISTEN on that port?</p><blockquote><p>CentOS: <code>netstat -nap | grep ":2002"</code></p></blockquote></div><div id="comment-13223-info" class="comment-info"><span class="comment-age">(01 Aug '12, 02:38)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13225"></span><div id="comment-13225" class="comment"><div id="post-13225-score" class="comment-score"></div><div class="comment-text"><p>Well.. There is some interesting things,like,</p><p>I have run the following command on my Remote Linux VM ( IP - 192.168.0.72)</p><h1 id="rpcapd--b-192.168.0.72--p-2002">./rpcapd -b 192.168.0.72 -p 2002</h1><p>Press CTRL+C to stop the server...</p><p>On attempting to make the connection from my Local XP machine ( IP - 192.168.0.60) from the GUI of Wireshark,on Linux console it shows-</p><p>Child terminated</p><p>It echoes the message each time while trying to connect the Linux machine.</p></div><div id="comment-13225-info" class="comment-info"><span class="comment-age">(01 Aug '12, 03:31)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13226"></span><div id="comment-13226" class="comment"><div id="post-13226-score" class="comment-score"></div><div class="comment-text"><p>sniff the tcp connection on tcp port 2002 (with another Wireshark instance on your Windows box) and see what's going on. Wireshark is able to dissect rpcap traffic.</p><p>I assume again, authentication problems, as you did not start rpcapd with "-n". Did you specify the proper crendentials within Wireshark?</p><p>BTW: How did you manage to get rid of the Winsock error (10065)?</p></div><div id="comment-13226-info" class="comment-info"><span class="comment-age">(01 Aug '12, 03:35)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13227"></span><div id="comment-13227" class="comment not_top_scorer"><div id="post-13227-score" class="comment-score"></div><div class="comment-text"><p>I just tried it with rpcapd on Ubuntu 12.04.</p><ul><li>I do get <strong>the same error message</strong> if authentication fails.</li><li>I <strong>works</strong> with NULL authentication (-n), although rpcapd spits out some nasty error messages.</li><li>I <strong>works</strong> with authentication, if the proper credentials are provided. You need the credentials of the user that excecutes the daemon. HINT: If you run it with 'sudo', you need the credentials of root!</li></ul><p><strong>WARNING:</strong> The rpcap communication is <strong>not encrypted</strong>. All credentials will pass the network in readable form! So, remote capture with authentication is probably not a good idea!</p></div><div id="comment-13227-info" class="comment-info"><span class="comment-age">(01 Aug '12, 03:51)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13232"></span><div id="comment-13232" class="comment not_top_scorer"><div id="post-13232-score" class="comment-score"></div><div class="comment-text"><p>Its true that the rpcap communication is not encrypted. We can see easily the username and password in the captured packets. I just tried with the -n option,but there is no change in result. I am running the rpcapd on the Remote linux (CentOS 6) machine from root.</p><p>I can't understand that what is really wrong there!!</p></div><div id="comment-13232-info" class="comment-info"><span class="comment-age">(01 Aug '12, 04:34)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13238"></span><div id="comment-13238" class="comment not_top_scorer"><div id="post-13238-score" class="comment-score"></div><div class="comment-text"><blockquote><p>I can't understand that what is really wrong there!!</p></blockquote><p>Me neither, as I works out of the box on Ubuntu 12.04 (see above).</p><p>Can you please change the root password (just a security measure), then try again with NULL authentication. Post the capture of that communication on <a href="http://cloudshark.org">cloudshark.org</a>.</p></div><div id="comment-13238-info" class="comment-info"><span class="comment-age">(01 Aug '12, 05:20)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13259"></span><div id="comment-13259" class="comment not_top_scorer"><div id="post-13259-score" class="comment-score"></div><div class="comment-text"><p>I have some interesting facts. Like,</p><p>I have run the daemon on the remote Linux machine ( running on VM) by</p><p>./rpcapd -b 192.168.0.72 ( Remote Linux machine IP) -l 192.168.0.60 ( Local Windows machine IP)</p><p>and wireshark on local Windows XP machine and tried to connect the remote machine. While trying to connect, on console of Remote linux, it shows</p><p>" Child terminated "</p><p>and</p><p>" Can't get list of interfaces: The other host terminated the connection."</p><p>on Local Windows machine.</p><p>Can you suggest me any way out!!</p></div><div id="comment-13259-info" class="comment-info"><span class="comment-age">(01 Aug '12, 08:41)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13260"></span><div id="comment-13260" class="comment not_top_scorer"><div id="post-13260-score" class="comment-score"></div><div class="comment-text"><p>without the capture file (see above), I can only guess, and that's not a very good troubleshooting method ;-)) Please post a cpature file with the communication between Win and Lin.</p><p>And I'd like to repeat my question:</p><ul><li>Did you provide the root credentials in Wireshark, while retrieving the interface list from Linux?</li></ul></div><div id="comment-13260-info" class="comment-info"><span class="comment-age">(01 Aug '12, 09:01)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13271"></span><div id="comment-13271" class="comment not_top_scorer"><div id="post-13271-score" class="comment-score"></div><div class="comment-text"><p>I have posted the capture file during the Win-Lin communication on <a href="http://cloudshark.org/captures/949146646ed3">http://cloudshark.org/captures/949146646ed3</a> . Please check.</p><p>Does Root credentials mean the details about the Remote Linux ( Like IP, Port no, Username, Password) ? If so, I am already provided those to wireshark.</p></div><div id="comment-13271-info" class="comment-info"><span class="comment-age">(01 Aug '12, 09:40)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13318"></span><div id="comment-13318" class="comment not_top_scorer"><div id="post-13318-score" class="comment-score"></div><div class="comment-text"><p>Well, that was a tough day... I have some information which may help others like me..</p><p>Finally I get success on capturing packets on the Remote Linux machine.</p><p>In case of Ubuntu it works fine with the prescribed format. But in case of CentOS, there is some problems of getting the device list from the Remote machine. It shows error messages on the Local machine while trying to retrieve the list of the Remote ( CentOS) machine,but it works fine if we directly give the interface ( like <span>rpcapd://ip_address/interface_name)</span> as Local machine interface.</p></div><div id="comment-13318-info" class="comment-info"><span class="comment-age">(02 Aug '12, 08:17)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13319"></span><div id="comment-13319" class="comment not_top_scorer"><div id="post-13319-score" class="comment-score"></div><div class="comment-text"><p>This problem i have faced in CentOS but the function is normal in case of Ubuntu. I don't know the exact reason.</p><p>If anyone have any idea, please share it.</p><p>Thank you Wireshark!! :-)</p></div><div id="comment-13319-info" class="comment-info"><span class="comment-age">(02 Aug '12, 08:19)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13339"></span><div id="comment-13339" class="comment"><div id="post-13339-score" class="comment-score">1</div><div class="comment-text"><blockquote><p>But in case of CentOS, there is some problems of getting the device list from the Remote machine</p></blockquote><p>Yes, you can see that in the capture file as well. There is a request to find all devices, but no answer, not even an error message. On Ubuntu there is either the list of interfaces or at least an error message.</p><blockquote><p>This problem i have faced in CentOS but the function is normal in case of Ubuntu. I don't know the exact reason.</p></blockquote><p>You can run rpcapd with strace on CentOS, then request the interface list again.</p><blockquote><p><code>strace -f -o /var/tmp/rpcapd.trace ./rpcapd -b 192.168.0.72 -l 192.168.0.60 -n</code><br />
</p></blockquote><p>After that, post the content of rpcapd.trace.</p></div><div id="comment-13339-info" class="comment-info"><span class="comment-age">(03 Aug '12, 01:15)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13350"></span><div id="comment-13350" class="comment not_top_scorer"><div id="post-13350-score" class="comment-score"></div><div class="comment-text"><p>Well, that sounds better. I hope that will work legally, either the interface list or some Error message. :-)</p></div><div id="comment-13350-info" class="comment-info"><span class="comment-age">(03 Aug '12, 07:34)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13363"></span><div id="comment-13363" class="comment not_top_scorer"><div id="post-13363-score" class="comment-score"></div><div class="comment-text"><p>good. Go ahead and post the results here or on <a href="http://pastebin.com">pastebin.com</a>.</p></div><div id="comment-13363-info" class="comment-info"><span class="comment-age">(04 Aug '12, 04:20)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13380"></span><div id="comment-13380" class="comment not_top_scorer"><div id="post-13380-score" class="comment-score"></div><div class="comment-text"><p>Well Kurt, i have tried that command and tried to run rpcapd with strace on CentOS, then requested the interface list. But it didn't work,gave " Child terminated" as before. As per your instruction i have posted the content of rpcapd.trace on <a href="http://pastebin.com">pastebin.com</a>. The URL is : <a href="http://pastebin.com/8UPACXw3.">http://pastebin.com/8UPACXw3.</a></p><p>Thanks!</p></div><div id="comment-13380-info" class="comment-info"><span class="comment-age">(06 Aug '12, 00:30)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13389"></span><div id="comment-13389" class="comment not_top_scorer"><div id="post-13389-score" class="comment-score"></div><div class="comment-text"><p>Unfortunately, the strace output is too short. Did you use the strace option "-f" (follow childs), as in my example above?</p></div><div id="comment-13389-info" class="comment-info"><span class="comment-age">(06 Aug '12, 05:42)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13415"></span><div id="comment-13415" class="comment not_top_scorer"><div id="post-13415-score" class="comment-score"></div><div class="comment-text"><p>Yeah. I have just copied the prescribed command, changed the ip and run!</p></div><div id="comment-13415-info" class="comment-info"><span class="comment-age">(06 Aug '12, 23:25)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13420"></span><div id="comment-13420" class="comment not_top_scorer"><div id="post-13420-score" class="comment-score"></div><div class="comment-text"><p>I'm sorry, but then I have no idea what's going wrong on CentOS 6.</p><p>BTW: What is your CentOS version (output of 'lsb_release -a')? If I find some time in the next couple of days, I will try myself.</p></div><div id="comment-13420-info" class="comment-info"><span class="comment-age">(07 Aug '12, 04:02)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13483"></span><div id="comment-13483" class="comment not_top_scorer"><div id="post-13483-score" class="comment-score"></div><div class="comment-text"><p>Well..that command didn't work!! From the System Monitor, I found that:</p><p>CentOS Linux Release 6.0 (Final) Kernel Linux 2.6.32-71.el6.i686 GNOME 2.28.2</p><p>Now, what should I do?</p><p>I have another question ( which is being closed : <a href="http://ask.wireshark.org/questions/13352/remote-packet-capture-linux-to-linux">http://ask.wireshark.org/questions/13352/remote-packet-capture-linux-to-linux</a> )</p><p>Thanks!!</p></div><div id="comment-13483-info" class="comment-info"><span class="comment-age">(08 Aug '12, 21:29)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13487"></span><div id="comment-13487" class="comment not_top_scorer"><div id="post-13487-score" class="comment-score"></div><div class="comment-text"><p>Your other question was closed as it's IMHO just the same as this one. You are trying to run a remote capture on a linux system, I don't see that having a different local OS, i.e. linux vs Windows makes a difference.</p></div><div id="comment-13487-info" class="comment-info"><span class="comment-age">(09 Aug '12, 01:21)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="13488"></span><div id="comment-13488" class="comment not_top_scorer"><div id="post-13488-score" class="comment-score"></div><div class="comment-text"><p>Yeah, there is some difference. I have already mentioned that!!</p></div><div id="comment-13488-info" class="comment-info"><span class="comment-age">(09 Aug '12, 01:26)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13491"></span><div id="comment-13491" class="comment not_top_scorer"><div id="post-13491-score" class="comment-score"></div><div class="comment-text"><p>We'll see, but I think once your issues in this question have been resolved, the other one will also have been answered as the problem seems to be the remote OS and not the local OS.</p><p>AFAICT, you have managed to run a remote capture from XP to Ubuntu but not CentOS. Can you run Ubuntu to Ubuntu?</p></div><div id="comment-13491-info" class="comment-info"><span class="comment-age">(09 Aug '12, 02:25)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="13497"></span><div id="comment-13497" class="comment not_top_scorer"><div id="post-13497-score" class="comment-score"></div><div class="comment-text"><blockquote><p>which is being closed : <a href="http://ask.wireshark.org/questions/13352/remote-packet-capture-linux-to-linux">http://ask.wireshark.org/questions/13352/remote-packet-capture-linux-to-linux</a> )</p></blockquote><p>The problem is, that the Linux libpcap does not have remote capturing capabilities. Maybe it's possible to link Wireshark against the libpcap.a that is provided by rpcapd (WinPcap), but I have not tried yet.</p></div><div id="comment-13497-info" class="comment-info"><span class="comment-age">(09 Aug '12, 02:39)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13498"></span><div id="comment-13498" class="comment not_top_scorer"><div id="post-13498-score" class="comment-score"></div><div class="comment-text"><blockquote><p>CentOS Linux Release 6.0 (Final) Kernel Linux 2.6.32-71.el6.i686 GNOME 2.28.2<br />
Now, what should I do?</p></blockquote><p>Maybe I'll have some minutes to look at CentOS today. Can't you use Ubuntu instead?</p></div><div id="comment-13498-info" class="comment-info"><span class="comment-age">(09 Aug '12, 02:40)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13502"></span><div id="comment-13502" class="comment not_top_scorer"><div id="post-13502-score" class="comment-score"></div><div class="comment-text"><blockquote>The problem is, that the Linux libpcap does not have remote capturing capabilities. Maybe it's possible to link Wireshark against the libpcap.a that is provided by rpcapd (WinPcap), but I have not tried yet.</blockquote><p>So the other question actually is: How do I initiate a remote capture from a Linux System?</p></div><div id="comment-13502-info" class="comment-info"><span class="comment-age">(09 Aug '12, 03:24)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="13504"></span><div id="comment-13504" class="comment not_top_scorer"><div id="post-13504-score" class="comment-score"></div><div class="comment-text"><p>I think so. Maybe we should reopen it. It's really a different issue.</p></div><div id="comment-13504-info" class="comment-info"><span class="comment-age">(09 Aug '12, 03:32)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13505"></span><div id="comment-13505" class="comment not_top_scorer"><div id="post-13505-score" class="comment-score"></div><div class="comment-text"><p>Actually I was working with remote CentOS, that's why I found this problem. In case of Ubuntu, it works fine!! :-)</p></div><div id="comment-13505-info" class="comment-info"><span class="comment-age">(09 Aug '12, 03:34)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13506"></span><div id="comment-13506" class="comment not_top_scorer"><div id="post-13506-score" class="comment-score"></div><div class="comment-text"><blockquote><p>In case of Ubuntu, it works fine!! :-)</p></blockquote><p>?? Do you mean, you can start a remote capturing session from Ubuntu (client) to Ubuntu/Windows (server)?</p></div><div id="comment-13506-info" class="comment-info"><span class="comment-age">(09 Aug '12, 03:36)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13507"></span><div id="comment-13507" class="comment not_top_scorer"><div id="post-13507-score" class="comment-score"></div><div class="comment-text"><p>As I see it we actually have two questions:</p><ol><li>How do I connect to rpcapd running on CentOS?</li><li>How do I initiate an rpcapd connection from Linux?</li></ol><p>Unfortunately the question titles and/or texts don't really reflect that, which is what causes confusion for folks, i.e. me.</p><p>If baila can confirm I have things correct I'll have a little edit.</p></div><div id="comment-13507-info" class="comment-info"><span class="comment-age">(09 Aug '12, 03:41)</span> <span class="comment-user userinfo">grahamb ♦</span></div></div><span id="13518"></span><div id="comment-13518" class="comment not_top_scorer"><div id="post-13518-score" class="comment-score"></div><div class="comment-text"><blockquote><p>CentOS Linux Release 6.0 (Final) Kernel Linux 2.6.32-71.el6.i686 GNOME 2.28.2</p></blockquote><p>I found an old VMware image of that release in my archive (however it's 64 Bit), so I was able to do a quick test. It works out of the box. rpcacp spits out some <a href="http://pastebin.com/ASPejwp0">nasty error messages</a> but it delivers the interface list. So, it's not a general problem with CentOS 6, but rather with your system. I don't think I can help anymore with this problem, as your strace does not return any valuable information. Look at <a href="http://pastebin.com/xc7AqxgW">my strace output</a>!</p><p>I recommend to run rpcapd either on Ubuntu 12.04 or perhaps on a newer release of CentOS. 6.3 is the lastest release.</p><p>Just by chance: Did you <strong>forget to mention</strong> some <strong>relevant error messages</strong> on your CentOS system or <strong>any speciality of that system</strong> (e.g. Virtual System of a Hosting company)?</p></div><div id="comment-13518-info" class="comment-info"><span class="comment-age">(09 Aug '12, 08:22)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div><span id="13524"></span><div id="comment-13524" class="comment not_top_scorer"><div id="post-13524-score" class="comment-score"></div><div class="comment-text"><p><span>@Kurt</span>: I was telling about Local windows to Remote Ubuntu! That works fine. But there is nothing more for CentOS 6. I will try it for the latest release of CentOS!</p><p>My question was what is the procedure if the Local and Remote both machines are Linux!!</p></div><div id="comment-13524-info" class="comment-info"><span class="comment-age">(09 Aug '12, 21:55)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13525"></span><div id="comment-13525" class="comment not_top_scorer"><div id="post-13525-score" class="comment-score"></div><div class="comment-text"><p><span>@Kurt</span> : I see that there is so many things of the rpcapd.trace in your posted link. Honestly speaking, i really can't understand anything! :-(</p></div><div id="comment-13525-info" class="comment-info"><span class="comment-age">(09 Aug '12, 21:58)</span> <span class="comment-user userinfo">baila</span></div></div><span id="13527"></span><div id="comment-13527" class="comment not_top_scorer"><div id="post-13527-score" class="comment-score"></div><div class="comment-text"><blockquote><p>My question was what is the procedure if the Local and Remote both machines are Linux!!</p></blockquote><p>I know, and I already answered it (see above).</p><p><strong>Cite:</strong> The problem is, that the Linux libpcap does not have remote capturing capabilities.... (see above for the rest). If you can confirm what <span>@grahamb</span> asked, we can reopen your other linux question and answer it there.</p><blockquote><p>i really can't understand anything! :-(</p></blockquote><p>if you manage to get the same amount of output when you run strace, I will check it. The problem with your strace output is, that it contains almost nothing. That's why I asked if you added the option "-f". I did, and this is what strace records. If you did as well, then there is a weird problem with your system and you need to fix that first. Alternatively, I suggest to use CentOS 6.3.</p></div><div id="comment-13527-info" class="comment-info"><span class="comment-age">(10 Aug '12, 00:09)</span> <span class="comment-user userinfo">Kurt Knochner ♦</span></div></div></div><div id="comment-tools-13219" class="comment-tools"><span class="comments-showing"> showing 5 of 34 </span> <a href="#" class="show-all-comments-link">show 29 more comments</a></div><div class="clear"></div><div id="comment-13219-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<span id="14254"></span>

<div id="answer-container-14254" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-14254-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-14254-score" class="post-score" title="current number of votes">0</div><span id="post-14254-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>I ran into this very same problem. The strace indicated that there occurred a segfault in the rpcapd server daemon when you attempt to add the remote interface in the Wireshark running on the windows platform :</p><p>.......... ......... 1553 socket(PF_PACKET, SOCK_RAW, 768) = 3 1553 ioctl(3, SIOCGIFINDEX, {ifr_name="lo", ifr_index=1}) = 0 1553 ioctl(3, SIOCGIFHWADDR, {ifr_name="any", ???}) = -1 ENODEV (No such device) 1553 close(3) = 0 1553 open("/proc/bus/usb", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_DIRECTORY) = 3 1553 fstat64(3, {st_mode=S_IFDIR|0755, st_size=0, ...}) = 0 1553 fcntl64(3, F_SETFD, FD_CLOEXEC) = 0 1553 getdents64(3, / <em>2 entries</em> /, 4096) = 48 1553 getdents64(3, / <em>0 entries</em> /, 4096) = 0 1553 close(3) = 0 1553 --- SIGSEGV (Segmentation fault) @ 0 (0) --- 1343 &lt;... accept resumed&gt; 0xbf97e714, [128]) = ? ERESTARTSYS (To be restarted) 1343 --- SIGCHLD (Child exited) @ 0 (0) --- 1343 waitpid(-1, [{WIFSIGNALED(s) &amp;&amp; WTERMSIG(s) == SIGSEGV}], WNOHANG) = 1553 1343 write(2, "Child terminated\n", 17) = 17 ...... ......</p><p>The cause of this segfault and the patch is available at <a href="http://www.winpcap.org/pipermail/winpcap-users/2011-November/004540.html">http://www.winpcap.org/pipermail/winpcap-users/2011-November/004540.html</a>. I applied the patch to the rpcapd and ran "make" again for it. This fixes the issue.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>13 Sep '12, 21:17</strong></p><img src="https://secure.gravatar.com/avatar/77e681eceb05d4b9316473b506d0e2e4?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="muzahyd&#39;s gravatar image" /><p><span>muzahyd</span><br />
<span class="score" title="1 reputation points">1</span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="muzahyd has no accepted answers">0%</span> </br></br></p></div><div class="post-update-info post-update-info-edited"><p><span> edited <strong>25 Sep '12, 21:43</strong> </span></p><img src="https://secure.gravatar.com/avatar/55158e2322c4e365a5e0a4a0ac3fbcef?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="cmaynard&#39;s gravatar image" /><p><span>cmaynard ♦♦</span><br />
<span class="score" title="9361 reputation points"><span>9.4k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="38 badges"><span class="silver">●</span><span class="badgecount">38</span></span><span title="142 badges"><span class="bronze">●</span><span class="badgecount">142</span></span></p></div></div><div id="comments-container-14254" class="comments-container"><span id="14526"></span><div id="comment-14526" class="comment"><div id="post-14526-score" class="comment-score"></div><div class="comment-text"><p>Sorry, but your given link is not working! It shows " 404 Not Found "!!</p></div><div id="comment-14526-info" class="comment-info"><span class="comment-age">(25 Sep '12, 21:31)</span> <span class="comment-user userinfo">baila</span></div></div><span id="14528"></span><div id="comment-14528" class="comment"><div id="post-14528-score" class="comment-score"></div><div class="comment-text"><p>Please try the link again.</p></div><div id="comment-14528-info" class="comment-info"><span class="comment-age">(25 Sep '12, 21:43)</span> <span class="comment-user userinfo">cmaynard ♦♦</span></div></div></div><div id="comment-tools-14254" class="comment-tools"></div><div class="clear"></div><div id="comment-14254-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

