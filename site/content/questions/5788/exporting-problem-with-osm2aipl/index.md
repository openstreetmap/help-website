+++
type = "question"
title = "Exporting problem with OSM2AI.PL"
description = '''Hi all. For the last couple of weeks I&#x27;ve been really struggling to get OSM data to Adobe Illustrator format using the OSM2AI.PL script. I&#x27;ve got planet.osm stripped down to 4GB using o5mfilter32. Is putting it to a database first even necessary to use the OSM2AI.PL script? I&#x27;ve got 8 GB of RAM, whi...'''
date = "2011-06-15T13:34:00Z"
lastmod = "2011-06-16T10:41:00Z"
weight = 5788
keywords = [ "illustrator", "osm2ai.pl" ]
aliases = [ "/questions/5788" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [Exporting problem with OSM2AI.PL](/questions/5788/exporting-problem-with-osm2aipl)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-5788-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-5788-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-5788-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>Hi all.</p>
<p>For the last couple of weeks I've been really struggling to get OSM data to Adobe Illustrator format using the <a href="http://OSM2AI.PL">OSM2AI.PL</a> script.</p>
<p>I've got planet.osm stripped down to 4GB using o5mfilter32. Is putting it to a database first even necessary to use the <a href="http://OSM2AI.PL">OSM2AI.PL</a> script? I've got 8 GB of RAM, which should be enough to export a 4GB file?</p>
<p>In any case, I've been experimenting with trying to export smaller osm files with <a href="http://OSM2AI.PL">OSM2AI.PL</a> but I get thousands of error messages along the lines of "Use of uninitialized value $lon in multiplication (*) at...". The script produces a file but it's just a set of orphaned vertices at the same coordinates. The same thing happens with --projection set to either mercator or osgb.</p>
<p>Any help would be tremendously appreciated.</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-illustrator" rel="tag" title="see questions tagged &#39;illustrator&#39;">illustrator</span> <span class="post-tag tag-link-osm2ai.pl" rel="tag" title="see questions tagged &#39;osm2ai.pl&#39;">osm2ai.pl</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>15 Jun '11, 13:34</strong></p>
<img src="https://secure.gravatar.com/avatar/7ad019e2582086e969bcc44ecef0604d?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="decoder&#39;s gravatar image" />
<p><span>decoder</span><br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="decoder has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-5788" class="comments-container">
<span id="5791"></span>
<div id="comment-5791" class="comment">
<div id="post-5791-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Silly question time - do you really want the whole planet in Illustrator format or just a bit of it?</p>
<p>If it is just a bit of it, you might find a recent extract of that bit somewhere like here: <a href="http://download.geofabrik.de/">http://download.geofabrik.de/</a></p>
</div>
<div id="comment-5791-info" class="comment-info">
<span class="comment-age">(15 Jun '11, 16:54)</span> <span class="comment-user userinfo">SomeoneElse ♦</span>
</div>
</div>
<span id="5796"></span>
<div id="comment-5796" class="comment">
<div id="post-5796-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I need the entire planet I'm afraid. I already got several AI files of individual countries from <a href="http://cloudmade.com">cloudmade.com</a> but I also need a global map. It would be ideal to have some sort of script to simplify the paths so that they only look good when looked at from a considerable distance.</p>
</div>
<div id="comment-5796-info" class="comment-info">
<span class="comment-age">(15 Jun '11, 18:06)</span> <span class="comment-user userinfo">decoder</span>
</div>
</div>
</div>
<div id="comment-tools-5788" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-5788-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="5789"></span>

<div id="answer-container-5789" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-5789-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-5789-score" class="post-score" title="current number of votes">
2
</div>
<span id="post-5789-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Adobe Illustrator is extremely unlikely to be able to load a file created from 4Gb of OSM data. I've tried to load the a CloudMade Illustrator file (produced with osm2ai) of the whole of the UK and Illustrator simply refused.</p>
<p>Note also that <a href="http://osm2ai.pl">osm2ai.pl</a> does not use a full XML parser, but regular expressions, to read the .osm file. In other words, it is very possible that .osm files produced by programs other than the OSM website and Osmosis will fail. If you post some failing lines from your file somewhere then we can look, but needless to say I'm not downloading a 4Gb file just to test it!</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>15 Jun '11, 15:16</strong></p>
<img src="https://secure.gravatar.com/avatar/08324717c25d6067fa4ff23ef37d455f?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Richard&#39;s gravatar image" />
<p><span>Richard ♦</span><br />
<span class="score" title="30902 reputation points"><span>30.9k</span></span><span title="44 badges"><span class="badge1">●</span><span class="badgecount">44</span></span><span title="279 badges"><span class="silver">●</span><span class="badgecount">279</span></span><span title="412 badges"><span class="bronze">●</span><span class="badgecount">412</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Richard has 98 accepted answers">18%</span></p>
</div>
</div>
<div id="comments-container-5789" class="comments-container">
<span id="5795"></span>
<div id="comment-5795" class="comment">
<div id="post-5795-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I have successfully loaded a 300 MB AI file of Finland and that's 75% the size of the UK map. Even though Illustrator is not a 64bit application it might still depend on your OS and Illustrator version.</p>
<p>I appreciate that there is a fair chance that a 4 GB AI file will not load, but nevertheless I'd like to give it a go. If it doesn't work, then strip the OSM file down further, until it does.</p>
<p>I have downloaded my OSM file from one of the sites listed at <a href="http://wiki.openstreetmap.org/wiki/Planet.osm,">http://wiki.openstreetmap.org/wiki/Planet.osm,</a> but I forget which one specifically. In any case, I've tried the script on several OSM's acquired from multiple sources.</p>
<p>Basically the errors (warnings?) go like this:</p>
<p>With OSGB projection:</p>
<p>Use of uninitialized value $lon in multiplication (*) at C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 78. Use of uninitialized value $_[-1] in hash element at C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 64. Use of uninitialized value $lat in pattern match (m//) at C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 68.</p>
<p>With mercator projection:</p>
<p>Use of uninitialized value $_[0] in multiplication (<em>) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 272. Use of uninitialized value in subtraction (-) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 271. Use of uninitialized value $_[0] in multiplication (</em>) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 272. Use of uninitialized value in subtraction (-) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 271.</p>
</div>
<div id="comment-5795-info" class="comment-info">
<span class="comment-age">(15 Jun '11, 18:03)</span> <span class="comment-user userinfo">decoder</span>
</div>
</div>
<span id="5802"></span>
<div id="comment-5802" class="comment">
<div id="post-5802-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Could you paste a few lines from your .osm file containing nodes, please? Say, copy and paste a 100-line section which contains &lt;node&gt; tags into <a href="http://pastebin.com">pastebin.com</a> somewhere, and put the link here.</p>
</div>
<div id="comment-5802-info" class="comment-info">
<span class="comment-age">(15 Jun '11, 21:01)</span> <span class="comment-user userinfo">Richard ♦</span>
</div>
</div>
<span id="5814"></span>
<div id="comment-5814" class="comment">
<div id="post-5814-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p><a href="http://pastebin.com/JmREKbP9">http://pastebin.com/JmREKbP9</a></p>
</div>
<div id="comment-5814-info" class="comment-info">
<span class="comment-age">(16 Jun '11, 10:41)</span> <span class="comment-user userinfo">decoder</span>
</div>
</div>
</div>
<div id="comment-tools-5789" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-5789-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="5798"></span>

<div id="answer-container-5798" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-5798-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-5798-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-5798-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>For other possibilities to load OSM data in Adobe Illustrator have a look at <a href="http://wiki.openstreetmap.org/wiki/Exporting_to_Adobe_Illustrator">Exporting_to_Adobe_Illustrator</a> in the OSM wiki. Maybe that helps?</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>15 Jun '11, 19:30</strong></p>
<img src="https://secure.gravatar.com/avatar/245b73d4390c3408fe3c6da759b9897f?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="stephan75&#39;s gravatar image" />
<p><span>stephan75</span><br />
<span class="score" title="12642 reputation points"><span>12.6k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="56 badges"><span class="silver">●</span><span class="badgecount">56</span></span><span title="210 badges"><span class="bronze">●</span><span class="badgecount">210</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="stephan75 has 37 accepted answers">6%</span></p>
</div>
</div>
<div id="comments-container-5798" class="comments-container">
<span id="5799"></span>
<div id="comment-5799" class="comment">
<div id="post-5799-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I have read through that page, and <a href="http://OSM2AI.PL">OSM2AI.PL</a> is the only solution that creates unstyled paths which are what I need for my project. Also solutions that can export very large areas are few and far between. I would think that converting the results produced by the other solutions to unstyled paths would be an impossible amount of work.</p>
<p>Basically what I need is a global roadmap, at manageable detail and file size, as unstyled paths in illustrator compatible format.</p>
</div>
<div id="comment-5799-info" class="comment-info">
<span class="comment-age">(15 Jun '11, 19:38)</span> <span class="comment-user userinfo">decoder</span>
</div>
</div>
</div>
<div id="comment-tools-5798" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-5798-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

