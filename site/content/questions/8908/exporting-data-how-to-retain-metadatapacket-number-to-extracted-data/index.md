+++
type = "question"
title = "Exporting Data - How to Retain metadata/packet number to extracted data"
description = '''Hi all, I am trying to extract and keep track of extracted TCP data. Wireshark exporting data give the option to SAVE ALL or SAVE AS. I like to know is there a way for me to add the packet number to the file name? as a mean to identify the data to the original network packet. Thanks so much for your...'''
date = "2012-02-08T10:15:00Z"
lastmod = "2012-02-09T00:03:00Z"
weight = 8908
keywords = [ "export" ]
aliases = [ "/questions/8908" ]
osqa_answers = 1
osqa_accepted = false
+++

<div class="headNormal">

# [Exporting Data - How to Retain metadata/packet number to extracted data](/questions/8908/exporting-data-how-to-retain-metadatapacket-number-to-extracted-data)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-8908-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-8908-score" class="post-score" title="current number of votes">0</div><span id="post-8908-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi all,</p><p>I am trying to extract and keep track of extracted TCP data. Wireshark exporting data give the option to SAVE ALL or SAVE AS.</p><p>I like to know is there a way for me to add the packet number to the file name? as a mean to identify the data to the original network packet.</p><p>Thanks so much for your feedback.</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-export" rel="tag" title="see questions tagged &#39;export&#39;">export</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>08 Feb '12, 10:15</strong></p><img src="https://secure.gravatar.com/avatar/6c72fddfb90a96b7a31604c2036dacdb?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="DotDot&#39;s gravatar image" /><p><span>DotDot</span><br />
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="DotDot has no accepted answers">0%</span></p></div></div><div id="comments-container-8908" class="comments-container"></div><div id="comment-tools-8908" class="comment-tools"></div><div class="clear"></div><div id="comment-8908-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

One Answer:

</div>

</div>

<span id="8909"></span>

<div id="answer-container-8909" class="answer">

<table style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-8909-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-8909-score" class="post-score" title="current number of votes">1</div><span id="post-8909-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span></div></td><td><div class="item-right"><div class="answer-body"><p>Packet numbers can not be saved as they are implicitly generated by Wireshark by just increasing the number by one for each packet in the capture file.</p><p>Things I use to identify packets across multiple files are:</p><ul><li>ip.id</li><li>tcp.seq (turn off relative sequence numbers in the TCP protocol preferences first)</li><li>A piece of the payload</li></ul><p>You can use "Copy as Filter.." in one tracefile on the selected field and then use "Find Packet" and paste the filter in the other tracefile to find the matching packet.</p></div><div class="answer-controls post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>answered <strong>08 Feb '12, 10:22</strong></p><img src="https://secure.gravatar.com/avatar/7901a94d8fdd1f9f47cda9a32fcfa177?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SYN-bit&#39;s gravatar image" /><p><span>SYN-bit ♦♦</span><br />
<span class="score" title="17094 reputation points"><span>17.1k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="57 badges"><span class="silver">●</span><span class="badgecount">57</span></span><span title="245 badges"><span class="bronze">●</span><span class="badgecount">245</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SYN-bit has 174 accepted answers">20%</span></p></div></div><div id="comments-container-8909" class="comments-container"><span id="8913"></span><div id="comment-8913" class="comment"><div id="post-8913-score" class="comment-score"></div><div class="comment-text"><p>Thx SYNbit for your input. I have done as u suggested however don't quite get it.</p><p>Let me xplain a little bit more on wat i want to achieve here.</p><ol><li>I have extracted as many data as Wireshark can identified (export &gt; objects &gt; HTTP).</li><li>I export the network summary (export &gt; file) from a pcap file (</li><li>I discard the original .pcap file</li></ol><p>Now I have a 1) text file (packet header info, no TCP data) and 2) collection of extracted TCP data.</p><p>Since Wireshark save the data from the Filename column (it has lost all the network packet metadata). Some sniffer like Justniffer save the source IP/hostname while saving extracted data so there is still a way to map the data back to the original network packet (but I want to stick with Wireshark).</p><p>My question is 1) Is there a way to identify the data back to the original network packet? 2) Is there anyway tell Wireshark to append hostname to the filename while saving (classification of data by hostname+filename)? 3) If i were to modify on the export_object.c and recompile Wireshark will it works?</p><p>Thanks every1 for helping me out. Cheers</p></div><div id="comment-8913-info" class="comment-info"><span class="comment-age">(08 Feb '12, 19:19)</span> <span class="comment-user userinfo">DotDot</span></div></div><span id="8916"></span><div id="comment-8916" class="comment"><div id="post-8916-score" class="comment-score"></div><div class="comment-text"><p>I'm sorry, I missed the fact that you we're exporting HTTP objects and summary lines. I had the idea you were saving a selection of packets to a new pcap file.</p><p>There is no way to identify the exported HTTP data back to the tracefile and neither is there a configurable option to add the hostname.</p><p>Yes, you could edit "export_object.c" to change the way filenames are created and recompile. If you feel up to it, you might want to create a dropdown list with a few filename options in the Export window and submit your code back at https://bugs.wireshark.org to be included in Wireshark :-)</p></div><div id="comment-8916-info" class="comment-info"><span class="comment-age">(09 Feb '12, 00:03)</span> <span class="comment-user userinfo">SYN-bit ♦♦</span></div></div></div><div id="comment-tools-8909" class="comment-tools"></div><div class="clear"></div><div id="comment-8909-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

