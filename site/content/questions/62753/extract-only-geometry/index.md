+++
type = "question"
title = "Extract only geometry"
description = '''Hi Is it possible to extract only the geometry from an osm file (osm.pbf, osm or o5m) ? Practically this will mean dropping all the tags from an OSM file I presume. If not what are the possible ways to achieve this result ? Thanks in advance'''
date = "2018-03-21T10:56:00Z"
lastmod = "2018-05-11T03:31:00Z"
weight = 62753
keywords = [ "geometry" ]
aliases = [ "/questions/62753" ]
osqa_answers = 3
osqa_accepted = false
+++

<div class="headNormal">

# [Extract only geometry](/questions/62753/extract-only-geometry)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-62753-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-62753-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-62753-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>Hi</p>
<p>Is it possible to extract only the geometry from an osm file (osm.pbf, osm or o5m) ? Practically this will mean dropping all the tags from an OSM file I presume.</p>
<p>If not what are the possible ways to achieve this result ?</p>
<p>Thanks in advance</p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-geometry" rel="tag" title="see questions tagged &#39;geometry&#39;">geometry</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>21 Mar '18, 10:56</strong></p>
<img src="https://secure.gravatar.com/avatar/8b40ca1bc301f4e2ae4b14986ceef001?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="psychiclocust&#39;s gravatar image" />
<p><span>psychiclocust</span><br />
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="psychiclocust has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-62753" class="comments-container">
&#10;</div>
<div id="comment-tools-62753" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-62753-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

3 Answers:

</div>

</div>

<span id="62754"></span>

<div id="answer-container-62754" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-62754-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-62754-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-62754-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Did you have a look at osmfilter? <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">https://wiki.openstreetmap.org/wiki/Osmfilter</a></p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>21 Mar '18, 11:26</strong></p>
<img src="https://secure.gravatar.com/avatar/57403cb36700e0fe392fe8c2ca913ff9?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Katzmann&#39;s gravatar image" />
<p><span>Katzmann</span><br />
<span class="score" title="71 reputation points">71</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Katzmann has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-62754" class="comments-container">
<span id="62758"></span>
<div id="comment-62758" class="comment">
<div id="post-62758-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Yes I did. Been able to extract only the roads from an OSM file but not sure how to get only the geometry information without all the tags.</p>
</div>
<div id="comment-62758-info" class="comment-info">
<span class="comment-age">(21 Mar '18, 11:53)</span> <span class="comment-user userinfo">psychiclocust</span>
</div>
</div>
</div>
<div id="comment-tools-62754" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-62754-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="62824"></span>

<div id="answer-container-62824" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-62824-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-62824-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-62824-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Your question can't be answered the way you posed it. What format should the result have? It can't be an OSM file, because without tags you can't interpret the "geometry" content of an OSM file as actual geometries. Tell us what you are trying to achieve with those geometries and you might get more useful answers.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>26 Mar '18, 07:47</strong></p>
<img src="https://secure.gravatar.com/avatar/2d4dfcdcde73aa5e2ffa4a9b3a7cb51d?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jochen%20Topf&#39;s gravatar image" />
<p><span>Jochen Topf</span><br />
<span class="score" title="5244 reputation points"><span>5.2k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="50 badges"><span class="silver">●</span><span class="badgecount">50</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jochen Topf has 32 accepted answers">31%</span></p>
</div>
</div>
<div id="comments-container-62824" class="comments-container">
&#10;</div>
<div id="comment-tools-62824" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-62824-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="63417"></span>

<div id="answer-container-63417" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-63417-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-63417-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-63417-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>I don't know if it works but it would do :</p>
<ul>
<li>don't filter the tags because they are needed to build the correct geometry</li>
<li>osm2psql has an option style, ie openstreetmap-carto.style and hstore is also an option. Edit this file and remove all the the columns.</li>
</ul>
<p>A priori, this is only the output table specification. The comment at the top of the file has nore sense in a carto-mapnik process.</p>
<p>Let's hope now that osm2pgsql will accept an empty style and that there is not the assumption that there is at least one col. Or else, try with only one column, ie</p>
<pre><code># OsmType  Tag          DataType     Flags
node,way   layer        int4         linear</code></pre>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>11 May '18, 03:31</strong></p>
<img src="https://secure.gravatar.com/avatar/1c90056dece0313061d8ce6edd94da8a?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="AntaC&#39;s gravatar image" />
<p><span>AntaC</span><br />
<span class="score" title="13 reputation points">13</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="AntaC has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-63417" class="comments-container">
&#10;</div>
<div id="comment-tools-63417" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-63417-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</div>

</div>

