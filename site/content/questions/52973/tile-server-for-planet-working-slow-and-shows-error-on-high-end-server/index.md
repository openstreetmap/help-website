+++
type = "question"
title = "tile server for planet working slow and shows error on high end server"
description = '''I have configured openstreet tile server for planet on ubuntu 12 on dell r730 with dual e5 xeon processors with 40 core total processor combined and 220GB DDR4 ram on sas hdd working on raid 10. I first did setup for great britain map using osm.pbf file from geofabrick.de. then on successful working...'''
date = "2016-11-16T09:18:00Z"
lastmod = "2016-12-05T10:01:00Z"
weight = 52973
keywords = [ "openstreetmap", "postgresql", "osm", "slippymap", "tileserver" ]
aliases = [ "/questions/52973" ]
osqa_answers = 2
osqa_accepted = false
+++

<div class="headNormal">

# [tile server for planet working slow and shows error on high end server](/questions/52973/tile-server-for-planet-working-slow-and-shows-error-on-high-end-server)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-52973-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-52973-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-52973-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span>
<div id="favorite-count" class="favorite-count">
&#10;</div>
</div></td>
<td><div id="item-right">
<div class="question-body">
<p>I have configured openstreet tile server for planet on ubuntu 12 on dell r730 with dual e5 xeon processors with 40 core total processor combined and 220GB DDR4 ram on sas hdd working on raid 10. I first did setup for great britain map using osm.pbf file from geofabrick.de. then on successful working I did setup for planet.osm.pbf file.</p>
<hr />
<p>Now after installing tile server for planet when I open <a href="http://192.168.1.2/osm/slippymap.html">http://192.168.1.2/osm/slippymap.html</a> it shows map as ok but on zooming some places shows white tiles at certain level like when I zoom map for united states half of the united states displays white tile and after zooming further it shows some area maps just fine while some shows white tiles and after opening multiple times it displays those areas and for some it does not displays any maps but just white tiles only even after waiting for days.</p>
<hr />
<p>Please let me know how to resolve this issue.</p>
<hr />
<p>I build map using this link <a href="https://switch2osm.org/serving-tiles/building-a-tile-server-from-packages/">https://switch2osm.org/serving-tiles/building-a-tile-server-from-packages/</a></p>
</div>
<div id="question-tags" class="tags-container tags">
<span class="post-tag tag-link-openstreetmap" rel="tag" title="see questions tagged &#39;openstreetmap&#39;">openstreetmap</span> <span class="post-tag tag-link-postgresql" rel="tag" title="see questions tagged &#39;postgresql&#39;">postgresql</span> <span class="post-tag tag-link-osm" rel="tag" title="see questions tagged &#39;osm&#39;">osm</span> <span class="post-tag tag-link-slippymap" rel="tag" title="see questions tagged &#39;slippymap&#39;">slippymap</span> <span class="post-tag tag-link-tileserver" rel="tag" title="see questions tagged &#39;tileserver&#39;">tileserver</span>
</div>
<div id="question-controls" class="post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>asked <strong>16 Nov '16, 09:18</strong></p>
<img src="https://secure.gravatar.com/avatar/78879ca1108e4678322460c818621e39?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jasonwhite1091&#39;s gravatar image" />
<p><span>Jasonwhite1091</span><br />
<span class="score" title="41 reputation points">41</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jasonwhite1091 has no accepted answers">0%</span></p>
</div>
<div class="post-update-info post-update-info-edited">
<p><span> edited <strong>17 Nov '16, 04:47</strong> </span></p>
</div>
</div>
<div id="comments-container-52973" class="comments-container">
<span id="52974"></span>
<div id="comment-52974" class="comment">
<div id="post-52974-score" class="comment-score">
3
</div>
<div class="comment-text">
<p>Please reformat your question with paragraphs, right now it is essentially not decipherable.</p>
</div>
<div id="comment-52974-info" class="comment-info">
<span class="comment-age">(16 Nov '16, 10:36)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="52992"></span>
<div id="comment-52992" class="comment">
<div id="post-52992-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>I came across map of India so I was able to see half map of India ie. South side of India clearly and the upper half of the India ie. the north India or China. It only showed up white tiles. And when I zoom further to that white portion of India to more depth the tiles were working fine bu at low depth it shows white tiles.</p>
</div>
<div id="comment-52992-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 08:23)</span> <span class="comment-user userinfo">Jasonwhite1091</span>
</div>
</div>
<span id="52993"></span>
<div id="comment-52993" class="comment">
<div id="post-52993-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>Pls comment on your question with a comment, not with an answer.</p>
</div>
<div id="comment-52993-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 08:26)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
<span id="52994"></span>
<div id="comment-52994" class="comment">
<div id="post-52994-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>So Simon what will be the solution to it according to you</p>
</div>
<div id="comment-52994-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 09:05)</span> <span class="comment-user userinfo">Jasonwhite1091</span>
</div>
</div>
<span id="52995"></span>
<div id="comment-52995" class="comment">
<div id="post-52995-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>See the answer I already provided.</p>
</div>
<div id="comment-52995-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 09:09)</span> <span class="comment-user userinfo">SimonPoole ♦</span>
</div>
</div>
</div>
<div id="comment-tools-52973" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-52973-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<div class="tabBar">

<span id="sort-top"></span>

<div class="headQuestions">

2 Answers:

</div>

</div>

<span id="52991"></span>

<div id="answer-container-52991" class="answer">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-52991-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-52991-score" class="post-score" title="current number of votes">
1
</div>
<span id="post-52991-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>You should likely be pre-rendering the low zoom tiles (0-12 at least) as these take a significant amount of time to render (longer than the timeout of your browser), see the section at the end of the page you linked too.</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>17 Nov '16, 07:52</strong></p>
<img src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="SimonPoole&#39;s gravatar image" />
<p><span>SimonPoole ♦</span><br />
<span class="score" title="44667 reputation points"><span>44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="SimonPoole has 209 accepted answers">18%</span></p>
</div>
</div>
<div id="comments-container-52991" class="comments-container">
<span id="52996"></span>
<div id="comment-52996" class="comment">
<div id="post-52996-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>If I am pre-rendering the low zoom tiles won't that be with the case same apply for other areas which are available can be seen. But this problem is occurring for some areas on at certain zoom level only but not for all</p>
</div>
<div id="comment-52996-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 09:29)</span> <span class="comment-user userinfo">Jasonwhite1091</span>
</div>
</div>
<span id="53010"></span>
<div id="comment-53010" class="comment">
<div id="post-53010-score" class="comment-score">
&#10;</div>
<div class="comment-text">
<p>"How fast renderd responds to you" depending on lots of different things, including how many threads you've got already busy rendering tiles and whether there's a queue of stuff to be rendered ahead of what you've just tried to load. It also depends (a lot) on the amount of data in a tile.</p>
<p>The detail on what renderd is doing is usually written to /var/log/syslog - in there you can see (by looking at "START TILE" and "DONE TILE" lines what else it was doing at the time, and where the tile was.</p>
</div>
<div id="comment-53010-info" class="comment-info">
<span class="comment-age">(17 Nov '16, 21:47)</span> <span class="comment-user userinfo">SomeoneElse ♦</span>
</div>
</div>
</div>
<div id="comment-tools-52991" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-52991-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<span id="53246"></span>

<div id="answer-container-53246" class="answer answered-by-owner">

<table style="width:100%;">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="width: 30px; vertical-align: top"><div class="vote-buttons">
<span id="post-53246-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span>
<div id="post-53246-score" class="post-score" title="current number of votes">
0
</div>
<span id="post-53246-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span>
</div></td>
<td><div class="item-right">
<div class="answer-body">
<p>Now I started configuring tile server for planet on a new machine using the same instructions so while I executed the following command :</p>
<pre><code>osm2pgsql --slim -C 32000 --number-processes 4 /home/osm/planet-latest.osm.pbf</code></pre>
<p>Now while osm2pgsql is processing it gave following error and is still continuing to process further as:</p>
<p><code>Processing: Node(3571919k 181.5k/s) Way(373048k 9.58k/s) Relation(166890 6.83/s) Standard exception processing way_id 255785: topologyException:side location conflict at 2.13239e+06 6.90709e+06 Processing: Node(3571919k 181.5k/s) Way(373048k 9.58k/s) Relation(1485570 11.86/s) Standard exception processing way_id 2563291: topologyException:side location conflict at 2.0772e+06 5.55411e+06 Processing: Node(3571919k 181.5k/s) Way(373048k 9.58k/s) Relation(3404650 15.65/s)</code></p>
<p>So are these errors fine while configuring a new tile server for planet?</p>
</div>
<div class="answer-controls post-controls">
&#10;</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p>answered <strong>05 Dec '16, 10:01</strong></p>
<img src="https://secure.gravatar.com/avatar/78879ca1108e4678322460c818621e39?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="Jasonwhite1091&#39;s gravatar image" />
<p><span>Jasonwhite1091</span><br />
<span class="score" title="41 reputation points">41</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="Jasonwhite1091 has no accepted answers">0%</span></p>
</div>
</div>
<div id="comments-container-53246" class="comments-container">
&#10;</div>
<div id="comment-tools-53246" class="comment-tools">
&#10;</div>
<div class="clear">
&#10;</div>
<div id="comment-53246-form-container" class="comment-form-container">
&#10;</div>
<div class="clear">
&#10;</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="paginator-container-left">

</div>

</hr>

</div>

</div>

