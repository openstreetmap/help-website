+++
type = "question"
title = "How to disable Selective-ACK"
description = '''Hi How can i disable Selective-ACK in windows 7 SackOpts in registry is set to 0x0 (0)  But when i look with TCP analyzer at http://www.speedguide.net/analyzer.php?DATA_OFFSET=40&amp;amp;TCP_Options_string=020401f001010402&amp;amp;IP_MTU_DISCOVER=1&amp;amp;WIN=65472&amp;amp;RWIN=65472&amp;amp;MSS=496&amp;amp;SCALE=0&amp;amp;TT...'''
date = "2015-08-03T05:05:00Z"
lastmod = "2015-08-03T14:35:00Z"
weight = 44764
keywords = [ "selective", "acks" ]
aliases = [ "/questions/44764" ]
osqa_answers = 0
osqa_accepted = false
+++

<div class="headNormal">

# [How to disable Selective-ACK](/questions/44764/how-to-disable-selective-ack)

</div>

<div id="main-body">

<div id="askform">

<table id="question-table" style="width:100%;"><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><tbody><tr class="odd"><td style="width: 30px; vertical-align: top"><div class="vote-buttons"><span id="post-44764-upvote" class="ajax-command post-vote up" rel="nofollow" title="I like this post (click again to cancel)"> </span><div id="post-44764-score" class="post-score" title="current number of votes">0</div><span id="post-44764-downvote" class="ajax-command post-vote down" rel="nofollow" title="I dont like this post (click again to cancel)"> </span> <span id="favorite-mark" class="ajax-command favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </span><div id="favorite-count" class="favorite-count"></div></div></td><td><div id="item-right"><div class="question-body"><p>Hi How can i disable Selective-ACK in windows 7</p><p>SackOpts in registry is set to 0x0 (0)</p><p>But when i look with TCP analyzer at <a href="http://www.speedguide.net/analyzer.php?DATA_OFFSET=40&amp;TCP_Options_string=020401f001010402&amp;IP_MTU_DISCOVER=1&amp;WIN=65472&amp;RWIN=65472&amp;MSS=496&amp;SCALE=0&amp;TTL=48&amp;TSOPT=0&amp;SACK_PERM=1&amp;IP_TOS=0&amp;IP=79.223.15.71&amp;timestamp=1438603387">http://www.speedguide.net/analyzer.php?DATA_OFFSET=40&amp;TCP_Options_string=020401f001010402&amp;IP_MTU_DISCOVER=1&amp;WIN=65472&amp;RWIN=65472&amp;MSS=496&amp;SCALE=0&amp;TTL=48&amp;TSOPT=0&amp;SACK_PERM=1&amp;IP_TOS=0&amp;IP=79.223.15.71&amp;timestamp=1438603387</a></p><p>it says SACKs: ON</p><p>« SpeedGuide.net TCP Analyzer Results » Tested on: 2015.08.03 08:03 IP address: 79.223.xx.xx Client OS/browser: Windows 7 (Firefox 39.0)</p><p>TCP options string: 020401f001010402 MSS: 496 MTU: 536 TCP Window: 65472 (multiple of MSS) RWIN Scaling: 0 bits<br />
Unscaled RWIN : 65472 Recommended RWINs: 65472, 130944, 261888, 523776, 1047552 BDP limit (200ms): 2619kbps (327KBytes/s) BDP limit (500ms): 1048kbps (131KBytes/s) MTU Discovery: ON TTL: 48 Timestamps: OFF SACKs: ON IP ToS: 00000000 (0)</p></div><div id="question-tags" class="tags-container tags"><span class="post-tag tag-link-selective" rel="tag" title="see questions tagged &#39;selective&#39;">selective</span> <span class="post-tag tag-link-acks" rel="tag" title="see questions tagged &#39;acks&#39;">acks</span></div><div id="question-controls" class="post-controls"></div><div class="post-update-info-container"><div class="post-update-info post-update-info-user"><p>asked <strong>03 Aug '15, 05:05</strong></p><img src="https://secure.gravatar.com/avatar/1f25e40fe3edb178d2c184618e84490c?s=32&amp;d=identicon&amp;r=g" class="gravatar" width="32" height="32" alt="NT%20Lucky&#39;s gravatar image" /><p><span>NT Lucky</span><br />
<span class="score" title="6 reputation points">6</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br />
<span class="accept_rate" title="Rate of the user&#39;s accepted answers">accept rate:</span> <span title="NT Lucky has no accepted answers">0%</span> </br></p></div></div><div id="comments-container-44764" class="comments-container"><span id="44765"></span><div id="comment-44765" class="comment"><div id="post-44765-score" class="comment-score">1</div><div class="comment-text"><p>Why on earth would you want to disable SACK? Is this another of those fancy snake oil network speed up tricks? :-)</p></div><div id="comment-44765-info" class="comment-info"><span class="comment-age">(03 Aug '15, 05:08)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="44770"></span><div id="comment-44770" class="comment"><div id="post-44770-score" class="comment-score"></div><div class="comment-text"><p>1: Don't do it. 2: Read <a href="https://support.microsoft.com/en-us/kb/2525390,">https://support.microsoft.com/en-us/kb/2525390,</a> it may be the reason.</p><p>I'd also be really interested to know why you would want to? With a link to Info, if you have one please.</p></div><div id="comment-44770-info" class="comment-info"><span class="comment-age">(03 Aug '15, 05:55)</span> <span class="comment-user userinfo">DarrenWright</span></div></div><span id="44783"></span><div id="comment-44783" class="comment"><div id="post-44783-score" class="comment-score"></div><div class="comment-text"><p>1 :D just do it ^^ 2. I already tried the hot fix but when i try to install it it says "This update is not intended for your computer" :/ F... Windows 7 , xp was so nice ^^</p><p>3.Yes it is " fancy snake oil network speed up tricks" dont know what it means but i cann imagine :D</p><p>I have a latency between 15-23 without changing something. After changes 7-15 latency on 2 pc with windows XP Sp3 and i want to get windows 7 working with same settings .I have no Packet loss or something else .And for me bandwidth is not even importent :D</p><p>Try these settings an check your latency ^^</p><p>MTU 250-500 default tcp receive window RWIN Scaling: 0 bits SACKs: off TTL: 64 TcpMaxDupAcks 0 TcpAckFrequency 1 TcpNodelay =1 TcpDel/AckTicks 0</p><p>If you just change MTU and TLL you will note better latency :D</p></div><div id="comment-44783-info" class="comment-info"><span class="comment-age">(03 Aug '15, 07:44)</span> <span class="comment-user userinfo">NT Lucky</span></div></div><span id="44785"></span><div id="comment-44785" class="comment"><div id="post-44785-score" class="comment-score"></div><div class="comment-text"><p>Then have you ever tried disabling flow control and IPv6? Or perhaps you can provide a trace so with a little bit of luck the root cause can be seen there. Or you really have an halfduplex network or at least an duplex mismatch as I mentionend parlier?</p></div><div id="comment-44785-info" class="comment-info"><span class="comment-age">(03 Aug '15, 08:01)</span> <span class="comment-user userinfo">Christian_R</span></div></div><span id="44786"></span><div id="comment-44786" class="comment"><div id="post-44786-score" class="comment-score"></div><div class="comment-text"><p>I highly doubt that. Any kind of measurement you're doing will be heavily biased except you're</p><p>1) using professional fiber optical, completely passive network taps</p><p>2) a dedicated professional network capture appliance with confirmed ns timestamp resolution.</p><p>3) using consistent tests with same size packets</p><p>If you measure latency without both 1) and 2) any measurements are not trustworthy. This may sound tough, but forget measurements taken on a normal PC, especially if it's the same PC you're running a client/game software on. You'll never get accurate results, so it's just a waste of time to do that ;-)</p></div><div id="comment-44786-info" class="comment-info"><span class="comment-age">(03 Aug '15, 08:05)</span> <span class="comment-user userinfo">Jasper ♦♦</span></div></div><span id="44788"></span><div id="comment-44788" class="comment not_top_scorer"><div id="post-44788-score" class="comment-score"></div><div class="comment-text"><p><span></span><span>@Jasper</span>: Of course I agree with you. The times in those traces are not much worth. But some other could perhaps be seen. (retransmissions, mtu things). It was more meant as a check and maybe there is something uncommon in that trace.</p></div><div id="comment-44788-info" class="comment-info"><span class="comment-age">(03 Aug '15, 08:33)</span> <span class="comment-user userinfo">Christian_R</span></div></div><span id="44790"></span><div id="comment-44790" class="comment not_top_scorer"><div id="post-44790-score" class="comment-score"></div><div class="comment-text"><p>Flow control and IPv6 are disabled and Networkadapter is 100Mbit fullduplex</p><p>Witch trace i can give u or what u need to know ? Christian_R</p><p>Jasper i have a lot of time ^^ to waste . I used WinMTR for for about 24h on differnt ips with mtu 1492 and 500 and averrage latency was about 8-12 ms better with low mtu</p></div><div id="comment-44790-info" class="comment-info"><span class="comment-age">(03 Aug '15, 09:05)</span> <span class="comment-user userinfo">NT Lucky</span></div></div><span id="44793"></span><div id="comment-44793" class="comment not_top_scorer"><div id="post-44793-score" class="comment-score"></div><div class="comment-text"><p><span></span><span>@NT Lucky</span>: First of all I have to repeat that I fully agree with Jasper. So I think we should start at the beginning if you like. What kind of latency you want to improve oneway or the twoway latency? And for what protocols icmp (ping) udp, tcp (time of an acknowledgement sent) or do you have a speciL application protocol that you use?</p></div><div id="comment-44793-info" class="comment-info"><span class="comment-age">(03 Aug '15, 09:51)</span> <span class="comment-user userinfo">Christian_R</span></div></div><span id="44798"></span><div id="comment-44798" class="comment not_top_scorer"><div id="post-44798-score" class="comment-score"></div><div class="comment-text"><p>Flow control and IPv6 are disabled already :/ Its 100Mbit Fullduplex</p></div><div id="comment-44798-info" class="comment-info"><span class="comment-age">(03 Aug '15, 12:15)</span> <span class="comment-user userinfo">NT Lucky</span></div></div><span id="44802"></span><div id="comment-44802" class="comment not_top_scorer"><div id="post-44802-score" class="comment-score"></div><div class="comment-text"><p>What protocol do you want to improve?</p></div><div id="comment-44802-info" class="comment-info"><span class="comment-age">(03 Aug '15, 13:42)</span> <span class="comment-user userinfo">Christian_R</span></div></div><span id="44806"></span><div id="comment-44806" class="comment not_top_scorer"><div id="post-44806-score" class="comment-score"></div><div class="comment-text"><p>I think you want to improve some kind of TCP Protocol, to gain a little bit more realtime behaviour. If I am right, then you normally can forget the most of your tunings from my point of view. To reach this goal(TCP Realtime Tuning) the follwings parameters can be interesting for you:</p><ul><li>MTU as high as no fragmentation is needed see here: <a href="https://ask.wireshark.org/questions/44791/http-408-timeout-from-particular-ip">https://ask.wireshark.org/questions/44791/http-408-timeout-from-particular-ip</a></li><li>Disabling Nagle</li><li>and Ack every packets at once</li><li>You really should enable SACK</li><li>Disabling unused Protocols can be ok (You have to test)</li><li>MTU and TTL have in a 100 MBit/s FDX environment nothing to do with latency. For example: If only 300 Bytes have to transmited then the Frame is only as long as needed and the next Frame will follow after a really short InterFrameGap . So if you want to tune this. Then you could try the Adaptive Interframe Gap <a href="https://communities.intel.com/community/wired/blog/2011/01/13/parameter-talk-adaptive-inter-frame-spacing">https://communities.intel.com/community/wired/blog/2011/01/13/parameter-talk-adaptive-inter-frame-spacing</a> On the Other Hand if 1460 Bytes need to be transmitted than it faster then an MTU with just 576 Bytes or lower.</li></ul><p>And if you take a trace and you see less then 1% Retransmissions then it is ok. But if you see a higher value then you should figure out why it is so.</p><p>And all this can figrued out in a proffesional way only with a reproducable test results/concept and professional trustworthy capture equipment.</p><p>And a pingtime has not much to say, if it is not the application you want to tune.</p><p>Hope this Infos will help you or at least some other person who read this thread.</p></div><div id="comment-44806-info" class="comment-info"><span class="comment-age">(03 Aug '15, 14:35)</span> <span class="comment-user userinfo">Christian_R</span></div></div></div><div id="comment-tools-44764" class="comment-tools"><span class="comments-showing"> showing 5 of 11 </span> <a href="#" class="show-all-comments-link">show 6 more comments</a></div><div class="clear"></div><div id="comment-44764-form-container" class="comment-form-container"></div><div class="clear"></div></div></td></tr></tbody></table>

</div>

</div>

